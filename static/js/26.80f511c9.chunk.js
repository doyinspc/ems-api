(this.webpackJsonpmesl=this.webpackJsonpmesl||[]).push([[26],{1342:function(e,t,a){"use strict";a.r(t);var n=a(698),r=a(3),c=a.n(r),l=a(217),o=a(738),u=a(697),s=a(754),i=a(749),m=a(708),d=Object(l.b)((function(e){return{result:e.studentReducer.result,user:e.userReducer}}),{searchStudent:m.e})((function(e){var t=Object(r.useState)(),a=Object(n.a)(t,2),l=a[0],o=a[1],s=Object(r.useState)([]),i=Object(n.a)(s,2),m=i[0],d=i[1];Object(r.useEffect)((function(){void 0!==e.result&&Array.isArray(e.result)?d(e.result):d([])}),[e.result]),Object(r.useEffect)((function(){if(void 0!==l&&l.length>2){var t={data:JSON.stringify({search:l,schoolid:e.user.activeschool.id}),cat:"selected",table:"studentsearch",narration:"get all schools for access control"};e.searchStudent(t)}else d([])}),[l,e.user.activeschool.id]);var f=m.map((function(t,a){return c.a.createElement(u.fb,{key:a,color:"secondary",onClick:function(){return e.studentz(t)},active:!0},c.a.createElement(u.wb,null,c.a.createElement(u.u,{xs:"2",className:"m-2"},c.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api/"+e.photo,height:"30px",alt:"profile-image",class:"profile",onError:function(e){e.target.onerror=null,e.target.src="/ems/icons/profile_1.png"}})),c.a.createElement(u.u,{style:{color:"black"}},c.a.createElement("strong",{style:{color:"black"}},e.name),c.a.createElement("br",null),c.a.createElement("small",{style:{color:"black"}},e.employment_no))))}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.wb,{xs:12},c.a.createElement(u.u,{xs:12},c.a.createElement(u.K,null,c.a.createElement(u.S,{size:"md",className:"w-100",value:l,onChange:function(e){return o(e.target.value)},placeholder:" Student search..."})),c.a.createElement(u.j,{className:"mt-1",style:{display:"block",position:"absolute",zIndex:"101"}},c.a.createElement(u.eb,{style:{width:"300px"},onMouseLeave:function(){return d([])}},f)))))})),f=a(699),p=Object(l.b)((function(e){return{user:e.userReducer,fees:e.feeReducer.fees,accounts:e.accountReducer.accounts,users:e.userReducer,studentfee:e.studentfeeReducer.studentsinglefees}}),{registerStudentfee:o.f,updateStudentfee:o.h,getAccounts:s.c,getFees:i.c,getStudentfeesSingle:o.e})((function(e){e.sid;var t=Object(r.useState)(null),a=Object(n.a)(t,2),l=a[0],o=a[1],s=Object(r.useState)(null),i=Object(n.a)(s,2),m=i[0],p=i[1],E=Object(r.useState)(null),h=Object(n.a)(E,2),y=h[0],b=h[1],g=Object(r.useState)(null),v=Object(n.a)(g,2),S=(v[0],v[1],Object(r.useState)(0)),O=Object(n.a)(S,2),j=O[0],N=O[1],w=Object(r.useState)(),x=Object(n.a)(w,2),k=x[0],A=x[1],C=Object(r.useState)(),F=Object(n.a)(C,2),J=F[0],P=F[1],R=Object(r.useState)(),z=Object(n.a)(R,2),T=z[0],I=z[1],K=Object(r.useState)(),D=Object(n.a)(K,2),_=D[0],U=D[1];Object(r.useEffect)((function(){if(parseInt(e.rowid)>0){var t=e.data;o(t.id),p(t.studentid),p(t.schoolid),N(t.amount),b(t.termid),A(t.accountid),I(t.datepaid)}}),[e.rowid]),Object(r.useEffect)((function(){if(void 0!==e.user.activeschool&&e.user.activeschool.hasOwnProperty("id")&&parseInt(e.user.activeschool.id)>0){var t={data:JSON.stringify({is_active:0}),cat:"selected",table:"accounts",narration:"get accounts"};e.getAccounts(t);var a={data:JSON.stringify({is_active:0}),cat:"selected",table:"fees",narration:"get feess"};e.getFees(a)}}),[e.user.activeschool]),Object(r.useEffect)((function(){if(void 0!==e.user.activeterm&&e.user.activeterm.hasOwnProperty("id")&&parseInt(e.user.activeterm.id)>0&&void 0!==_&&_.hasOwnProperty("id")&&parseInt(_.id)>0){var t={data:JSON.stringify({sessionid:e.user.activeterm.sessionid,studentid:_.id}),cat:"studentfees",table:"studentfees",narration:"get studentfees"};e.getStudentfeesSingle(t)}}),[e.user.activeterm,_]);var V=e.user.dropdowns&&Array.isArray(e.user.dropdowns)?e.user.dropdowns:[[],[]];V.length>0&&V[0].map((function(e,t){return c.a.createElement("option",{key:t,value:e.termid},e.name)}));var Y=e.fees&&void 0!==e.fees&&Array.isArray(e.fees)?e.fees.filter((function(e){return null!==e&&void 0!==e})).map((function(e,t){return c.a.createElement("option",{key:t,value:e.id},e.name)})):"",M=e.accounts&&void 0!==e.accounts&&Array.isArray(e.accounts)?e.accounts.filter((function(e){return null!==e&&void 0!==e})).map((function(e,t){return c.a.createElement("option",{key:t,value:e.id},e.name)})):"",X=_||"",W=X.name,B=X.photo;return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.wb,{className:"align-center mx-auto d-flex ",sm:12},c.a.createElement(u.u,{sm:"6",md:"6",className:"mx-auto"},c.a.createElement(u.j,null,c.a.createElement(u.n,null,c.a.createElement("h4",null,"PAY FEES : ",parseInt(l)>0?"Edit":"Add")),c.a.createElement(u.k,null,c.a.createElement(u.J,{action:"",method:"post",className:"form-horizontal"},c.a.createElement(u.K,{row:!0},c.a.createElement(u.u,{md:"3"},c.a.createElement(u.cb,{htmlFor:"studentid"},"Student",c.a.createElement("i",{className:"text-danger"},"*"))),c.a.createElement(u.u,{xs:"12",md:"9"},c.a.createElement(d,{studentz:function(e){return U(t=e),void p(t.id);var t}}))),c.a.createElement(u.K,{row:!0},c.a.createElement(u.u,{md:"3"},c.a.createElement(u.cb,{htmlFor:"feeid"},"Fee",c.a.createElement("i",{className:"text-danger"},"*"))),c.a.createElement(u.u,{xs:"12",md:"9"},c.a.createElement(u.xb,{custom:!0,id:"feeid",onChange:function(e){P(e.target.value)},placeholder:"Select Fee"},c.a.createElement("option",null),Y))),c.a.createElement(u.K,{row:!0},c.a.createElement(u.u,{md:"3"},c.a.createElement(u.cb,{htmlFor:"accountid"},"Account")),c.a.createElement(u.u,{xs:"12",md:"9"},c.a.createElement(u.xb,{custom:!0,id:"accountid",placeholder:"Select Account",onChange:function(e){A(e.target.value)}},c.a.createElement("option",null),M))),c.a.createElement(u.K,{row:!0},c.a.createElement(u.u,{md:"3"},c.a.createElement(u.cb,{htmlFor:"amount"},"Date Paid")),c.a.createElement(u.u,{xs:"12",md:"9"},c.a.createElement(u.S,{id:"date_paid",type:"date",defaultValue:T,placeholder:"",onChange:function(e){return I(e.target.value)}}))),c.a.createElement(u.K,{row:!0},c.a.createElement(u.u,{md:"3"},c.a.createElement(u.cb,{htmlFor:"amount"},"Amount Paid")),c.a.createElement(u.u,{xs:"12",md:"9"},c.a.createElement(u.S,{id:"amount",type:"text",defaultValue:j,placeholder:"0000.00",onChange:function(e){return N(e.target.value)}}))))),c.a.createElement(u.l,null,c.a.createElement(u.f,{block:!0,type:"submit",size:"sm",color:"primary",onClick:function(){var t=void 0!==e.user&&e.user.dropdowns&&Array.isArray(e.user.dropdowns)?e.user.dropdowns:[[],[]],a="",n=0;t.length>0&&(n=(a=t[0].filter((function(e){return e.termid===y})))&&Array.isArray(a)&&a.length>0?a[0].sessionid:null);var r=new FormData;r.append("studentid",m),r.append("amount",j),r.append("termid",y),r.append("datepaid",T),r.append("sessionid",n),r.append("schoolid",e.user.activeschool.id),r.append("accountid",k),r.append("feeid",J),r.append("table","studentfees"),l&&parseInt(l)>0?(r.append("id",l),r.append("cat","updatefee"),r.append("narration","Fees Payment Update"),e.updateStudentfee(r)):(r.append("cat","insertfee"),r.append("narration","Fees Payment"),r.append("staffid",e.user.mid),e.registerStudentfee(r))}},c.a.createElement(f.a,{name:"cil-scrubber"})," Submit"),c.a.createElement(u.f,{block:!0,type:"button",size:"sm",color:"danger",onClick:function(){return e.handleClose()}},c.a.createElement(f.a,{name:"cil-ban"})," Close"),c.a.createElement("br",null)))),c.a.createElement(u.u,{sm:"6",md:"6",className:"mx-auto"},c.a.createElement(u.j,{className:"h-100"},c.a.createElement(u.k,null,c.a.createElement(u.wb,{xs:12,style:{backgroundColor:"red"},className:"text-center d-flex justify-contents-center align-items-center m-auto"},c.a.createElement(u.u,null,c.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api/"+B,height:"100px",alt:"profile-image",onError:function(e){e.target.onerror=null,e.target.src="/icons/profile_1.png"}})),c.a.createElement(u.u,null,c.a.createElement("h4",{style:{color:"white"}},W))),c.a.createElement(u.wb,{className:"text-center d-flex m-auto p-auto align-items-center"},c.a.createElement("table",null,e.studentfee.map((function(e,t){var a=new Intl.NumberFormat(void 0,{style:"currency",currency:"NGR"});return c.a.createElement("tr",{key:t},c.a.createElement("td",null,e.datepaid),c.a.createElement("td",null,e.feename),c.a.createElement("td",null,a.format(e.amount)))})))),c.a.createElement(u.wb,null))))))})),E=a(24),h=Object(l.b)((function(e){return{studentfees:e.studentfeeReducer}}),{getStudentfees:o.d,getStudentfee:o.b,registerStudentfee:o.f,updateStudentfee:o.h,deleteStudentfee:o.a})((function(e){Object(E.g)();var t=(e.data&&Array.isArray(e.data)?e.data.filter((function(e){return null!==e||void 0!==e})):[]).filter((function(e){return null!=e})).map((function(t,a){return c.a.createElement("tr",{key:a,style:{padding:"2px"}},c.a.createElement("td",{style:{padding:"2px"},className:"text-center"},a+1),c.a.createElement("td",{style:{padding:"2px"}},t.datepaid),c.a.createElement("td",{style:{padding:"2px"}},t.studentname),c.a.createElement("td",{style:{padding:"2px"},className:"text-center"},t.amount),c.a.createElement("td",{style:{padding:"2px"},className:"text-center"},t.accountname),c.a.createElement("td",{style:{padding:"2px"},className:"text-center"},t.staffname),c.a.createElement("td",{style:{padding:"2px"},className:"text-center"},!0===e.editer?c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return e.onEdit(t)}},c.a.createElement("i",{className:"fa fa-edit ml-2 px-2"})),c.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return e.onDelete(t)}},c.a.createElement("i",{className:"fa fa-remove ml-2 px-2 text-danger"}))):""))}));return c.a.createElement("table",{className:"table table-hover table-dark table-outline mb-0  d-sm-table"},c.a.createElement("thead",{className:"thead-light"},c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",title:"Transaction ID"},"TID"),c.a.createElement("th",null,c.a.createElement("i",{className:"fa fa-list"})," Date Paid"),c.a.createElement("th",null,c.a.createElement("i",{className:"fa fa-list"})," Students"),c.a.createElement("th",{className:"text-center"}," ",c.a.createElement("i",{className:"fa fa-text"}),"Amount"),c.a.createElement("th",{className:"text-center"}," ",c.a.createElement("i",{className:"fa fa-text"}),"Account"),c.a.createElement("th",{className:"text-center"}," ",c.a.createElement("i",{className:"fa fa-text"}),"Recorded By"),!0===e.editer||void 0!==e.submenu&&e.submenu.length>0?c.a.createElement("th",{className:"text-center"},c.a.createElement("i",{className:"fa fa-gear"})," Action"):"")),c.a.createElement("tbody",null,t))})),y=(a(704),a(759));t.default=Object(l.b)((function(e){return{studentfees:e.studentfeeReducer,user:e.userReducer}}),{getStudentfees:o.d,updateStudentfee:o.h,deleteStudentfee:o.a})((function(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),l=a[0],o=a[1],s=Object(r.useState)(""),i=Object(n.a)(s,2),m=i[0],d=i[1],f=Object(r.useState)({}),E=Object(n.a)(f,2),b=E[0],g=E[1],v=Object(r.useState)(),S=Object(n.a)(v,2),O=(S[0],S[1],Object(r.useState)()),j=Object(n.a)(O,2);j[0],j[1];Object(r.useEffect)((function(){if(void 0!==e.user.activeterm&&e.user.activeterm.hasOwnProperty("id")&&parseInt(e.user.activeterm.id)>0){var t={data:JSON.stringify({sessionid:e.user.activeterm.sessionid}),cat:"studentfees",table:"studentfees",narration:"get studentfees"};e.getStudentfees(t)}}),[e.user.activeterm]);var N=e.studentfees.studentfees&&Array.isArray(e.studentfees.studentfees)?e.studentfees.studentfees.filter((function(e){return null!==e||void 0!==e})):[];return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.v,{show:l},c.a.createElement(p,{id:m,data:b,onReset:function(){d(null),g({})},onClose:function(){o(!1)}})),c.a.createElement(u.wb,null,c.a.createElement(u.u,null,c.a.createElement(u.j,null,c.a.createElement(y.a,null),c.a.createElement(u.n,null,c.a.createElement(u.wb,null,c.a.createElement(u.u,{xs:2,sm:"1"},c.a.createElement("img",{src:"/ems"+e.icon,height:"40px"})),c.a.createElement(u.u,{xs:6,sm:"7"},c.a.createElement("h4",{id:"traffic",className:"card-title mb-0"},e.title),c.a.createElement("div",{className:"small text-muted"},void 0!=e.school&&e.school.hasOwnProperty("name")&&e.school.name?e.school.name:c.a.createElement("i",null,"No school active"))),c.a.createElement(u.u,{xs:4,sm:"4",className:"d-md-block"},c.a.createElement(u.f,{"data-target":"#formz","data-toggle":"collapse",color:"primary",onClick:function(){o(!l)},className:"float-right"},c.a.createElement("i",{className:"fa fa-plus"}))))),c.a.createElement(u.k,{className:"table-responsive"},c.a.createElement(h,{data:N,title:"Fees Payment",editer:!0,onEdit:function(e){return g(e),void o(!0)},onDelete:function(e){}}))))))}))},698:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(219);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,c=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(u){r=!0,c=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw c}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},704:function(e,t,a){"use strict";var n=a(3),r=a.n(n),c=a(697),l=a(24);t.a=function(e){var t=Object(l.g)();return r.a.createElement(c.n,null,r.a.createElement(c.wb,null,r.a.createElement(c.u,{xs:2,sm:"1"},r.a.createElement("img",{src:"/ems"+e.icon,height:"40px"})),r.a.createElement(c.u,{xs:6,sm:"7"},r.a.createElement("h4",{id:"traffic",className:"card-title mb-0"},e.title),r.a.createElement("div",{className:"small text-muted"},void 0!=e.school&&e.school.hasOwnProperty("name")&&e.school.name?e.school.name:r.a.createElement("i",null,"No school active"))),r.a.createElement(c.u,{xs:4,sm:"4",className:"d-md-block"},r.a.createElement(c.g,{className:"float-right"},r.a.createElement(c.Rb,{content:"Click to go back"},r.a.createElement(c.f,{color:"secondary",onClick:function(){return t.goBack()}},r.a.createElement("i",{className:"fa fa-backward"}))),r.a.createElement(c.Rb,{content:"Add new record"},r.a.createElement(c.f,{disabled:!1===e.editer,"data-target":"#formz","data-toggle":"collapse",color:"primary",onClick:function(){return e.toggle()},className:"float-right"},r.a.createElement("i",{className:"fa fa-plus"})))))))}},705:function(e,t,a){"use strict";a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return s})),a.d(t,"g",(function(){return i})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return f})),a.d(t,"f",(function(){return p})),a.d(t,"h",(function(){return E}));var n=a(700),r=a.n(n),c=a(33),l=a(6),o=l.c,u=function(e){return function(t,a){e.token=l.e,e.table="staffs",t({type:c.k}),r.a.get(o,{params:e},l.l).then((function(e){t({type:c.h,payload:e.data})})).catch((function(e){t({type:c.l,payload:e})}))}},s=function(e){return function(t,a){e.token=l.e,t({type:c.k}),r.a.get(o,{params:e},l.l).then((function(e){t({type:c.f,payload:e.data})})).catch((function(e){t({type:c.l,payload:e})}))}},i=function(e){return function(t,a){t({type:c.k}),r.a.get(o,{params:e},l.l).then((function(e){t({type:c.j,payload:e.data})})).catch((function(e){t({type:c.l,payload:e})}))}},m=function(e){return function(t,a){t({type:c.k}),r.a.get(o,{params:e},l.l).then((function(e){t({type:c.g,payload:e.data})})).catch((function(e){t({type:c.l,payload:e})}))}},d=function(e){return function(t,a){t({type:c.i,payload:e})}},f=function(e){return function(t,a){r.a.POST(o,{params:e},l.l).then((function(a){t({type:c.d,payload:e.id})})).catch((function(e){t({type:c.c,payload:e})}))}},p=function(e){return function(t){r.a.post(o,e,l.m).then((function(e){t({type:c.n,payload:e.data.data})})).catch((function(e){t({type:c.m,payload:e})}))}},E=function(e){return function(t,a){r.a.post(o,e,l.m).then((function(e){t({type:c.p,payload:e.data.data})})).catch((function(e){t({type:c.o,payload:e})}))}}},708:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"e",(function(){return s})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return m})),a.d(t,"d",(function(){return d})),a.d(t,"f",(function(){return f}));var n=a(700),r=a.n(n),c=a(37),l=a(6),o=l.b,u=function(e){return function(t,a){e.token=l.e,e.table="students",t({type:c.j}),r.a.get(o,{params:e},l.l).then((function(e){t({type:c.g,payload:e.data})})).catch((function(e){t({type:c.k,payload:e})}))}},s=function(e){return function(t,a){t({type:c.j}),r.a.get(o,{params:e},l.l).then((function(e){t({type:c.i,payload:e.data})})).catch((function(e){t({type:c.k,payload:e})}))}},i=function(e){return function(t,a){t({type:c.h,payload:e})}},m=function(e){return function(t,a){r.a.POST(o,{params:e},l.l).then((function(a){t({type:c.d,payload:e.id})})).catch((function(e){t({type:c.c,payload:e})}))}},d=function(e){return function(t){r.a.post(o,e,l.m).then((function(e){t({type:c.m,payload:e.data.data})})).catch((function(e){t({type:c.l,payload:e})}))}},f=function(e){return function(t,a){r.a.post(o,e,l.m).then((function(e){t({type:c.o,payload:e.data.data})})).catch((function(e){t({type:c.n,payload:e})}))}}},738:function(e,t,a){"use strict";a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return i})),a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return d})),a.d(t,"f",(function(){return f})),a.d(t,"h",(function(){return p})),a.d(t,"g",(function(){return E}));var n=a(700),r=a.n(n),c=a(34),l=a(6),o=l.b,u=function(e){return function(t,a){e.token=l.e,t({type:c.j}),r.a.get(o,{params:e},l.l).then((function(e){t({type:c.f,payload:e.data})})).catch((function(e){t({type:c.k,payload:e})}))}},s=function(e){return function(t,a){e.token=l.e,t({type:c.j}),r.a.get(o,{params:e},l.l).then((function(e){t({type:c.i,payload:e.data})})).catch((function(e){t({type:c.k,payload:e})}))}},i=function(e){return function(t,a){e.token=l.e,t({type:c.j}),r.a.get(o,{params:e},l.l).then((function(e){t({type:c.h,payload:e.data})})).catch((function(e){t({type:c.k,payload:e})}))}},m=function(e){return function(t,a){t({type:c.g,payload:e})}},d=function(e,t){return function(a,n){r.a.post(o,e,l.m).then((function(e){a({type:c.d,payload:t})})).catch((function(e){a({type:c.c,payload:e})}))}},f=function(e){return function(t){r.a.post(o,e,l.m).then((function(e){t({type:c.m,payload:e.data.data})})).catch((function(e){t({type:c.l,payload:e})}))}},p=function(e){return function(t,a){r.a.post(o,e,l.m).then((function(e){t({type:c.r,payload:e.data.data})})).catch((function(e){t({type:c.q,payload:e})}))}},E=function(e){return function(t,a){t({type:c.o}),r.a.post(o,e,l.m).then((function(e){t({type:c.p,payload:e.data.data})})).catch((function(e){t({type:c.n,payload:e})}))}}},746:function(e,t,a){"use strict";var n=a(698),r=a(3),c=a.n(r),l=(a(217),a(697)),o=a(699),u=a(218),s=a(747),i=a(748);t.a=function(e){var t=Object(r.useState)({}),a=Object(n.a)(t,2),m=a[0],d=a[1],f=Object(r.useState)({}),p=Object(n.a)(f,2),E=p[0],h=p[1],y=Object(r.useState)(0),b=Object(n.a)(y,2),g=b[0],v=b[1],S=e.dropdowns&&Array.isArray(e.dropdowns)&&e.dropdowns.length>4?e.dropdowns:[[],[],[],[]],O="",j="",N="";S.length>0&&(O=S[0].map((function(e,t){return c.a.createElement("option",{key:t,value:e.termid},e.name)})),j=S[1].map((function(e,t){return c.a.createElement("option",{key:t,value:e.id},e.name)})),S[2].map((function(e,t){return c.a.createElement("option",{key:t,value:e.id},e.name)})),N=S[0].map((function(e,t){return c.a.createElement("option",{key:t,value:JSON.stringify(e)},e.name)})));var w=Array.isArray(e.schools)?e.schools.map((function(e,t){return c.a.createElement("option",{value:JSON.stringify(e)},e.name)})):c.a.createElement("option",null);return c.a.createElement(c.a.Fragment,null,c.a.createElement(l.wb,null,c.a.createElement(l.u,{lg:12},c.a.createElement(l.j,null,c.a.createElement(l.n,null,c.a.createElement("h4",null,"Quick Menu")),c.a.createElement(l.k,null,c.a.createElement(l.w,null,c.a.createElement(l.wb,null,c.a.createElement(l.u,null,c.a.createElement(l.wb,{className:"d-block"},c.a.createElement("strong",null,"Change")),c.a.createElement(l.wb,null,c.a.createElement(l.u,{xs:"12",sm:"12",md:"6"},c.a.createElement(l.J,null,c.a.createElement(l.K,{row:!0},c.a.createElement(l.V,null,c.a.createElement(l.X,null,c.a.createElement(l.Y,null,"Change School")),c.a.createElement(l.xb,{id:"input3-group2",name:"input3-group2",placeholder:"Search Staff",onChange:function(e){return d(e.target.value)}},w),c.a.createElement(l.W,null,c.a.createElement(l.f,{onClick:function(){e.changeSchool(JSON.parse(m))},type:"button",color:"secondary"},c.a.createElement("i",{className:"fa fa-thumbs-up"}))))))),c.a.createElement(l.u,{xs:"12",sm:"12",md:"6"},c.a.createElement(l.J,null,c.a.createElement(l.K,{row:!0},c.a.createElement(l.V,null,c.a.createElement(l.X,null,c.a.createElement(l.Y,null,"Change Term")),c.a.createElement(l.xb,{onChange:function(e){return h(e.target.value)},id:"input3-group2",name:"input3-group2",placeholder:"Search Staff"},N),c.a.createElement(l.W,null,c.a.createElement(l.f,{onClick:function(){e.changeTerm(JSON.parse(E))},type:"button",color:"secondary"},c.a.createElement("i",{className:"fa fa-thumbs-up"})))))))))),c.a.createElement(l.wb,null,c.a.createElement(l.u,null,c.a.createElement(l.wb,{className:"d-block"},c.a.createElement("strong",null,"Navigate")),c.a.createElement(l.J,{action:"",method:"post"},c.a.createElement(l.wb,{xs:12},c.a.createElement(l.u,{xs:"12",sm:"12",md:"12"},c.a.createElement(l.wb,null,c.a.createElement(l.u,{xs:"12",sm:"4",md:"5",lg:"5",className:"ml-0"},c.a.createElement(l.K,{row:!0},c.a.createElement(l.V,null,c.a.createElement(l.X,null,c.a.createElement(l.Y,null,"Select Term")),c.a.createElement(l.xb,{custom:!0,size:"md",name:"term",id:"term",onChange:function(e){return h(e.target.value)}},c.a.createElement("option",{value:"0"},"Select Term"),O)))),c.a.createElement(l.u,{xs:"12",sm:"4",md:"5",lg:"5",className:"ml-0"},c.a.createElement(l.K,{row:!0},c.a.createElement(l.V,null,c.a.createElement(l.X,null,c.a.createElement(l.Y,null,"Select Class")),c.a.createElement(l.xb,{custom:!0,size:"md",name:"clasz",id:"clasz",onChange:function(e){return v(e.target.value)}},c.a.createElement("option",{value:"0"},"Select Class"),j)))),c.a.createElement(l.u,{xs:"12",sm:"3",md:"2",lg:"2",className:"ml-0"},c.a.createElement(l.K,{className:""},c.a.createElement(u.b,{type:"submit",className:"btn btn-success btn-block btn-sm",size:"sm",color:"primary",to:"/studentclasses/".concat(E,"/").concat(g)},c.a.createElement(o.a,{name:"cil-scrubber"})," Load !"))))))))),c.a.createElement(l.wb,null,c.a.createElement(l.u,null,c.a.createElement(l.wb,{className:"d-block"},c.a.createElement("strong",null,"Search")),c.a.createElement(l.wb,{className:"pr-2",xs:12},c.a.createElement(l.u,{md:"6"},c.a.createElement(s.a,null)),c.a.createElement(l.u,{className:"pr-2",md:"6"},c.a.createElement(i.a,null)))))))))))}},747:function(e,t,a){"use strict";var n=a(698),r=a(3),c=a.n(r),l=a(217),o=a(705),u=a(697);t.a=Object(l.b)((function(e){return{result:e.staffReducer.result,user:e.userReducer}}),{searchStaff:o.g})((function(e){var t=Object(r.useState)(),a=Object(n.a)(t,2),l=a[0],o=a[1],s=Object(r.useState)([]),i=Object(n.a)(s,2),m=i[0],d=i[1];Object(r.useEffect)((function(){void 0!==e.result&&Array.isArray(e.result)?d(e.result):d([])}),[e.result]),Object(r.useEffect)((function(){if(void 0!==l&&l.length>2){var t={data:JSON.stringify({search:l,schoolid:e.user.activeschool.id}),cat:"selected",table:"staffsearch",narration:"get all schools for access control"};e.searchStaff(t)}else d([])}),[l,e.user.activeschool.id]);var f=m.map((function(e,t){return c.a.createElement(u.fb,{key:t,target:"_blank",className:"m-0",href:"#/staffs/".concat(e.id),active:!0},c.a.createElement(u.wb,null,c.a.createElement(u.u,{xs:"2",className:"m-0"},c.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api/"+e.photo,style:{height:"40px",width:"40px"},height:"30px",alt:"profile-image",class:"profile",onError:function(e){e.target.onerror=null,e.target.src="/ems/icons/profile_1.png"}})),c.a.createElement(u.u,null,c.a.createElement("strong",null,e.name),c.a.createElement("br",null),c.a.createElement("small",null,e.employment_no))))}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.wb,{xs:12},c.a.createElement(u.u,null,c.a.createElement(u.K,{row:!0},c.a.createElement(u.S,{size:"md",className:"w-100",value:l,onChange:function(e){return o(e.target.value)},placeholder:" Staff search..."})),c.a.createElement(u.j,{className:"mt-0",style:{display:"block",position:"absolute",zIndex:"101"}},c.a.createElement(u.eb,{style:{width:"300px"}},f)))))}))},748:function(e,t,a){"use strict";var n=a(698),r=a(3),c=a.n(r),l=a(217),o=a(708),u=a(697);t.a=Object(l.b)((function(e){return{result:e.studentReducer.result,user:e.userReducer}}),{searchStudent:o.e})((function(e){var t=Object(r.useState)(),a=Object(n.a)(t,2),l=a[0],o=a[1],s=Object(r.useState)([]),i=Object(n.a)(s,2),m=i[0],d=i[1];Object(r.useEffect)((function(){void 0!==e.result&&Array.isArray(e.result)?d(e.result):d([])}),[e.result]),Object(r.useEffect)((function(){if(void 0!==l&&l.length>2){var t={data:JSON.stringify({search:l,schoolid:e.user.activeschool.id}),cat:"selected",table:"studentsearch",narration:"get all schools for access control"};e.searchStudent(t)}else d([])}),[l,e.user.activeschool.id]);var f=m.map((function(e,t){return c.a.createElement(u.fb,{key:t,href:"/students/".concat(e.id),active:!0},c.a.createElement("strong",null,e.name),c.a.createElement("br",null),c.a.createElement("small",null,e.admission_no))}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.wb,{xs:12},c.a.createElement(u.u,null,c.a.createElement(u.K,{row:!0},c.a.createElement(u.S,{size:"md",className:"w-100",value:l,onChange:function(e){return o(e.target.value)},placeholder:" Student search..."})),c.a.createElement(u.j,{className:"mt-0",style:{display:"block",position:"absolute",zIndex:"101"}},c.a.createElement(u.eb,{style:{width:"300px"}},f)))))}))},749:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return m})),a.d(t,"e",(function(){return d}));var n=a(700),r=a.n(n),c=a(54),l=a(6),o=l.b,u=function(e){return function(t,a){e.token=l.e,e.table="fees",t({type:c.h}),r.a.get(o,{params:e},l.l).then((function(e){t({type:c.f,payload:e.data})})).catch((function(e){t({type:c.i,payload:e})}))}},s=function(e){return function(t,a){t({type:c.g,payload:e})}},i=function(e){return function(t,a){r.a.POST(o,{params:e},l.l).then((function(a){t({type:c.d,payload:e.id})})).catch((function(e){t({type:c.c,payload:e})}))}},m=function(e){return function(t){r.a.post(o,e,l.m).then((function(e){t({type:c.k,payload:e.data.data})})).catch((function(e){t({type:c.j,payload:e})}))}},d=function(e){return function(t,a){r.a.post(o,e,l.m).then((function(e){t({type:c.m,payload:e.data.data})})).catch((function(e){t({type:c.l,payload:e})}))}}},754:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return m})),a.d(t,"e",(function(){return d}));var n=a(700),r=a.n(n),c=a(53),l=a(6),o=l.b,u=function(e){return function(t,a){e.token=l.e,e.table="accounts",t({type:c.h}),r.a.get(o,{params:e},l.l).then((function(e){t({type:c.f,payload:e.data})})).catch((function(e){t({type:c.i,payload:e})}))}},s=function(e){return function(t,a){t({type:c.g,payload:e})}},i=function(e){return function(t,a){r.a.POST(o,{params:e},l.l).then((function(a){t({type:c.d,payload:e.id})})).catch((function(e){t({type:c.c,payload:e})}))}},m=function(e){return function(t){r.a.post(o,e,l.m).then((function(e){t({type:c.k,payload:e.data.data})})).catch((function(e){t({type:c.j,payload:e})}))}},d=function(e){return function(t,a){r.a.post(o,e,l.m).then((function(e){t({type:c.m,payload:e.data.data})})).catch((function(e){t({type:c.l,payload:e})}))}}},759:function(e,t,a){"use strict";var n=a(698),r=a(697),c=a(3),l=a.n(c),o=a(217),u=a(734),s=a(746),i=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(r.wb,null,l.a.createElement(r.u,{lg:12},l.a.createElement(r.j,null,l.a.createElement(r.n,null,l.a.createElement(r.wb,null,l.a.createElement(r.u,{xs:10},l.a.createElement("h4",{id:"traffic",className:"card-title mb-0"},void 0!=e.activeschool&&e.activeterm.hasOwnProperty("name")&&e.activeschool.name?e.activeschool.name:l.a.createElement("i",null,"Please select a school or consult the admin")),l.a.createElement("div",{className:"small text-muted"},l.a.createElement("strong",null,void 0!=e.activeterm&&e.activeterm.hasOwnProperty("name")&&e.activeterm.name?e.activeterm.name:l.a.createElement("span",null," Welcome",l.a.createElement("small",null,l.a.createElement("i",null," (No active term)")))))),l.a.createElement(r.u,{className:"d-md-block btn-group"},l.a.createElement(r.g,{className:"pull-right"},l.a.createElement(r.f,{color:"primary",className:"",onClick:function(){return e.toggleMenu()}},l.a.createElement("i",{className:"fa fa-search"}))))))))))};t.a=Object(o.b)((function(e){return{activeTerm:e.termReducer.activeTerm,user:e.userReducer}}),{getUserDatas:u.a,getUserSchools:u.b,getUserTerms:u.c,getUserdropdowns:u.d,settSchool:u.e,settTerm:u.f})((function(e){var t=Object(c.useState)(!1),a=Object(n.a)(t,2),o=a[0],m=a[1];Object(c.useEffect)((function(){var t=void 0!==e.user.activeschool&&e.user.activeschool.hasOwnProperty("id")&&parseInt(e.user.activeschool.id)>0?e.user.activeschool.id:"null",a={data:JSON.stringify({schoolid:t}),cat:"dropdowns",table:"access",narration:"get all dropdowns"};e.getUserdropdowns(a);var n={data:JSON.stringify({schoolid:t}),cat:"accessterms",table:"access",narration:"get current term"};e.getUserTerms(n)}),[e.user.mid,e.user.activeschool]),Object(c.useEffect)((function(){var t={data:JSON.stringify({schools:e.user.myschools.join(",")}),cat:"schoolaccess",table:"schools",narration:"get all schools"};e.getUserSchools(t)}),[e.user.mid,e.user.myschools]),Object(c.useEffect)((function(){var t={data:JSON.stringify({sessionid:e.user.activeterm.sessionid,termid:e.user.activeterm.termid,staffid:e.user.mid}),cat:"dataaccess",table:"access",narration:"get all schools"};Object(u.a)(t)}),[e.user.mid,e.user.activeterm]);var d=e.user.dropdowns&&Array.isArray(e.user.dropdowns)?e.user.dropdowns:[[],[]],f=function(t){e.settSchool(t)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(i,{activeterm:e.user.activeterm,activeschool:e.user.activeschool,schools:e.user.mySchoolData,changeSchool:function(e){return f(e)},toggleMenu:function(){m((function(e){return!e}))}}),l.a.createElement(r.v,{show:o},l.a.createElement(s.a,{dropdowns:d,schools:e.user.mySchoolData,changeSchool:function(e){return f(e)},changeTerm:function(t){return function(t){e.settTerm(t)}(t)}})))}))}}]);
//# sourceMappingURL=26.80f511c9.chunk.js.map