(this.webpackJsonpmesl=this.webpackJsonpmesl||[]).push([[29],{1339:function(e,t,a){"use strict";a.r(t);var n=a(698),l=a(3),r=a.n(l),c=a(217),m=a(795),s=a(705),o=a(702),u=a.n(o),i=a(697),d=a(699),f=a(24),E=a(6),p=Object(c.b)((function(e){return{staffattendance:e.staffattendanceReducer,user:e.userReducer}}),{getStaffattendances:m.e,getStaffattendancedailys:m.d,getStaffattendance:m.c,registerStaffattendance:m.f,registerStaffattendancedaily:m.g,updateStaffattendance:m.h,updateStaffattendancedaily:m.i,deleteStaffattendance:m.a,deleteStaffattendancedaily:m.b})((function(e){Object(f.g)();var t=Object(l.useState)(new Date),a=Object(n.a)(t,2),c=a[0],m=a[1],s=Object(l.useState)(""),o=Object(n.a)(s,2),p=o[0],h=o[1],y=Object(l.useState)(0),b=Object(n.a)(y,2),g=b[0],v=b[1],N=Object(l.useState)(""),x=Object(n.a)(N,2),k=x[0];x[1];Object(l.useEffect)((function(){var t={data:JSON.stringify({schoolid:e.user.activeschool.id,grp:1,dates:u()(c).format("YYYY-MM-DD")}),cat:"selected",table:"attendances",narration:"get all staffs"};e.getStaffattendances(t);var a={data:JSON.stringify({clients:e.user.activeschool.id,schoolid:e.user.activeschool.id,grp:5,dates:u()(c).format("YYYY-MM-DD")}),cat:"selected",table:"attendances",narration:"get all attendance"};e.getStaffattendancedailys(a)}),[c]);var D=function(e){return E.s.filter((function(t){return parseInt(t.id)===parseInt(e)}))[0]},S=function(e,t){if(Array.isArray(e)&&e.length){var a=e.filter((function(e){return parseInt(e.clients)===parseInt(t)})),n=Array.isArray(a)&&a.length>0?a[0].leaveid:0;return parseInt(n)}return 0},O=E.s.map((function(e,t){return r.a.createElement("option",{value:e.id},e.name)})),A=function(){var t=new FormData;t.append("grp",5),t.append("dates",u()(c).format("YYYY-MM-DD")),t.append("schoolid",e.user.activeschool.id),t.append("clients",e.user.activeschool.id),t.append("reason",e.data1),t.append("leaveid",0),t.append("cat","insert"),t.append("table","attendances"),e.registerStaffattendancedaily(t)},M=e.staffs&&Array.isArray(e.staffs)?e.staffs.filter((function(e){return null!==e})).filter((function(e){return null!==e||void 0!==e})):[],Y=Array.isArray(e.staffattendance.staffattendancedailys)&&void 0!==e.staffattendance.staffattendancedailys?e.staffattendance.staffattendancedailys:[],j=Array.isArray(Y)?Y.filter((function(e){return void 0!==e&&null!==e&&e.dates===u()(c).format("YYYY-MM-DD")})):[],w=!!(Array.isArray(j)&&j.length>0),T=Array.isArray(e.staffattendance.staffattendances)&&void 0!==e.staffattendance.staffattendances?e.staffattendance.staffattendances:[],C=Array.isArray(T)?T.filter((function(e){return void 0!==e&&null!==e&&e.dates===u()(c).format("YYYY-MM-DD")})):[],F=M.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",{className:"text-center"},r.a.createElement("div",{className:"c-avatar"},r.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api/"+t.photo,style:{width:"40px",height:"40px"},height:"50px",width:"50px",className:"c-avatar-img",alt:t.employment_no,onError:function(e){e.target.onerror=null,e.target.src="/ems/avatars/1.png"}}),r.a.createElement("span",{className:"c-avatar-status ".concat("Male"===t.gender?"bg-success":"bg-danger")}))),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(t.surname," ").concat(t.firstname," ").concat(t.middlename)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,t.employment_no," | ",t.departmentname))),r.a.createElement("td",{className:"text-center"},S(C,t.id)>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{className:"mr-0",color:D(S(C,t.id)).colors},D(S(C,t.id)).name),r.a.createElement(i.b,{className:"mr-1",color:"dark"},u()(c).format("Do MMMM, YYYY"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{className:"mr-0",color:w?"success":"secondary"},w?"Present":"Present not saved"),r.a.createElement(i.b,{className:"mr-1",color:"dark"},u()(c).format("Do MMMM, YYYY")))),r.a.createElement("td",{className:"text-right"},r.a.createElement(i.g,null,r.a.createElement(i.f,{size:"sm",color:"dark",onClick:function(){return e=t.id,void window.open("/ems#/staffs/"+e);var e}}," ",r.a.createElement(d.a,{name:"cil-user"})," ",r.a.createElement("span",{className:"d-xs-none"},"Profile")),r.a.createElement(i.f,{size:"sm",color:"secondary",onClick:function(){return t.id,e.termid,void e.sessionid}}," ",r.a.createElement(d.a,{name:"cil-envelope-open"}),"  ",r.a.createElement("span",{className:"d-xs-none"},"Message")),r.a.createElement(i.z,{className:"m-0"},r.a.createElement(i.E,{color:"info",size:"sm"},r.a.createElement(d.a,{name:"cil-user-follow"}),"  ",r.a.createElement("span",{className:"d-xs-none"},"Attendance")),r.a.createElement(i.D,{className:"bg-info"},r.a.createElement(i.J,{className:"px-4 py-3"},r.a.createElement(i.K,null,r.a.createElement(i.cb,{htmlFor:"leaveid"}),r.a.createElement(i.xb,{className:"form-control",id:"leaveid",type:"date",value:g,autoComplete:"leaveid",onChange:function(e){return v(e.target.value)}},O)),r.a.createElement(i.K,null,r.a.createElement(i.cb,{htmlFor:"reason"},"Reason"),r.a.createElement(i.Lb,{className:"form-control",style:{color:"blue",fontWeight:"bolder"},id:"reason",type:"text",value:p,autoComplete:"reason",onChange:function(e){return h(e.target.value)}})),r.a.createElement(i.K,{className:"mt-2"},r.a.createElement(i.f,{color:"primary",type:"button",block:!0,onClick:function(){return function(t){var a=new FormData;a.append("grp",1),a.append("dates",u()(c).format("YYYY-MM-DD")),a.append("schoolid",e.user.activeschool.id),a.append("clients",t),a.append("leaveid",g),a.append("reason",p),a.append("cat","insert"),a.append("table","attendances"),e.registerStaffattendance(a)}(t.id)}},"Log"))))))))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.wb,{className:"table-responsive"},r.a.createElement(i.wb,{className:" mt-2"},r.a.createElement(i.u,{xs:12,md:4},r.a.createElement(i.K,null,r.a.createElement(i.u,{xs:"12",md:"12"},r.a.createElement(i.S,{className:"my-auto",custom:!0,defaultValue:k,type:"search",onChange:function(t){return e.setsearch(t.target.value)},placeholder:"Search for staff...."})))),r.a.createElement(i.u,{xs:12,md:4},r.a.createElement(i.K,null,r.a.createElement(i.u,{xs:12},r.a.createElement(i.S,{custom:!0,defaultValue:c,type:"date",onChange:function(t){return function(t){m(t),e.setDates(t)}(t.target.value)}})))),r.a.createElement(i.u,{xs:12,md:4},r.a.createElement(i.u,{xs:12},w?r.a.createElement(i.f,{color:"dark",disabled:!0,block:!0,onClick:A},"Attendance saved (",u()(c).format("DD MMM, YYYY"),")"):r.a.createElement(i.f,{color:"info",block:!0,onClick:A},"Save Attendance")))),r.a.createElement("table",{className:"table table-hover table-outline mb-0 d-sm-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},r.a.createElement(d.a,{name:"cil-people"})),r.a.createElement("th",null,"Staff"),r.a.createElement("th",null,"Attendance"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,F))))})),h=a(712),y=function(e){for(var t=e.staffs&&Array.isArray(e.staffs)?e.staffs.filter((function(e){return null!==e})).filter((function(e){return null!==e||void 0!==e})):[],a=t.filter((function(e){return"Female"===e.gender})),n=t.filter((function(e){return"Male"===e.gender})),l={},c=0;c<t.length;c++)t[c].departmentname in l?l[t[c].departmentname]++:l[t[c].departmentname]=1;var m={};for(c=0;c<t.length;c++)t[c].religion in m?m[t[c].religion]++:m[t[c].religion]=1;var s={};for(c=0;c<t.length;c++)t[c].gender in s?s[t[c].gender]++:s[t[c].gender]=1;var o={};for(c=0;c<t.length;c++)t[c].marital in o?o[t[c].marital]++:o[t[c].marital]=1;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.wb,null,r.a.createElement(i.u,{xs:"12",md:"12",className:"mb-4"},r.a.createElement(i.j,null,r.a.createElement(i.k,null,r.a.createElement("br",null),r.a.createElement(i.wb,{className:"mt-20 py-90"},r.a.createElement(i.u,{xs:"12",sm:"6",lg:"4"},r.a.createElement(i.Vb,{text:"Male",header:parseInt(n.length),color:"success",iconPadding:!1},r.a.createElement(d.a,{width:24,name:"cil-user",className:"mx-5"}))),r.a.createElement(i.u,{xs:"12",sm:"6",lg:"4"},r.a.createElement(i.Vb,{text:"Female",header:parseInt(a.length),color:"danger",iconPadding:!1},r.a.createElement(d.a,{width:24,name:"cil-user-female",className:"mx-5"}))),r.a.createElement(i.u,{xs:"12",sm:"6",lg:"4"},r.a.createElement(i.Vb,{text:"Total Staff",header:parseInt(n.length)+parseInt(a.length),color:"info",iconPadding:!1},r.a.createElement("i",{className:"fa fa-users fa-2x mx-5"})))),r.a.createElement(i.wb,null,r.a.createElement(i.u,{xs:"12",sm:"12",md:"6"},r.a.createElement(i.j,null,r.a.createElement(i.n,null,"Gender"),r.a.createElement(i.k,null,r.a.createElement(h.d,{type:"pie",datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:Object.values(s)}],labels:Object.keys(s),options:{tooltips:{enabled:!0}}})))),r.a.createElement(i.u,{xs:"12",sm:"12",md:"6"},r.a.createElement(i.j,null,r.a.createElement(i.n,null,"Religion"),r.a.createElement(i.k,null,r.a.createElement(h.d,{type:"pie",datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:Object.values(m)}],labels:Object.keys(m),options:{tooltips:{enabled:!0}}}))))),r.a.createElement(i.wb,null,r.a.createElement(i.u,{xs:"12",sm:"12",md:"6"},r.a.createElement(i.j,null,r.a.createElement(i.n,null,"Marital"),r.a.createElement(i.k,null,r.a.createElement(h.d,{type:"pie",datasets:[{backgroundColor:["#00D8FF","#DD1B16","#41B883","#E46651"],data:Object.values(o)}],labels:Object.keys(o),options:{tooltips:{enabled:!0}}})))),r.a.createElement(i.u,{xs:"12",sm:"12",md:"6"},r.a.createElement(i.j,null,r.a.createElement(i.n,null,"Department"),r.a.createElement(i.k,null,r.a.createElement(h.a,{type:"barchart",datasets:[{backgroundColor:["#41B883","#E46651","#045800","#4AB883","#E96651","#09E0FF","#DD1116","#096651","#19E0FF","#296651","#39E0FF"],data:Object.values(l)}],labels:Object.keys(l),options:{tooltips:{enabled:!0}}}))))))))))},b=function(e){var t=Object(f.g)(),a=e.staffs&&Array.isArray(e.staffs)?e.staffs.filter((function(e){return null!==e})).filter((function(e){return null!==e||void 0!==e})):[],n=a.map((function(e,a){return r.a.createElement("tr",{key:a,onClick:function(){return t.push("/staffs/".concat(e.id))}},r.a.createElement("td",{className:"text-center"},a+1),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename))),r.a.createElement("td",null,r.a.createElement("strong",null,r.a.createElement("a",{href:"mailto:".concat(e.phone1)},e.phone1)," ",r.a.createElement("a",{href:"mailto:".concat(e.phone2)},e.phone2))),r.a.createElement("td",null,r.a.createElement("strong",null,r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email))),r.a.createElement("td",null,r.a.createElement("div",{className:"text-muted ",style:{textTransform:"capitalize"}},e.address)))}));a.map((function(a,n){return r.a.createElement("tr",{key:n,onClick:function(){return t.push("/staffs/".concat(a.id))}},r.a.createElement("td",{className:"text-center"},n+1),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(a.surname," ").concat(a.firstname," ").concat(a.middlename))),r.a.createElement("td",null,e.tin),r.a.createElement("td",null,e.nin),e.pen,r.a.createElement("td",null))})),a.map((function(e,a){return r.a.createElement("tr",{key:a,onClick:function(){return t.push("/staffs/".concat(e.id))}},r.a.createElement("td",{className:"text-center"},r.a.createElement("div",{className:"c-avatar"},r.a.createElement("img",{src:"avatars/1.png",className:"c-avatar-img",alt:"admin@bootstrapmaster.com"}),r.a.createElement("span",{className:"c-avatar-status ".concat("Male"===e.gender?"bg-success":"bg-danger")}))),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,e.employment_no," | ",e.departmentname))),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Phone"),": ",r.a.createElement("strong",null,r.a.createElement("a",{href:"tel:".concat(e.phone1)},e.phone1)," ",r.a.createElement("a",{href:"mailto:".concat(e.phone2)},e.phone2))),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Email"),": ",r.a.createElement("strong",null,r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)))),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Date of Birth"),": ",r.a.createElement("strong",null,e.dob)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Date of Emply."),": ",r.a.createElement("strong",null,e.doe))),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted ",style:{textTransform:"capitalize"}},e.soo),r.a.createElement("strong",{style:{textTransform:"capitalize"}},e.lga)),r.a.createElement("td",null,r.a.createElement("div",{className:"text-muted ",style:{textTransform:"capitalize"}},e.gender)))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.wb,null,r.a.createElement("table",{className:"table table-hover table-outline mb-0 d-none d-sm-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Staff ID"),r.a.createElement("th",null,"Fullname"),r.a.createElement("th",{className:"text-center"},"Phone"),r.a.createElement("th",{className:"text-center"},"Email"),r.a.createElement("th",null,"Address"))),r.a.createElement("tbody",null,n))))},g=function(e){Object(f.g)();var t=(e.staffs&&Array.isArray(e.staffs)?e.staffs.filter((function(e){return null!==e})).filter((function(e){return null!==e||void 0!==e})):[]).map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{width:"9%",className:"text-center"},r.a.createElement("div",{className:"c-avatar"},r.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api/"+e.photo,style:{width:"50px",height:"50px"},height:"50px",width:"50px",className:"c-avatar-img",alt:e.employment_no,onError:function(e){e.target.onerror=null,e.target.src="/ems/avatars/1.png"}}),r.a.createElement("span",{className:"c-avatar-status ".concat("Male"===e.gender?"bg-success":"bg-danger")}))),r.a.createElement("td",{width:"20%"},r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,e.employment_no," | ",e.departmentname))),r.a.createElement("td",null,r.a.createElement(i.w,null,r.a.createElement(i.wb,null,r.a.createElement(i.u,null,r.a.createElement("strong",null,e.kin1_name," ",r.a.createElement("i",null,e.kin1_rel.length>0?"("+e.kin1_rel+")":"")),r.a.createElement("br",null)," ",r.a.createElement("a",{href:"tel:".concat(e.kin1_phone1)},e.kin1_phone1)," ",r.a.createElement("a",{href:"tel:".concat(e.kin1_phone2)},e.kin1_phone2),"  ",r.a.createElement("a",{href:"mail:".concat(e.kin1_email)},e.kin1_email),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("span",{style:{textTransform:"uppercase"}}," ","".concat(e.kin1_address," ").concat(e.kin1_name)))),r.a.createElement(i.u,null,r.a.createElement("strong",null,e.kin2_name," ",r.a.createElement("i",null,e.kin2_rel.length>0?"("+e.kin2_rel+")":"")),r.a.createElement("br",null)," ",r.a.createElement("a",{href:"tel:".concat(e.kin2_phone1)},e.kin2_phone1)," ",r.a.createElement("a",{href:"tel:".concat(e.kin2_phone2)},e.kin2_phone2),"  ",r.a.createElement("a",{href:"mail:".concat(e.kin2_email)},e.kin2_email),r.a.createElement("br",null),r.a.createElement("i",null,r.a.createElement("span",{style:{textTransform:"uppercase"}}," ","".concat(e.kin2_address," ").concat(e.kin2_name))))))))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.wb,{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover table-outline mb-0  d-sm-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Staff ID"),r.a.createElement("th",null,"Fullname"),r.a.createElement("th",{className:"text-center"},"Next of Kin"))),r.a.createElement("tbody",null,t))))},v=function(e){var t=Object(f.g)(),a=e.staffs&&Array.isArray(e.staffs)?e.staffs.filter((function(e){return null!==e})).filter((function(e){return null!==e||void 0!==e})):[],n=a.map((function(e,a){return r.a.createElement("tr",{key:a,onClick:function(){return t.push("/staffs/".concat(e.id))}},r.a.createElement("td",{className:"text-center"},a+1),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename))),r.a.createElement("td",null,r.a.createElement("strong",null,r.a.createElement("a",{href:"mailto:".concat(e.phone1)},e.phone1)," ",r.a.createElement("a",{href:"mailto:".concat(e.phone2)},e.phone2))),r.a.createElement("td",null,r.a.createElement("strong",null,r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email))),r.a.createElement("td",null,r.a.createElement("div",{className:"text-muted ",style:{textTransform:"capitalize"}},e.address)))}));a.map((function(a,n){return r.a.createElement("tr",{key:n,onClick:function(){return t.push("/staffs/".concat(a.id))}},r.a.createElement("td",{className:"text-center"},n+1),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(a.surname," ").concat(a.firstname," ").concat(a.middlename))),r.a.createElement("td",null,e.tin),r.a.createElement("td",null,e.nin),e.pen,r.a.createElement("td",null))})),a.map((function(e,a){return r.a.createElement("tr",{key:a,onClick:function(){return t.push("/staffs/".concat(e.id))}},r.a.createElement("td",{className:"text-center"},r.a.createElement("div",{className:"c-avatar"},r.a.createElement("img",{src:"avatars/1.png",className:"c-avatar-img",alt:"admin@bootstrapmaster.com"}),r.a.createElement("span",{className:"c-avatar-status ".concat("Male"===e.gender?"bg-success":"bg-danger")}))),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,e.employment_no," | ",e.departmentname))),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Phone"),": ",r.a.createElement("strong",null,r.a.createElement("a",{href:"tel:".concat(e.phone1)},e.phone1)," ",r.a.createElement("a",{href:"mailto:".concat(e.phone2)},e.phone2))),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Email"),": ",r.a.createElement("strong",null,r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)))),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Date of Birth"),": ",r.a.createElement("strong",null,e.dob)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Date of Emply."),": ",r.a.createElement("strong",null,e.doe))),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted ",style:{textTransform:"capitalize"}},e.soo),r.a.createElement("strong",{style:{textTransform:"capitalize"}},e.lga)),r.a.createElement("td",null,r.a.createElement("div",{className:"text-muted ",style:{textTransform:"capitalize"}},e.gender)))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.wb,null,r.a.createElement("table",{className:"table table-hover table-outline mb-0 d-none d-sm-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Staff ID"),r.a.createElement("th",null,"Fullname"),r.a.createElement("th",{className:"text-center"},"Phone"),r.a.createElement("th",{className:"text-center"},"Email"),r.a.createElement("th",null,"Address"))),r.a.createElement("tbody",null,n))))},N=function(e){var t=Object(f.g)(),a=(e.staffs&&Array.isArray(e.staffs)?e.staffs.filter((function(e){return null!==e})).filter((function(e){return null!==e||void 0!==e})):[]).map((function(e,a){return r.a.createElement("tr",{key:a,onClick:function(){return t.push("/staffs/".concat(e.id))}},r.a.createElement("td",{className:"text-center"},r.a.createElement("div",{className:"c-avatar"},r.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api/"+e.photo,style:{width:"40px",height:"40px"},height:"50px",width:"50px",className:"c-avatar-img",alt:e.employment_no,onError:function(e){e.target.onerror=null,e.target.src="/ems/avatars/1.png"}}),r.a.createElement("span",{className:"c-avatar-status ".concat("Male"===e.gender?"bg-success":"bg-danger")}))),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,e.employment_no," | ",e.departmentname))),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Phone"),": ",r.a.createElement("strong",null,r.a.createElement("a",{href:"tel:".concat(e.phone1)},e.phone1)," ",r.a.createElement("a",{href:"mailto:".concat(e.phone2)},e.phone2))),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Email"),": ",r.a.createElement("strong",null,r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)))),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Date of Birth"),": ",r.a.createElement("strong",null,e.dob)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Date of Emply."),": ",r.a.createElement("strong",null,e.doe))),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted ",style:{textTransform:"capitalize"}},e.soo),r.a.createElement("strong",{style:{textTransform:"capitalize"}},e.lga)),r.a.createElement("td",null,r.a.createElement("div",{className:"text-muted ",style:{textTransform:"capitalize"}},e.gender)))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.wb,{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover table-outline mb-0 d-sm-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},r.a.createElement(d.a,{name:"cil-people"})),r.a.createElement("th",null,"Staff"),r.a.createElement("th",{className:"text-center"},"Contacts"),r.a.createElement("th",{className:"text-center"},"Dates"),r.a.createElement("th",null,"Origin"),r.a.createElement("th",null,"Gender"))),r.a.createElement("tbody",null,a))))},x=a(799),k=Object(c.b)((function(e){return{staffeducation:e.staffeducationReducer.staffeducations}}),{getStaffeducations:x.b})((function(e){Object(l.useEffect)((function(){var t={data:JSON.stringify({staffid:e.datas}),cat:"selectess",table:"staffeducations",narration:"get Staff education"};e.getStaffeducations(t)}),[e.datas]);var t=e.staffs&&Array.isArray(e.staffs)?e.staffs.filter((function(e){return null!==e})).filter((function(e){return null!==e||void 0!==e})):[],a=e.staffeducation&&Array.isArray(e.staffeducation)?e.staffeducation.filter((function(e){return null!==e})).filter((function(e){return null!==e||void 0!==e})):[],n=t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{width:"5%",className:"text-center"},r.a.createElement("div",{className:"c-avatar"},r.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api/"+e.photo,style:{width:"50px",height:"50px"},height:"50px",width:"50px",className:"c-avatar-img",alt:e.employment_no,onError:function(e){e.target.onerror=null,e.target.src="/ems/avatars/1.png"}}),r.a.createElement("span",{className:"c-avatar-status ".concat("Male"===e.gender?"bg-success":"bg-danger")}))),r.a.createElement("td",{width:"20%"},r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,e.employment_no," | ",e.departmentname))),r.a.createElement("td",{className:""},a&&Array.isArray(a)&&a.length>0?a.filter((function(t){return null!==t&&void 0!==t&&parseInt(t.staffid)===parseInt(e.id)})).map((function(e,t){var a="http://127.0.0.1/ems/ems-api/api/"+e.links;return r.a.createElement(i.wb,null,r.a.createElement(i.u,null,e.result,"  ",r.a.createElement("i",{style:{textTransform:"capitalize"}},e.course),"  "," ",r.a.createElement("strong",{style:{textTransform:"uppercase"}},e.school," (",e.grade,")  "),u()(e.started).format("MMM DD, YYYY")," - ",u()(e.ended).format("MMM DD, YYYY"),Object(E.q)(a)?r.a.createElement("a",{target:"_blank",className:"",href:a},r.a.createElement("i",{className:"fa fa-cloud-download"})):r.a.createElement("strong",null,"No File Uploaded"),r.a.createElement("br",null)))})):r.a.createElement("h4",{className:"text-center"},"No Data")))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.wb,null,r.a.createElement("table",{className:"table table-hover table-outline mb-0 d-sm-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Staff ID"),r.a.createElement("th",null,"Fullname"),r.a.createElement("th",{className:"text-center"},"Education"))),r.a.createElement("tbody",null,n))))})),D=function(e){var t=Object(f.g)(),a=(e.staffs&&Array.isArray(e.staffs)?e.staffs.filter((function(e){return null!==e})).filter((function(e){return null!==e||void 0!==e})):[]).map((function(e,a){return r.a.createElement("tr",{key:a,onClick:function(){return t.push("/studentclasss/".concat(e.id))}},r.a.createElement("td",{className:"text-center"},r.a.createElement("div",{className:"c-avatar"},r.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api/"+e.photo,style:{width:"35px",height:"35px"},height:"35px",width:"35px",className:"c-avatar-img",alt:e.employment_no,onError:function(e){e.target.onerror=null,e.target.src="/ems/avatars/1.png"}}),r.a.createElement("span",{className:"c-avatar-status ".concat("Male"===e.gender?"bg-success":"bg-danger")}))),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,r.a.createElement("strong",null,e.employment_no," ")))),r.a.createElement("td",null,"Invalid date"!==u()(e.dob).format("DD MMMM, YYYY")?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"".concat(u()().diff(e.dob,"years")," yrs")),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("strong",null,r.a.createElement("span",null,"Date | ",u()(e.dob).format("DD MMM, YYYY"))))):"--"),r.a.createElement("td",null,"Invalid date"!==u()(e.doe).format("DD MMMM, YYYY")?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"".concat(u()().diff(e.doe,"years")," yrs")),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("strong",null,r.a.createElement("span",null,"Date | ",u()(e.doe).format("DD MMM, YYYY"))))):"--"),r.a.createElement("td",null,r.a.createElement("strong",{style:{textTransform:"capitalize"}},e.departmentnames)),r.a.createElement("td",null,r.a.createElement("strong",{style:{textTransform:"capitalize"}},e.levelname)),r.a.createElement("td",null))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.wb,null,r.a.createElement("table",{className:"table table-hover table-outline mb-0 d-none d-sm-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Staff ID"),r.a.createElement("th",null,"Fullname"),r.a.createElement("th",{className:"text-center"},"BIRTH DATE"),r.a.createElement("th",{className:"text-center"},"DATE EMPLOYED"),r.a.createElement("th",{className:"text-center"},"DEPARTMENT"),r.a.createElement("th",{className:"text-center"},"LEVEL"),r.a.createElement("th",{className:"text-center"},"JOB ROLES"))),r.a.createElement("tbody",null,a))))},S=function(e){var t=Object(f.g)(),a=e.staffs&&Array.isArray(e.staffs)?e.staffs.filter((function(e){return null!==e})).filter((function(e){return null!==e||void 0!==e})):[],n=a.map((function(e,a){return r.a.createElement("tr",{key:a,onClick:function(){return t.push("/staffs/".concat(e.id))}},r.a.createElement("td",{className:"text-center"},a+1),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename))),r.a.createElement("td",null,r.a.createElement("strong",null,r.a.createElement("a",{href:"mailto:".concat(e.phone1)},e.phone1)," ",r.a.createElement("a",{href:"mailto:".concat(e.phone2)},e.phone2))),r.a.createElement("td",null,r.a.createElement("strong",null,r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email))),r.a.createElement("td",null,r.a.createElement("div",{className:"text-muted ",style:{textTransform:"capitalize"}},e.address)))}));a.map((function(a,n){return r.a.createElement("tr",{key:n,onClick:function(){return t.push("/staffs/".concat(a.id))}},r.a.createElement("td",{className:"text-center"},n+1),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(a.surname," ").concat(a.firstname," ").concat(a.middlename))),r.a.createElement("td",null,e.tin),r.a.createElement("td",null,e.nin),e.pen,r.a.createElement("td",null))})),a.map((function(e,a){return r.a.createElement("tr",{key:a,onClick:function(){return t.push("/staffs/".concat(e.id))}},r.a.createElement("td",{className:"text-center"},r.a.createElement("div",{className:"c-avatar"},r.a.createElement("img",{src:"avatars/1.png",className:"c-avatar-img",alt:"admin@bootstrapmaster.com"}),r.a.createElement("span",{className:"c-avatar-status ".concat("Male"===e.gender?"bg-success":"bg-danger")}))),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,e.employment_no," | ",e.departmentname))),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Phone"),": ",r.a.createElement("strong",null,r.a.createElement("a",{href:"tel:".concat(e.phone1)},e.phone1)," ",r.a.createElement("a",{href:"mailto:".concat(e.phone2)},e.phone2))),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Email"),": ",r.a.createElement("strong",null,r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)))),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Date of Birth"),": ",r.a.createElement("strong",null,e.dob)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Date of Emply."),": ",r.a.createElement("strong",null,e.doe))),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted ",style:{textTransform:"capitalize"}},e.soo),r.a.createElement("strong",{style:{textTransform:"capitalize"}},e.lga)),r.a.createElement("td",null,r.a.createElement("div",{className:"text-muted ",style:{textTransform:"capitalize"}},e.gender)),r.a.createElement("td",null))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.wb,null,r.a.createElement("table",{className:"table table-hover table-outline mb-0 d-none d-sm-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Staff ID"),r.a.createElement("th",null,"Fullname"),r.a.createElement("th",{className:"text-center"},"BIRTH DATE"),r.a.createElement("th",{className:"text-center"},"DATE EMPLOYED"),r.a.createElement("th",{className:"text-center"},"DEPARTMENT"),r.a.createElement("th",{className:"text-center"},"LEVEL"),r.a.createElement("th",{className:"text-center"},"JOB ROLES"))),r.a.createElement("tbody",null,n))))},O=function(e){var t=Object(f.g)(),a=e.staffs&&Array.isArray(e.staffs)?e.staffs.filter((function(e){return null!==e})).filter((function(e){return null!==e||void 0!==e})):[],n=a.map((function(e,a){return r.a.createElement("tr",{key:a,onClick:function(){return t.push("/staffs/".concat(e.id))}},r.a.createElement("td",{className:"text-center"},a+1),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename))),r.a.createElement("td",null,r.a.createElement("strong",null,r.a.createElement("a",{href:"mailto:".concat(e.phone1)},e.phone1)," ",r.a.createElement("a",{href:"mailto:".concat(e.phone2)},e.phone2))),r.a.createElement("td",null,r.a.createElement("strong",null,r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email))),r.a.createElement("td",null,r.a.createElement("div",{className:"text-muted ",style:{textTransform:"capitalize"}},e.address)))}));a.map((function(a,n){return r.a.createElement("tr",{key:n,onClick:function(){return t.push("/staffs/".concat(a.id))}},r.a.createElement("td",{className:"text-center"},n+1),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(a.surname," ").concat(a.firstname," ").concat(a.middlename))),r.a.createElement("td",null,e.tin),r.a.createElement("td",null,e.nin),e.pen,r.a.createElement("td",null))})),a.map((function(e,a){return r.a.createElement("tr",{key:a,onClick:function(){return t.push("/staffs/".concat(e.id))}},r.a.createElement("td",{className:"text-center"},r.a.createElement("div",{className:"c-avatar"},r.a.createElement("img",{src:"avatars/1.png",className:"c-avatar-img",alt:"admin@bootstrapmaster.com"}),r.a.createElement("span",{className:"c-avatar-status ".concat("Male"===e.gender?"bg-success":"bg-danger")}))),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,e.employment_no," | ",e.departmentname))),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Phone"),": ",r.a.createElement("strong",null,r.a.createElement("a",{href:"tel:".concat(e.phone1)},e.phone1)," ",r.a.createElement("a",{href:"mailto:".concat(e.phone2)},e.phone2))),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Email"),": ",r.a.createElement("strong",null,r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)))),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Date of Birth"),": ",r.a.createElement("strong",null,e.dob)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Date of Emply."),": ",r.a.createElement("strong",null,e.doe))),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted ",style:{textTransform:"capitalize"}},e.soo),r.a.createElement("strong",{style:{textTransform:"capitalize"}},e.lga)),r.a.createElement("td",null,r.a.createElement("div",{className:"text-muted ",style:{textTransform:"capitalize"}},e.gender)))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.wb,null,r.a.createElement("table",{className:"table table-hover table-outline mb-0 d-none d-sm-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Staff ID"),r.a.createElement("th",null,"Fullname"),r.a.createElement("th",{className:"text-center"},"Phone"),r.a.createElement("th",{className:"text-center"},"Email"),r.a.createElement("th",null,"Address"))),r.a.createElement("tbody",null,n))))},A=a(798),M=Object(c.b)((function(e){return{staffprofessional:e.staffprofessionalReducer.staffprofessionals}}),{getStaffprofessionals:A.b})((function(e){var t=Object(l.useState)(0),a=Object(n.a)(t,2),c=a[0],m=a[1];Object(l.useEffect)((function(){if(1==c){var t={data:JSON.stringify({staffid:e.datas}),cat:"selectess",table:"staffprofessionals",narration:"get Staff professional"};e.getStaffprofessionals(t)}}),[e.datas,c]);var s=e.staffs&&Array.isArray(e.staffs)?e.staffs.filter((function(e){return null!==e})).filter((function(e){return null!==e||void 0!==e})):[],o=e.staffprofessional&&Array.isArray(e.staffprofessional)?e.staffprofessional.filter((function(e){return null!==e})).filter((function(e){return null!==e||void 0!==e})):[],f=s.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{width:"5%",className:"text-center"},r.a.createElement("div",{className:"c-avatar"},r.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api/"+e.photo,style:{width:"50px",height:"50px"},height:"50px",width:"50px",className:"c-avatar-img",alt:e.employment_no,onError:function(e){e.target.onerror=null,e.target.src="/ems/avatars/1.png"}}),r.a.createElement("span",{className:"c-avatar-status ".concat("Male"===e.gender?"bg-success":"bg-danger")}))),r.a.createElement("td",{width:"20%"},r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,e.employment_no," | ",e.departmentname))),r.a.createElement("td",null,r.a.createElement(i.w,{fluid:!0},r.a.createElement(i.wb,{xs:12},r.a.createElement("ul",null,o&&Array.isArray(o)&&o.length>0?o.filter((function(t){return null!==t&&void 0!==t&&parseInt(t.staffid)===parseInt(e.id)})).map((function(e,t){var a="http://127.0.0.1/ems/ems-api/api/"+e.links;return r.a.createElement("a",{target:"_blank",className:"",href:a},r.a.createElement("li",{key:t,className:"my-0 py-0",style:{marginTop:"0px",marginBottom:"0px",lineHeight:"normal"},xs:12,sm:12},e.level," "," ",r.a.createElement("strong",{style:{textTransform:"uppercase"}},e.instituition)," ",u()(e.issued).format("MMM DD, YYYY")," "," "))})):r.a.createElement("h4",{className:"text-center"},"No Data"))))))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.wb,null,r.a.createElement("table",{className:"table table-hover table-outline mb-0"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Staff ID "),r.a.createElement("th",{onClick:function(){return m(1)}},"Fullnameon ",r.a.createElement(d.a,{name:"cil-cloud-download"})," "),r.a.createElement("th",{className:"text-center"},"Professional"))),r.a.createElement("tbody",null,f))))})),Y=a(797),j=Object(c.b)((function(e){return{staffexperience:e.staffexperienceReducer.staffexperiences}}),{getStaffexperiences:Y.b})((function(e){Object(l.useEffect)((function(){var t={data:JSON.stringify({staffid:e.datas}),cat:"selectess",table:"staffexperiences",narration:"get Staff experience"};e.getStaffexperiences(t)}),[e.datas]);var t=e.staffs&&Array.isArray(e.staffs)?e.staffs.filter((function(e){return null!==e})).filter((function(e){return null!==e||void 0!==e})):[],a=e.staffexperience&&Array.isArray(e.staffexperience)?e.staffexperience.filter((function(e){return null!==e})).filter((function(e){return null!==e||void 0!==e})):[],n=t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{width:"5%",className:"text-center"},r.a.createElement("div",{className:"c-avatar"},r.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api/"+e.photo,style:{width:"50px",height:"50px"},height:"50px",width:"50px",className:"c-avatar-img",alt:e.employment_no,onError:function(e){e.target.onerror=null,e.target.src="/ems/avatars/1.png"}}),r.a.createElement("span",{className:"c-avatar-status ".concat("Male"===e.gender?"bg-success":"bg-danger")}))),r.a.createElement("td",{width:"20%"},r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,e.employment_no," | ",e.departmentname))),r.a.createElement("td",{className:"d-flex"},a&&Array.isArray(a)&&a.length>0?a.filter((function(t){return null!==t&&void 0!==t&&parseInt(t.staffid)===parseInt(e.id)})).map((function(e,t){e.links;return r.a.createElement("tr",{key:t},r.a.createElement(i.u,null,r.a.createElement("strong",{style:{textTransform:"uppercase"}},e.organisation),r.a.createElement("br",null),r.a.createElement("i",{style:{textTransform:"capitalize"}},e.position),r.a.createElement("br",null),e.job,r.a.createElement("br",null),u()(e.started).format("MMM DD, YYYY")," - ",u()(e.ended).format("MMM DD, YYYY")))})):r.a.createElement("h4",{className:"text-center"},"No Data")))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.wb,null,r.a.createElement("table",{className:"table table-hover table-outline mb-0 d-sm-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Staff ID"),r.a.createElement("th",null,"Fullname"),r.a.createElement("th",{className:"text-center"},"Experience"))),r.a.createElement("tbody",null,n))))})),w=a(936);t.default=Object(c.b)((function(e){return{staffs:e.staffReducer,staffattendance:e.staffattendanceReducer,user:e.userReducer}}),{getStaffattendances:m.e,getStaffattendancedailys:m.d,getStaffattendance:m.c,registerStaffattendance:m.f,registerStaffattendancedaily:m.g,updateStaffattendance:m.h,updateStaffattendancedaily:m.i,deleteStaffattendance:m.a,deleteStaffattendancedaily:m.b,getStaff:s.c,getStaffs:s.e,registerStaff:s.f,updateStaff:s.h,deleteStaff:s.b})((function(e){var t=Object(l.useState)(0),a=Object(n.a)(t,2),c=a[0],m=a[1],s=Object(l.useState)(0),o=Object(n.a)(s,2),E=(o[0],o[1],Object(l.useState)(new Date)),h=Object(n.a)(E,2),x=h[0],A=h[1],Y=Object(l.useState)([]),T=Object(n.a)(Y,2),C=T[0],F=T[1],_=Object(l.useState)(0),z=Object(n.a)(_,2),I=z[0],J=z[1],P=Object(l.useState)([]),L=Object(n.a)(P,2),B=(L[0],L[1]),R=Object(l.useState)([]),K=Object(n.a)(R,2),V=(K[0],K[1]),G=Object(l.useState)([]),H=Object(n.a)(G,2),q=H[0],W=H[1],U=Object(l.useState)([]),Q=Object(n.a)(U,2),X=Q[0],Z=Q[1],$=Object(l.useState)(""),ee=Object(n.a)($,2),te=ee[0],ae=ee[1];Object(l.useEffect)((function(){var t={data:JSON.stringify({schoolid:e.user.activeschool.id}),cat:"selected",table:"staffs",narration:"get all staffs"};e.getStaffs(t)}),[e.user]),Object(l.useEffect)((function(){if(e.staffs.staffs&&Array.isArray(e.staffs.staffs)){var t=e.staffs.staffs.filter((function(e){return null!==e})).filter((function(e){return null!==e||void 0!==e})),a=t.map((function(e,t){return e.id})).join(",");W(t),Z(a),B(t),V(a)}}),[e.staffs.staffs]);var ne=void 0!==e.user.user.access&&e.user.user.access.length>0?JSON.parse(e.user.user.access):{},le=[],re=[];q.forEach((function(e){var t={},a={};t.label=e.departmentname,t.value=e.departmentid,a.label=e.levelname,a.value=e.levelid;var n=le.filter((function(t){return t.value==e.departmentid}));Array.isArray(n)&&n.length>1||le.push(t);var l=re.filter((function(t){return t.value==e.levelid}));Array.isArray(l)&&l.length>1||re.push(t)}));if(Object.keys(ne).length>0&&!1!==e.isAdmin){var ce=void 0!==e.user.activeschool?e.user.activeschool.id:null;if(void 0===ne||!ne.hasOwnProperty(ce))return r.a.createElement(f.a,{to:"/"});var me=Object.keys(ne[ce]);if(void 0===me||!me.includes("0"))return r.a.createElement(f.a,{to:"/"});ne[ce][0]}else if(!0!==e.user.isAdmin)return r.a.createElement(f.a,{to:"/"});var se=q;te.length>0&&(se=q.filter((function(e){return e.surname.toLowerCase().includes(te.toLowerCase())||e.firstname.toLowerCase().includes(te.toLowerCase())||e.middlename.toLowerCase().includes(te.toLowerCase())||e.employment_no.toLowerCase().includes(te.toLowerCase())})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.wb,null,r.a.createElement(i.u,{xs:"12",md:"12",className:"mb-4"},r.a.createElement(i.j,null,r.a.createElement(i.n,null,r.a.createElement(i.wb,null,r.a.createElement(i.u,{sm:"9"},r.a.createElement("h4",{id:"traffic",className:"card-title mb-0"},"Staffs List ",r.a.createElement("small",null,x?r.a.createElement("i",null," Attendance ",u()(x).format("DD MMM, YYYY")):"")),r.a.createElement("div",{className:"small text-muted"},e.user.activeschool.name)),r.a.createElement(i.u,{sm:"3",className:"d-md-block"},r.a.createElement(i.g,null,r.a.createElement(i.Rb,{content:"Set Attendance date"},r.a.createElement(i.f,{"data-target":"#formz","data-toggle":"collapse",color:"primary",className:"float-right",onClick:function(){window.open("/ems#/attendance_staff/")}},r.a.createElement(d.a,{name:"cil-calendar"}))),r.a.createElement(i.Rb,{content:"Search by department"},r.a.createElement(i.z,{className:"m-0"},r.a.createElement(i.E,{color:"dark"},r.a.createElement(d.a,{name:"cil-user-follow"})),r.a.createElement(i.D,{className:"bg-dark"},r.a.createElement(i.J,{className:"px-4 py-3"},r.a.createElement(w.a,{closeMenuOnSelect:!1,styles:{color:"#000000",backgroundColor:"black"},value:C,isMulti:!0,options:le,onChange:function(e){F(e)}}))))),r.a.createElement(i.Rb,{content:"Search by level"},r.a.createElement(i.z,{className:"m-0"},r.a.createElement(i.E,{color:"info"},r.a.createElement(d.a,{name:"cil-user-follow"})),r.a.createElement(i.D,{className:"bg-info"},r.a.createElement(i.J,{className:"px-4 py-3"},r.a.createElement(w.a,{closeMenuOnSelect:!0,defaultValue:I,isMulti:!0,options:re,onChange:function(e){J(e)}}))))),r.a.createElement(i.f,{"data-target":"#formz","data-toggle":"collapse",color:"primary",className:"float-right"},r.a.createElement(d.a,{name:"cil-cloud-download"})))))),r.a.createElement(i.k,null,r.a.createElement(i.Kb,{activeTab:c,onActiveTabChange:function(e){return m(e)}},r.a.createElement(i.lb,{variant:"tabs"},r.a.createElement(i.mb,null,r.a.createElement(i.nb,null,r.a.createElement(d.a,{name:"cil-chart-pie"}),0===c&&" Action")),r.a.createElement(i.mb,null,r.a.createElement(i.nb,null,r.a.createElement(d.a,{name:"cil-chart-pie"}),1===c&&" Dashboard")),r.a.createElement(i.mb,null,r.a.createElement(i.nb,null,r.a.createElement(d.a,{name:"cil-user"}),2===c&&" Biodata")),r.a.createElement(i.mb,null,r.a.createElement(i.nb,null,r.a.createElement(d.a,{name:"cil-contact"}),3===c&&" Contact")),r.a.createElement(i.mb,null,r.a.createElement(i.nb,null,r.a.createElement(d.a,{name:"cil-map"}),4===c&&" Next of Kins")),r.a.createElement(i.mb,null,r.a.createElement(i.nb,null,r.a.createElement(d.a,{name:"cil-image"}),5===c&&" Photo Gallery")),r.a.createElement(i.mb,null,r.a.createElement(i.nb,null,r.a.createElement(d.a,{name:"cil-paint"}),6===c&&" Employment")),r.a.createElement(i.mb,null,r.a.createElement(i.nb,null,r.a.createElement(d.a,{name:"cil-book"}),7===c&&" Education")),r.a.createElement(i.mb,null,r.a.createElement(i.nb,null,r.a.createElement(d.a,{name:"cil-badge"}),8===c&&" Professional")),r.a.createElement(i.mb,null,r.a.createElement(i.nb,null,r.a.createElement(d.a,{name:"cil-mug-tea"}),9===c&&" Work")),r.a.createElement(i.mb,null,r.a.createElement(i.nb,null,r.a.createElement(d.a,{name:"cil-flight-takeoff"}),10===c&&" Leave")),r.a.createElement(i.mb,null,r.a.createElement(i.nb,null,r.a.createElement(d.a,{name:"cil-weightlifitng"}),11===c&&" Job"))),r.a.createElement(i.Ib,null,r.a.createElement(i.Jb,null,r.a.createElement(p,{staffs:se,setsearch:function(e){return ae(e)},dateactive:x,data1:X,setDates:function(e){return A(e)}})),r.a.createElement(i.Jb,null,r.a.createElement(y,{staffs:se})),r.a.createElement(i.Jb,null,r.a.createElement(N,{staffs:se})),r.a.createElement(i.Jb,null,r.a.createElement(b,{staffs:se})),r.a.createElement(i.Jb,null,r.a.createElement(g,{staffs:se})),r.a.createElement(i.Jb,null,r.a.createElement(v,{staffs:se})),r.a.createElement(i.Jb,null,r.a.createElement(D,{staffs:se})),r.a.createElement(i.Jb,null,r.a.createElement(k,{staffs:se,datas:X})),r.a.createElement(i.Jb,null,r.a.createElement(M,{staffs:se,datas:X})),r.a.createElement(i.Jb,null,r.a.createElement(j,{staffs:se,datas:X})),r.a.createElement(i.Jb,null,r.a.createElement(O,{staffs:se,datas:X})),r.a.createElement(i.Jb,null,r.a.createElement(S,{staffs:se,datas:X})))))))))}))},698:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(219);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,l=!1,r=void 0;try{for(var c,m=e[Symbol.iterator]();!(n=(c=m.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(s){l=!0,r=s}finally{try{n||null==m.return||m.return()}finally{if(l)throw r}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},705:function(e,t,a){"use strict";a.d(t,"e",(function(){return s})),a.d(t,"d",(function(){return o})),a.d(t,"g",(function(){return u})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return f})),a.d(t,"f",(function(){return E})),a.d(t,"h",(function(){return p}));var n=a(700),l=a.n(n),r=a(33),c=a(6),m=c.c,s=function(e){return function(t,a){e.token=c.e,e.table="staffs",t({type:r.k}),l.a.get(m,{params:e},c.l).then((function(e){t({type:r.h,payload:e.data})})).catch((function(e){t({type:r.l,payload:e})}))}},o=function(e){return function(t,a){e.token=c.e,t({type:r.k}),l.a.get(m,{params:e},c.l).then((function(e){t({type:r.f,payload:e.data})})).catch((function(e){t({type:r.l,payload:e})}))}},u=function(e){return function(t,a){t({type:r.k}),l.a.get(m,{params:e},c.l).then((function(e){t({type:r.j,payload:e.data})})).catch((function(e){t({type:r.l,payload:e})}))}},i=function(e){return function(t,a){t({type:r.k}),l.a.get(m,{params:e},c.l).then((function(e){t({type:r.g,payload:e.data})})).catch((function(e){t({type:r.l,payload:e})}))}},d=function(e){return function(t,a){t({type:r.i,payload:e})}},f=function(e){return function(t,a){l.a.POST(m,{params:e},c.l).then((function(a){t({type:r.d,payload:e.id})})).catch((function(e){t({type:r.c,payload:e})}))}},E=function(e){return function(t){l.a.post(m,e,c.m).then((function(e){t({type:r.n,payload:e.data.data})})).catch((function(e){t({type:r.m,payload:e})}))}},p=function(e){return function(t,a){l.a.post(m,e,c.m).then((function(e){t({type:r.p,payload:e.data.data})})).catch((function(e){t({type:r.o,payload:e})}))}}},795:function(e,t,a){"use strict";a.d(t,"e",(function(){return s})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return d})),a.d(t,"f",(function(){return f})),a.d(t,"g",(function(){return E})),a.d(t,"h",(function(){return p})),a.d(t,"i",(function(){return h}));var n=a(700),l=a.n(n),r=a(28),c=a(6),m=c.c,s=function(e){return function(t,a){e.token=c.e,t({type:r.j}),l.a.get(m,{params:e},c.l).then((function(e){t({type:r.h,payload:e.data})})).catch((function(e){t({type:r.k,payload:e})}))}},o=function(e){return function(t,a){e.token=c.e,t({type:r.j}),l.a.get(m,{params:e},c.l).then((function(e){t({type:r.g,payload:e.data})})).catch((function(e){t({type:r.k,payload:e})}))}},u=function(e){return function(t,a){t({type:r.i,payload:e})}},i=function(e){return function(t,a){l.a.POST(m,{params:e},c.l).then((function(a){t({type:r.e,payload:e.id})})).catch((function(e){t({type:r.d,payload:e})}))}},d=function(e){return function(t,a){l.a.POST(m,{params:e},c.l).then((function(a){t({type:r.c,payload:e.id})})).catch((function(e){t({type:r.d,payload:e})}))}},f=function(e){return function(t){l.a.post(m,e,c.m).then((function(e){t({type:r.n,payload:e.data.data})})).catch((function(e){t({type:r.m,payload:e})}))}},E=function(e){return function(t){l.a.post(m,e,c.m).then((function(e){t({type:r.l,payload:e.data.data})})).catch((function(e){t({type:r.m,payload:e})}))}},p=function(e){return function(t,a){l.a.post(m,e,c.m).then((function(e){t({type:r.q,payload:e.data.data})})).catch((function(e){t({type:r.p,payload:e})}))}},h=function(e){return function(t,a){l.a.post(m,e,c.m).then((function(e){t({type:r.o,payload:e.data.data})})).catch((function(e){t({type:r.p,payload:e})}))}}},797:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return i}));var n=a(700),l=a.n(n),r=a(65),c=a(6),m=c.c,s=function(e){return function(t,a){e.token=c.e,t({type:r.h}),l.a.get(m,{params:e},c.l).then((function(e){t({type:r.f,payload:e.data})})).catch((function(e){t({type:r.i,payload:e})}))}},o=function(e,t){return function(a,n){l.a.post(m,e,c.m).then((function(e){a({type:r.d,payload:t})})).catch((function(e){a({type:r.c,payload:e})}))}},u=function(e){return function(t){l.a.post(m,e,c.m).then((function(e){t({type:r.k,payload:e.data.data})})).catch((function(e){t({type:r.j,payload:e})}))}},i=function(e){return function(t,a){l.a.post(m,e,c.m).then((function(e){t({type:r.m,payload:e.data.data})})).catch((function(e){t({type:r.l,payload:e})}))}}},798:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return i}));var n=a(700),l=a.n(n),r=a(66),c=a(6),m=c.c,s=function(e){return function(t,a){e.token=c.e,t({type:r.h}),l.a.get(m,{params:e},c.l).then((function(e){t({type:r.f,payload:e.data})})).catch((function(e){t({type:r.i,payload:e})}))}},o=function(e,t){return function(a,n){l.a.post(m,e,c.m).then((function(e){a({type:r.d,payload:t})})).catch((function(e){a({type:r.c,payload:e})}))}},u=function(e){return function(t){l.a.post(m,e,c.m).then((function(e){t({type:r.k,payload:e.data.data})})).catch((function(e){t({type:r.j,payload:e})}))}},i=function(e){return function(t,a){l.a.post(m,e,c.m).then((function(e){t({type:r.m,payload:e.data.data})})).catch((function(e){t({type:r.l,payload:e})}))}}},799:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return i}));var n=a(700),l=a.n(n),r=a(64),c=a(6),m=c.c,s=function(e){return function(t,a){e.token=c.e,t({type:r.h}),l.a.get(m,{params:e},c.l).then((function(e){t({type:r.f,payload:e.data})})).catch((function(e){t({type:r.i,payload:e})}))}},o=function(e,t){return function(a,n){l.a.post(m,e,c.m).then((function(e){a({type:r.d,payload:t})})).catch((function(e){a({type:r.c,payload:e})}))}},u=function(e){return function(t){l.a.post(m,e,c.m).then((function(e){t({type:r.k,payload:e.data.data})})).catch((function(e){t({type:r.j,payload:e})}))}},i=function(e){return function(t,a){l.a.post(m,e,c.m).then((function(e){t({type:r.m,payload:e.data.data})})).catch((function(e){t({type:r.l,payload:e})}))}}}}]);
//# sourceMappingURL=29.e1cb6f13.chunk.js.map