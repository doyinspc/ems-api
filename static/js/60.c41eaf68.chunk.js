(this.webpackJsonpmesl=this.webpackJsonpmesl||[]).push([[60],{1076:function(e,t,a){"use strict";a.r(t);var n=a(698),l=a(3),r=a.n(l),c=a(217),m=a(730),s=a(24),o=a(712),i=a(697),d=a(699),u=a(1077),E=a(1079),p=a.n(E);t.default=Object(c.b)((function(e){return{admissions:e.admissionReducer}}),{getAdmissions:m.c,getAdmission:m.b,registerAdmission:m.d,updateAdmission:m.e,deleteAdmission:m.a})((function(e){var t=Object(s.g)(),a=Object(l.useState)(0),c=Object(n.a)(a,2),m=c[0],E=c[1];Object(l.useEffect)((function(){var t={data:JSON.stringify({is_active:0}),cat:"selected",table:"admissions",narration:"get all admissions"};e.getAdmissions(t)}),[]);for(var b=e.admissions.admissions&&Array.isArray(e.admissions.admissions)?e.admissions.admissions.filter((function(e){return null!==e||void 0!==e})):[],f=b.map((function(e,a){return r.a.createElement("tr",{key:a,onClick:function(){return t.push("/admission/".concat(e.id))}},r.a.createElement("td",{className:"text-center"},a+1),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename))),r.a.createElement("td",null,r.a.createElement("strong",null,r.a.createElement("a",{href:"mailto:".concat(e.phone1)},e.phone1)," ",r.a.createElement("a",{href:"mailto:".concat(e.phone2)},e.phone2))),r.a.createElement("td",null,r.a.createElement("strong",null,r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email))),r.a.createElement("td",null,r.a.createElement("div",{className:"text-muted ",style:{textTransform:"capitalize"}},e.address)))})),h=(b.map((function(e,t){return r.a.createElement(i.j,{key:t,className:"mx-3 ",style:{width:"140px",height:"200px"}},r.a.createElement(i.n,{className:"m-0 text-center"},r.a.createElement("b",{style:{textTransform:"capitalize"}},e.admission_no)),r.a.createElement(i.k,{className:"m-0 p-0 ",style:{height:"160px"}},r.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api//passport/"+e.photo1,className:"m-0 p-0",width:"100%",height:"160px",alt:e.admission_no,onError:function(e){e.target.onerror=null,e.target.src="avatars/1.jpg"}})),r.a.createElement("div",{className:"m-2",style:{backgroundColor:"rgba(0,0,0,0)"}},r.a.createElement("span",{style:{textTransform:"capitalize",fontSize:"18px",color:"white",fontWeight:"bolder"}}," ",e.surname," ",e.firstname," ",e.middlename)))})),b.map((function(e,t){return r.a.createElement("tr",{key:t,onClick:function(){return window.open("#/admission/".concat(e.id),"_blank")}},r.a.createElement("td",{className:"text-center"},r.a.createElement("div",{className:"c-avatar"},r.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api//passport/"+e.photo1,className:"c-avatar-img",alt:e.admission_no,onError:function(e){e.target.onerror=null,e.target.src="avatars/1.jpg"}}),r.a.createElement("span",{className:"c-avatar-status ".concat("Male"===e.gender?"bg-success":"bg-danger")}))),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename," ").concat(e.id)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,e.admission_no))),r.a.createElement("td",null,e.schoolname),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Date of Birth"),": ",r.a.createElement("strong",null,e.dob)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Date of Adm."),": ",r.a.createElement("strong",null,e.doe))),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted ",style:{textTransform:"capitalize"}},e.soo),r.a.createElement("strong",{style:{textTransform:"capitalize"}},e.lga)),r.a.createElement("td",null,r.a.createElement("div",{className:"text-muted ",style:{textTransform:"capitalize"}},e.gender)))}))),g=b.filter((function(e){return"Female"===e.gender})),x=b.filter((function(e){return"Male"===e.gender})),y={},N=0;N<b.length;N++)b[N].departmentid in y?y[b[N].departmentid]++:y[b[N].departmentid]=1;var v={};for(N=0;N<b.length;N++)b[N].religion in v?v[b[N].religion]++:v[b[N].religion]=1;var F={};for(N=0;N<b.length;N++)b[N].gender in F?F[b[N].gender]++:F[b[N].gender]=1;var k={};for(N=0;N<b.length;N++)b[N].soo in k?k[b[N].soo]++:k[b[N].soo]=1;var w={};for(N=0;N<b.length;N++){var j=new Date(b[N].dob).getFullYear(),D=Math.round((new Date).getFullYear()-j);D in w?w[D]++:w[D]=1}return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.wb,null,r.a.createElement("div",null),r.a.createElement(i.u,{xs:"12",md:"12",className:"mb-4"},r.a.createElement(i.j,null,r.a.createElement(i.n,null,r.a.createElement(i.wb,null,r.a.createElement(i.u,{sm:"5"},r.a.createElement("h4",{id:"traffic",className:"card-title mb-0"},"Admissions List"),r.a.createElement("div",{className:"small text-muted"},"Academic Calendar")),r.a.createElement(i.u,{sm:"7",className:"d-md-block"},r.a.createElement(i.f,{"data-target":"#formz","data-toggle":"collapse",color:"primary",onClick:function(){var e=new u.a;e.fromHTML(p()("/emsadmission/170").get(0),10,10,{width:180}),e.autoPrint(),e.output("dataurlnewwindow")},className:"float-right"},r.a.createElement(d.a,{name:"cil-cloud-download"}))))),r.a.createElement(i.k,null,r.a.createElement(i.Kb,{activeTab:m,onActiveTabChange:function(e){return E(e)}},r.a.createElement(i.lb,{variant:"tabs"},r.a.createElement(i.mb,null,r.a.createElement(i.nb,null,r.a.createElement(d.a,{name:"cil-chart-pie"}),0===m&&" Dashboard")),r.a.createElement(i.mb,null,r.a.createElement(i.nb,null,r.a.createElement(d.a,{name:"cil-calculator"}),1===m&&" Biodata")),r.a.createElement(i.mb,null,r.a.createElement(i.nb,null,r.a.createElement(d.a,{name:"cil-map"}),2===m&&" Stage"))),r.a.createElement(i.Ib,null,r.a.createElement(i.Jb,null,r.a.createElement("br",null),r.a.createElement(i.wb,{className:"mt-20 py-90"},r.a.createElement(i.u,{xs:"12",sm:"6",lg:"4"},r.a.createElement(i.Vb,{text:"Male",header:x.length,color:"success",iconPadding:!1},r.a.createElement(d.a,{width:24,name:"cil-user",className:"mx-5"}))),r.a.createElement(i.u,{xs:"12",sm:"6",lg:"4"},r.a.createElement(i.Vb,{text:"Female",header:g.length,color:"danger",iconPadding:!1},r.a.createElement(d.a,{width:24,name:"cil-user-female",className:"mx-5"}))),r.a.createElement(i.u,{xs:"12",sm:"6",lg:"4"},r.a.createElement(i.Vb,{text:"Total Admission",header:x.length+g.length,color:"info",iconPadding:!1},r.a.createElement("i",{className:"fa fa-users fa-2x mx-5"})))),r.a.createElement(i.wb,null,r.a.createElement(i.u,{xs:"12",sm:"12",md:"6"},r.a.createElement(i.j,null,r.a.createElement(i.n,null,"Gender"),r.a.createElement(i.k,null,r.a.createElement(o.d,{type:"pie",datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:Object.values(F)}],labels:Object.keys(F),options:{tooltips:{enabled:!0}}})))),r.a.createElement(i.u,{xs:"12",sm:"12",md:"6"},r.a.createElement(i.j,null,r.a.createElement(i.n,null,"Religion"),r.a.createElement(i.k,null,r.a.createElement(o.d,{type:"pie",datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:Object.values(v)}],labels:Object.keys(v),options:{tooltips:{enabled:!0}}}))))),r.a.createElement(i.wb,null,r.a.createElement(i.u,{xs:"12",sm:"12",md:"12"},r.a.createElement(i.j,null,r.a.createElement(i.n,null,"Age Distrubution"),r.a.createElement(i.k,null,r.a.createElement(o.a,{type:"barchart",datasets:[{backgroundColor:["#41B883","#E46651","#045800","#4AB883","#E96651","#09E0FF","#DD1116","#096651","#19E0FF","#296651","#39E0FF","#41B23","#E22651","#045800","#22B883","#226651","#55E0FF","#551116","#09aa51","#19bbFF","#29CC51","#39DDFF"],data:Object.values(w)}],labels:Object.keys(w),options:{tooltips:{enabled:!0}}}))))),r.a.createElement(i.wb,null,r.a.createElement(i.u,{xs:"12",sm:"12",md:"12"},r.a.createElement(i.j,null,r.a.createElement(i.n,null,"State of Origin"),r.a.createElement(i.k,null,r.a.createElement(o.a,{type:"barchart",datasets:[{backgroundColor:["#41B883","#E46651","#045800","#4AB883","#E96651","#09E0FF","#DD1116","#096651","#19E0FF","#296651","#39E0FF","#41B23","#E22651","#045800","#22B883","#226651","#55E0FF","#551116","#09aa51","#19bbFF","#29CC51","#39DDFF"],data:Object.values(k)}],labels:Object.keys(k),options:{tooltips:{enabled:!0}}})))))),r.a.createElement(i.Jb,null,r.a.createElement("table",{className:"table table-hover table-outline mb-0 d-none d-sm-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},r.a.createElement(d.a,{name:"cil-people"})),r.a.createElement("th",null,"Admission"),r.a.createElement("th",{className:"text-center"},"Contacts"),r.a.createElement("th",{className:"text-center"},"Dates"),r.a.createElement("th",{className:"text-center"},"School"),r.a.createElement("th",null,"Origin"),r.a.createElement("th",null,"Gender"))),r.a.createElement("tbody",null,h))),r.a.createElement(i.Jb,null,r.a.createElement("table",{className:"table table-hover table-outline mb-0 d-none d-sm-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Admission ID"),r.a.createElement("th",null,"Fullname"),r.a.createElement("th",{className:"text-center"},"School Mgt"),r.a.createElement("th",{className:"text-center"},"Bursar"),r.a.createElement("th",{className:"text-center"},"Admission Officer"),r.a.createElement("th",{className:"text-center"},"Educational Officer"),r.a.createElement("th",{className:"text-center"},"Class teaher"))),r.a.createElement("tbody",null,f))))))))))}))},730:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return u}));var n=a(700),l=a.n(n),r=a(51),c=a(6),m=c.b,s=function(e){return function(t,a){e.token=c.e,e.table="admissions",t({type:r.h}),l.a.get(m,{params:e},c.l).then((function(e){t({type:r.f,payload:e.data})})).catch((function(e){t({type:r.i,payload:e})}))}},o=function(e){return function(t,a){t({type:r.g,payload:e})}},i=function(e){return function(t,a){l.a.POST(m,{params:e},c.l).then((function(a){t({type:r.d,payload:e.id})})).catch((function(e){t({type:r.c,payload:e})}))}},d=function(e){return function(t){l.a.post(m,e,c.m).then((function(e){t({type:r.k,payload:e.data.data})})).catch((function(e){t({type:r.j,payload:e})}))}},u=function(e){return function(t,a){l.a.post(m,e,c.m).then((function(e){t({type:r.m,payload:e.data.data})})).catch((function(e){t({type:r.l,payload:e})}))}}}}]);
//# sourceMappingURL=60.c41eaf68.chunk.js.map