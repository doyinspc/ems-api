(this.webpackJsonpmesl=this.webpackJsonpmesl||[]).push([[35],{1051:function(e,t,a){"use strict";a.r(t);var n=a(698),c=a(3),r=a.n(c),l=a(217),u=a(702),o=a.n(u),i=a(783),s=a(707),m=a(705),d=a(24),f=a(697),p=a(699);t.default=Object(l.b)((function(e){return{caunits:e.caunitReducer,terms:e.termReducer.terms,claszs:e.claszReducer.claszs,staffs:e.staffReducer.staffs,school:e.schoolReducer.school,dropdowns:e.schoolReducer.dropdowns}}),{getStaffs:m.e,getCaunits:i.c,getCaunit:i.b,registerCaunit:i.d,updateCaunit:i.e,deleteCaunit:i.a,getClaszs:s.c})((function(e){var t=Object(d.i)().term,a=Object(d.i)().ca,l=(Object(d.g)(),Object(d.h)().search.match(/page=([0-9]+)/,""),Object(c.useState)(!1)),u=Object(n.a)(l,2),i=u[0],s=u[1],m=Object(c.useState)(null),y=Object(n.a)(m,2),b=y[0],h=y[1],E=Object(c.useState)(""),g=Object(n.a)(E,2),N=g[0],v=g[1],j=Object(c.useState)(),O=Object(n.a)(j,2),S=O[0],k=O[1],C=Object(c.useState)(),x=Object(n.a)(C,2),A=x[0],w=x[1],z=Object(c.useState)(),I=Object(n.a)(z,2),M=(I[0],I[1]),R=Object(c.useState)(),T=Object(n.a)(R,2),F=T[0],Y=T[1],D=Object(c.useState)(),K=Object(n.a)(D,2),L=K[0],V=K[1],J=Object(c.useState)(),P=Object(n.a)(J,2),B=P[0],U=P[1];Object(c.useEffect)((function(){var t={data:JSON.stringify({caid:a}),caunitt:"selected",table:"caunits",narration:"get staff term caunit unit"};e.getCaunits(t)}),[a,e.school.id]),Object(c.useEffect)((function(){if(b&&parseInt(b)>0){var e=N;k(e.name),w(e.abbrv),U(e.maxscore),Y(e.started),V(e.ended)}else k(""),w(""),U(""),Y(""),V("")}),[b]);var W=function(){return h(null)},X=(e.dropdowns&&Array.isArray(e.dropdowns)?e.dropdowns[1]:[]).filter((function(e){return null!==e})).map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})),q=e.dropdowns[0].filter((function(e){return parseInt(e.id)===parseInt(t)&&parseInt(e.id)>0})),G=q.length>0?q[0].name:"None",H=(e.caunits.caunits&&Array.isArray(e.caunits.caunits)?e.caunits.caunits.filter((function(e){return null!==e||void 0!==e})):[]).filter((function(e){return null!==e})).map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"text-center"},t+1),r.a.createElement("td",{className:"text-left"},e.name),r.a.createElement("td",{className:"text-center"},e.abbrv),r.a.createElement("td",{className:"text-center"},e.maxscore),r.a.createElement("td",{className:"text-center"},o()(e.started).format("MMM D, YYYY")),r.a.createElement("td",{className:"text-center"},o()(e.ended).format("MMM D, YYYY")),r.a.createElement("td",{className:"text-center"},r.a.createElement(f.z,{className:"m-0 btn-group"},r.a.createElement(f.E,{color:"success",size:"sm"},r.a.createElement("i",{className:"fa fa-gear"})," Action"),r.a.createElement(f.D,null,r.a.createElement(f.C,{onClick:function(){return h((t=e).id),v(t),void s(!0);var t}},"Edit"),r.a.createElement(f.C,{onClick:function(){e.cid}},"Delete"),r.a.createElement(f.A,null),r.a.createElement(f.C,null,"Another Action")))))}));return r.a.createElement(f.wb,null,r.a.createElement(f.u,null,r.a.createElement(f.j,null,r.a.createElement(f.n,null,r.a.createElement(f.wb,null,r.a.createElement(f.u,{sm:"5"},r.a.createElement("h4",{id:"traffic",className:"caunitrd-title mb-0"},G," : ",r.a.createElement("small",null," Assessment")),r.a.createElement("div",{className:"small text-muted",style:{textTransform:"caunitpitalize"}},e.school.name)),r.a.createElement(f.u,{sm:"7",className:"d-md-block"},r.a.createElement(f.f,{"data-target":"#formz","data-toggle":"collapse",color:"primary",onClick:function(e){s(!i),e.preventDefault()},className:"float-right"},r.a.createElement("i",{className:"fa fa-plus"}))))),r.a.createElement(f.k,null,r.a.createElement("table",{className:"table table-hover table-outline mb-0  d-sm-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"}," SN."),r.a.createElement("th",null,r.a.createElement("i",{className:"fa fa-list text-center"})," ASSESSMENT NAME"),r.a.createElement("th",null,r.a.createElement("i",{className:"fa fa-bullseye text-center"})," ABBRV"),r.a.createElement("th",null,r.a.createElement("i",{className:"fa fa-list"})," MAX SCORE"),r.a.createElement("th",null,r.a.createElement("i",{className:"fa fa-gear"})," ACTION"))),r.a.createElement("tbody",null,H))))),r.a.createElement(f.v,{show:i},r.a.createElement(f.u,{xl:12,id:"#formz"},r.a.createElement(f.j,null,r.a.createElement(f.n,{id:"traffic",className:"caunitrd-title mb-0"},r.a.createElement(f.wb,null,r.a.createElement(f.u,{sm:"6"},r.a.createElement("h4",null,b&&parseInt(b)>0?"Edit":"Add"," ",r.a.createElement("small",null," CAUNIT"))),r.a.createElement(f.u,{sm:"6",className:"d-md-block"},r.a.createElement(f.f,{color:"danger",onClick:function(){return s(!1)},className:"float-right"},r.a.createElement("i",{className:"fa fa-remove"}))))),r.a.createElement(f.k,null,r.a.createElement(f.J,{action:"",method:"post"},r.a.createElement(f.K,null,r.a.createElement(f.cb,{htmlFor:"nf-namez"},"Name "),r.a.createElement(f.S,{type:"text",id:"nf-namez",name:"namez",defaultValue:S,onChange:function(e){return k(e.target.value)},placeholder:"First Continious Assessment"}),r.a.createElement(f.L,{className:"help-block"},"set assessment name")),r.a.createElement(f.K,null,r.a.createElement(f.cb,{htmlFor:"nf-abbrv"},"Abbreviation "),r.a.createElement(f.S,{type:"text",id:"nf-abbrv",name:"abbrv",defaultValue:A,onChange:function(e){return w(e.target.value)},placeholder:"CAUNIT1"}),r.a.createElement(f.L,{className:"help-block"},"abbreviate name")),r.a.createElement(f.K,null,r.a.createElement(f.cb,{htmlFor:"nf-claszid"},"Class "),r.a.createElement(f.xb,{type:"text",id:"nf-claszid",name:"claszid",onChange:function(e){return M(e.target.value)},placeholder:""},X),r.a.createElement(f.L,{className:"help-block"},"Select the class")),r.a.createElement(f.K,null,r.a.createElement(f.cb,{htmlFor:"nf-maxscore"},"Maximum Score "),r.a.createElement(f.S,{type:"text",id:"nf-maxscore",name:"maxscore",defaultValue:B,onChange:function(e){return U(e.target.value)},placeholder:"20"}),r.a.createElement(f.L,{className:"help-block"},"set the maximum score students caunitn attain on this assessment")),r.a.createElement(f.K,null,r.a.createElement(f.cb,{htmlFor:"nf-starts"},"Starts "),r.a.createElement(f.S,{type:"date",id:"nf-starts",name:"starts",defaultValue:F,onChange:function(e){return Y(e.target.value)},placeholder:"date"}),r.a.createElement(f.L,{className:"help-block"},"When will record entry start")),r.a.createElement(f.K,null,r.a.createElement(f.cb,{htmlFor:"nf-ends"},"Ends "),r.a.createElement(f.S,{type:"date",id:"nf-ends",name:"ends",defaultValue:L,onChange:function(e){return V(e.target.value)},placeholder:"date"}),r.a.createElement(f.L,{className:"help-block"},"When will record entry end")))),r.a.createElement(f.l,null,r.a.createElement(f.f,{type:"submit",onClick:function(){if(parseInt(t)>0){var a=new FormData;a.append("name",S),a.append("abbrv",A),a.append("started",F),a.append("ended",L),a.append("maxscore",B),a.append("table","caunits"),b&&parseInt(b)>0?(a.append("id",b),a.append("cat","update"),e.updateCaunit(a)):t&&parseInt(t)>0&&(a.append("caid",t),a.append("cat","insert"),e.registerCaunit(a)),W()}},size:"sm",color:"primary"},r.a.createElement(p.a,{name:"cil-scrubber"})," Submit")," ",r.a.createElement(f.f,{type:"reset",onClick:W,size:"sm",color:"danger"},r.a.createElement(p.a,{name:"cil-ban"})," Reset"))))))}))},698:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(219);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,c=!1,r=void 0;try{for(var l,u=e[Symbol.iterator]();!(n=(l=u.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(o){c=!0,r=o}finally{try{n||null==u.return||u.return()}finally{if(c)throw r}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},705:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"g",(function(){return s})),a.d(t,"a",(function(){return m})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return f})),a.d(t,"f",(function(){return p})),a.d(t,"h",(function(){return y}));var n=a(700),c=a.n(n),r=a(33),l=a(6),u=l.c,o=function(e){return function(t,a){e.token=l.e,e.table="staffs",t({type:r.k}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.h,payload:e.data})})).catch((function(e){t({type:r.l,payload:e})}))}},i=function(e){return function(t,a){e.token=l.e,t({type:r.k}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.f,payload:e.data})})).catch((function(e){t({type:r.l,payload:e})}))}},s=function(e){return function(t,a){t({type:r.k}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.j,payload:e.data})})).catch((function(e){t({type:r.l,payload:e})}))}},m=function(e){return function(t,a){t({type:r.k}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.g,payload:e.data})})).catch((function(e){t({type:r.l,payload:e})}))}},d=function(e){return function(t,a){t({type:r.i,payload:e})}},f=function(e){return function(t,a){c.a.POST(u,{params:e},l.l).then((function(a){t({type:r.d,payload:e.id})})).catch((function(e){t({type:r.c,payload:e})}))}},p=function(e){return function(t){c.a.post(u,e,l.m).then((function(e){t({type:r.n,payload:e.data.data})})).catch((function(e){t({type:r.m,payload:e})}))}},y=function(e){return function(t,a){c.a.post(u,e,l.m).then((function(e){t({type:r.p,payload:e.data.data})})).catch((function(e){t({type:r.o,payload:e})}))}}},707:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return m})),a.d(t,"e",(function(){return d}));var n=a(700),c=a.n(n),r=a(47),l=a(6),u=l.b,o=function(e){return function(t,a){e.token=l.e,e.table="claszs",t({type:r.h}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.f,payload:e.data})})).catch((function(e){t({type:r.i,payload:e})}))}},i=function(e){return function(t,a){t({type:r.g,payload:e})}},s=function(e){return function(t,a){c.a.POST(u,{params:e},l.l).then((function(a){t({type:r.d,payload:e.id})})).catch((function(e){t({type:r.c,payload:e})}))}},m=function(e){return function(t){c.a.post(u,e,l.m).then((function(e){t({type:r.k,payload:e.data.data})})).catch((function(e){t({type:r.j,payload:e})}))}},d=function(e){return function(t,a){c.a.post(u,e,l.m).then((function(e){t({type:r.m,payload:e.data.data})})).catch((function(e){t({type:r.l,payload:e})}))}}},783:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return m})),a.d(t,"e",(function(){return d}));var n=a(700),c=a.n(n),r=a(57),l=a(6),u=l.b,o=function(e){return function(t,a){e.token=l.e,e.table="caunits",t({type:r.h}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.f,payload:e.data})})).catch((function(e){t({type:r.i,payload:e})}))}},i=function(e){return function(t,a){t({type:r.g,payload:e})}},s=function(e){return function(t,a){c.a.POST(u,{params:e},l.l).then((function(a){t({type:r.d,payload:e.id})})).catch((function(e){t({type:r.c,payload:e})}))}},m=function(e){return function(t){c.a.post(u,e,l.m).then((function(e){t({type:r.k,payload:e.data.data})})).catch((function(e){t({type:r.j,payload:e})}))}},d=function(e){return function(t,a){c.a.post(u,e,l.m).then((function(e){t({type:r.m,payload:e.data.data})})).catch((function(e){t({type:r.l,payload:e})}))}}}}]);
//# sourceMappingURL=35.08bd5430.chunk.js.map