(this.webpackJsonpmesl=this.webpackJsonpmesl||[]).push([[96],{1058:function(e,a,t){"use strict";t.r(a);var n=t(698),c=t(3),l=t.n(c),r=t(217),s=(t(702),t(697)),i=t(705),m=t(875),o=t(940),f=t(876),u=t(941),E=t(878),d=t(879),p=t(847),C=t(880),N=t(881),g=(t(882),t(942)),h=t(943),k=t(944),v=t(24),b=(t(883),t(699));a.default=Object(r.b)((function(e){return{user:e.userReducer.user,isAdmin:e.userReducer.isAdmin,activeschool:e.userReducer.activeschool,staff:e.staffReducer.staff,staffleave:e.staffleaveReducer.staffleave,staffreport:e.staffreportReducer.staffreport,staffeducation:e.staffeducationReducer.staffeducation,staffexperience:e.staffexperienceReducer.staffexperience,staffprofessional:e.staffprofessionalReducer.staffprofessional}}),{getStaff:i.c})((function(e,a){a.match;var t=Object(v.i)().staff,r=Object(c.useState)(0),i=Object(n.a)(r,2),A=i[0],O=i[1],j=Object(c.useState)(0),x=Object(n.a)(j,2),y=x[0],R=x[1],z=Object(c.useState)([]),S=Object(n.a)(z,2);S[0],S[1];Object(c.useEffect)((function(){e.getStaff(t)}),[A,t]);var w=function(e){R(0),O(e)},q=function(e){R(e),O(0)},P=e.staff||{},J=P.employment_no,D=(P.id,P.surname),B=P.firstname,H=P.middlename,I=P.photo,_=D+" "+B+" "+H,F=void 0!==e.activeschool?e.activeschool.id:null,K=void 0!==e.user.access&&e.user.access.length>0?JSON.parse(e.user.access):{},L={};if(Object.keys(K).length>0&&!0!==e.isAdmin){var M=void 0!==e.activeschool?e.activeschool.id:null;if(void 0===K||!K.hasOwnProperty(M))return l.a.createElement(v.a,{to:"/"});var T=Object.keys(K[M]);if(void 0===T||!T.includes("0"))return l.a.createElement(v.a,{to:"/"});L=Object.keys(K[M][0])}else if(!0!==e.isAdmin)return l.a.createElement(v.a,{to:"/"});return l.a.createElement(l.a.Fragment,null,l.a.createElement(s.wb,null,l.a.createElement(s.u,{lg:12},l.a.createElement(s.j,null,l.a.createElement(s.n,null,l.a.createElement(s.wb,{className:"m-0 p-0"},l.a.createElement(s.u,{xs:1,sm:1,className:"m-0 p-0"},l.a.createElement("div",{className:"c-avatars m-0"},l.a.createElement(s.R,{src:"http://127.0.0.1/ems/ems-api/api/"+I,className:"c-avatar-imgf img-responsive m-0",height:"50px",width:"45px",alt:e.username,onError:function(e){e.target.onerror=null,e.target.src="icons/profile_4.png"}}))),l.a.createElement(s.u,{xs:10,sm:7},l.a.createElement("h4",null,_),"Staff ID: ",l.a.createElement("strong",null,J)),l.a.createElement(s.u,{xs:12,sm:4,className:"d-md-block btn-group"},l.a.createElement(s.g,{className:"pull-right"},l.a.createElement(s.z,{color:"secondary"},l.a.createElement(s.E,{caret:!0,color:"secondary"},l.a.createElement("i",{className:"fa fa-list"})," ",l.a.createElement("span",{className:"hidden-phone"}," Menu")),l.a.createElement(s.D,{className:"pt-0",placement:"bottom-end"},l.a.createElement(s.C,{header:!0,tag:"div",color:"light",className:"text-center"},l.a.createElement("strong",null,"Personal")),0 in L||e.isAdmin?l.a.createElement(s.C,{onClick:function(e){return w(0)}},l.a.createElement(b.a,{name:"cil-user",className:"mfe-2"}),"Basic Information"):"",1 in L||e.isAdmin?l.a.createElement(s.C,{onClick:function(e){return w(1)}},l.a.createElement(b.a,{name:"cil-book",className:"mfe-2"}),"Education History"):"",2 in L||e.isAdmin?l.a.createElement(s.C,{onClick:function(e){return w(2)}},l.a.createElement(b.a,{name:"cil-badge",className:"mfe-2"}),"Professional Certifications"):"",3 in L||e.isAdmin?l.a.createElement(s.C,{onClick:function(e){return w(3)}},l.a.createElement(b.a,{name:"cil-mug-tea",className:"mfe-2"}),"Work History"):"",4 in L||e.isAdmin?l.a.createElement(s.C,{onClick:function(e){return w(4)}},l.a.createElement(b.a,{name:"cil-flight-takeoff",className:"mfe-2"}),"Leave Applications"):"",l.a.createElement(s.C,{header:!0,tag:"div",color:"light",className:"text-center"},l.a.createElement("strong",null,"Official")),5 in L||e.isAdmin?l.a.createElement(s.C,{onClick:function(e){return w(5)}},l.a.createElement(b.a,{name:"cil-weightlifitng",className:"mfe-2"}),"Job Roles"):"",6 in L||e.isAdmin?l.a.createElement(s.C,{onClick:function(e){return w(6)}},l.a.createElement(b.a,{name:"cil-task",className:"mfe-2"}),"Subject/Class"):"",7 in L||e.isAdmin?l.a.createElement(s.C,{onClick:function(e){return w(7)}},l.a.createElement(b.a,{name:"cil-sign-language",className:"text-success mfe-2"}),"Commendations"):"",8 in L||e.isAdmin?l.a.createElement(s.C,{onClick:function(e){return w(8)}},l.a.createElement(b.a,{name:"cil-mood-very-bad",className:"text-danger mfe-2"}),"Sanctions"):"",9 in L||e.isAdmin?l.a.createElement(s.C,{onClick:function(e){return w(9)}},l.a.createElement(b.a,{name:"cil-pencil",className:"mfe-2"}),"Audit Trail"):"",10 in L||e.isAdmin?l.a.createElement(s.C,{onClick:function(e){return w(10)}},l.a.createElement(b.a,{name:"cil-lock-locked",className:"mfe-2"}),"Access"):"")),0 in L&&K[F][0][0].includes(2)||e.isAdmin?l.a.createElement(s.z,{color:"secondary"},l.a.createElement(s.E,{caret:!0,color:"secondary"},l.a.createElement(b.a,{name:"cil-equalizer",className:"mfe-2"})," ",l.a.createElement("span",{className:"d-n0ne"}," Edit")),l.a.createElement(s.D,null,l.a.createElement(s.C,{onClick:function(){return q(1)}},l.a.createElement(b.a,{name:"cil-equalizer",className:"mfe-2"}),"  Employment"),l.a.createElement(s.C,{onClick:function(){return q(2)}},l.a.createElement(b.a,{name:"cil-equalizer",className:"mfe-2"}),"  Biodata"),l.a.createElement(s.C,{onClick:function(){return q(3)}},l.a.createElement(b.a,{name:"cil-equalizer",className:"mfe-2"}),"  Next of Kin"),l.a.createElement(s.C,{onClick:function(){return q(4)}},l.a.createElement(b.a,{name:"cil-equalizer",className:"mfe-2"}),"  Photo"),l.a.createElement(s.C,{onClick:function(){return q(5)}},l.a.createElement(b.a,{name:"cil-equalizer",className:"mfe-2"}),"  Password"),l.a.createElement(s.C,{onClick:function(){return q(6)}},l.a.createElement(b.a,{name:"cil-equalizer",className:"mfe-2"}),"  Exit"))):""))))))),y>0?l.a.createElement(p.default,{editid:y,data:e.staff,personal:!1}):"",0===A&&0===y?l.a.createElement(m.a,{staff:e.staff}):"",1===A&&0===y?l.a.createElement(k.a,{sid:t}):"",2===A&&0===y?l.a.createElement(h.a,{sid:t}):"",3===A&&0===y?l.a.createElement(g.a,{sid:t}):"",4===A&&0===y?l.a.createElement(o.a,{sid:t}):"",5===A&&0===y?l.a.createElement(u.a,{sid:t,personal:!1}):"",7===A&&0===y?l.a.createElement(d.a,{sid:t,personal:!1}):"",8===A&&0===y?l.a.createElement(d.a,{sid:t,personal:!1}):"",6===A&&0===y?l.a.createElement(C.a,{sid:t,personal:!1}):"",6===A&&0===y?l.a.createElement(N.a,{sid:t,personal:!1}):"",9===A&&0===y?l.a.createElement(f.a,{sid:t,personal:!1}):"",10===A&&0===y?l.a.createElement(E.a,{sid:t,personal:!1,data:e.staff}):"")}))}}]);
//# sourceMappingURL=96.4456f52b.chunk.js.map