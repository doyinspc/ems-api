(this.webpackJsonpmesl=this.webpackJsonpmesl||[]).push([[36],{1074:function(t,e,a){"use strict";a.r(e);var n=a(698),c=a(3),r=a.n(c),l=a(217),o=a(823),s=a(707),u=a(705),f=a(24),i=a(697),d=a(699),m=a(6);a(226);e.default=Object(l.b)((function(t){return{staffclasss:t.staffclassReducer,terms:t.termReducer.terms,claszs:t.claszReducer.claszs,staffs:t.staffReducer.staffs,school:t.schoolReducer.school,dropdowns:t.schoolReducer.dropdowns}}),{getStaffs:u.e,getStaffclasss:o.c,getStaffclass:o.b,registerStaffclass:o.d,updateStaffclass:o.e,deleteStaffclass:o.a,getClaszs:s.c})((function(t){var e=Object(f.i)().term,a=(Object(f.g)(),Object(f.h)().search.match(/page=([0-9]+)/,""),Object(c.useState)(!1)),l=Object(n.a)(a,2),o=l[0],s=l[1],u=Object(c.useState)(null),p=Object(n.a)(u,2),y=p[0],h=p[1],E=Object(c.useState)(""),b=Object(n.a)(E,2),g=b[0],S=b[1],v=Object(c.useState)(),k=Object(n.a)(v,2),N=k[0],j=k[1],O=Object(c.useState)(),w=Object(n.a)(O,2),A=w[0],z=w[1];Object(c.useEffect)((function(){var a={data:JSON.stringify({schoolid:t.school.id}),cat:"select",table:"staffs",narration:"get staffs"};t.getStaffs(a);var n={data:JSON.stringify({termid:e,grp:1}),cat:"staffclass",table:"accessstaffclass",narration:"get staff classes"};t.getStaffclasss(n)}),[e,1,t.school.id]),Object(c.useEffect)((function(){if(y&&parseInt(y)>0){var t=g;z(t.clientid),j(t.itemid),Object(m.w)("nf-claszid",t.itemid),Object(m.w)("nf-staff",t.clientid)}else z(""),j("")}),[y]);var C=function(){return h(null)},x=t.dropdowns[0].filter((function(t){return parseInt(t.id)===parseInt(e)&&parseInt(t.id)>0})),I=x.length>0?x[0].name:"None",T=(t.dropdowns&&Array.isArray(t.dropdowns)?t.dropdowns[1]:[]).filter((function(t){return null!==t})).map((function(t,e){return r.a.createElement("option",{key:e,value:t.id},t.name)})),R=(t.staffs&&Array.isArray(t.staffs)?t.staffs:[]).filter((function(t){return null!==t})).map((function(t,e){return r.a.createElement("option",{key:e,value:t.id},t.surname," ",t.firstname)})),F=(t.staffclasss.staffclasss&&Array.isArray(t.staffclasss.staffclasss)?t.staffclasss.staffclasss.filter((function(t){return null!==t||void 0!==t})):[]).filter((function(t){return null!==t})).map((function(t,e){return r.a.createElement("tr",{key:e},r.a.createElement("td",{className:"text-center"},e+1),r.a.createElement("td",{className:"text-center"},t.itemname),r.a.createElement("td",null,t.clientname),r.a.createElement("td",{className:"text-center"},r.a.createElement(i.z,{className:"m-0 btn-group"},r.a.createElement(i.E,{color:"success",size:"sm"},r.a.createElement("i",{className:"fa fa-gear"})," Action"),r.a.createElement(i.D,null,r.a.createElement(i.C,{onClick:function(){return h((e=t).id),S(e),void s(!0);var e}},"Edit"),r.a.createElement(i.C,{onClick:function(){t.cid}},"Delete"),r.a.createElement(i.A,null),r.a.createElement(i.C,null,"Another Action")))))}));return r.a.createElement(i.wb,null,r.a.createElement(i.u,null,r.a.createElement(i.j,null,r.a.createElement(i.n,null,r.a.createElement(i.wb,null,r.a.createElement(i.u,{sm:"5"},r.a.createElement("h4",{id:"traffic",className:"card-title mb-0"},"Class Teacher Allocation : ",I),r.a.createElement("div",{className:"small text-muted",style:{textTransform:"capitalize"}},t.school.name)),r.a.createElement(i.u,{sm:"7",className:"d-md-block"},r.a.createElement(i.f,{"data-target":"#formz","data-toggle":"collapse",color:"primary",onClick:function(t){s(!o),t.preventDefault()},className:"float-right"},r.a.createElement("i",{className:"fa fa-plus"}))))),r.a.createElement(i.k,null,r.a.createElement("table",{className:"table table-hover table-outline mb-0  d-sm-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"}," SN."),r.a.createElement("th",null,r.a.createElement("i",{className:"fa fa-list text-center"})," CLASS"),r.a.createElement("th",null,r.a.createElement("i",{className:"fa fa-list"})," STAFF NAME"),r.a.createElement("th",null,r.a.createElement("i",{className:"fa fa-gear"})," ACTION"))),r.a.createElement("tbody",null,F))))),r.a.createElement(i.v,{show:o},r.a.createElement(i.u,{xl:12,id:"#formz"},r.a.createElement(i.j,null,r.a.createElement(i.n,{id:"traffic",className:"card-title mb-0"},r.a.createElement(i.wb,null,r.a.createElement(i.u,{sm:"6"},r.a.createElement("h4",null,y&&parseInt(y)>0?"Edit":"Add"," ",r.a.createElement("small",null," Staffclass"))),r.a.createElement(i.u,{sm:"6",className:"d-md-block"},r.a.createElement(i.f,{color:"danger",onClick:function(){return s(!1)},className:"float-right"},r.a.createElement("i",{className:"fa fa-remove"}))))),r.a.createElement(i.k,null,r.a.createElement(i.J,{action:"",method:"post"},r.a.createElement(i.K,null,r.a.createElement(i.cb,{htmlFor:"nf-staff"},"Staff "),r.a.createElement(i.xb,{type:"text",id:"nf-staff",name:"staff",onChange:function(t){return z(t.target.value)},placeholder:""},R),r.a.createElement(i.L,{className:"help-block"},"Select the staff")),r.a.createElement(i.K,null,r.a.createElement(i.cb,{htmlFor:"nf-claszid"},"Class "),r.a.createElement(i.xb,{type:"text",id:"nf-claszid",name:"claszid",onChange:function(t){return j(t.target.value)},placeholder:""},T),r.a.createElement(i.L,{className:"help-block"},"Select the class")))),r.a.createElement(i.l,null,r.a.createElement(i.f,{type:"submit",onClick:function(){if(parseInt(A)>0){var a=new FormData;a.append("itemid",N),a.append("clientid",A),a.append("checker","1_"+e+"_"+A+"_"+N),a.append("table","access"),y&&parseInt(y)>0?(a.append("id",y),a.append("cat","updates"),t.updateStaffclass(a)):e&&parseInt(e)>0&&(a.append("grp",1),a.append("termid",e),a.append("cat","inserts"),t.registerStaffclass(a)),C()}},size:"sm",color:"primary"},r.a.createElement(d.a,{name:"cil-scrubber"})," Submit")," ",r.a.createElement(i.f,{type:"reset",onClick:C,size:"sm",color:"danger"},r.a.createElement(d.a,{name:"cil-ban"})," Reset"))))))}))},698:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));var n=a(219);function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var a=[],n=!0,c=!1,r=void 0;try{for(var l,o=t[Symbol.iterator]();!(n=(l=o.next()).done)&&(a.push(l.value),!e||a.length!==e);n=!0);}catch(s){c=!0,r=s}finally{try{n||null==o.return||o.return()}finally{if(c)throw r}}return a}}(t,e)||Object(n.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},705:function(t,e,a){"use strict";a.d(e,"e",(function(){return s})),a.d(e,"d",(function(){return u})),a.d(e,"g",(function(){return f})),a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return d})),a.d(e,"b",(function(){return m})),a.d(e,"f",(function(){return p})),a.d(e,"h",(function(){return y}));var n=a(700),c=a.n(n),r=a(33),l=a(6),o=l.c,s=function(t){return function(e,a){t.token=l.e,t.table="staffs",e({type:r.k}),c.a.get(o,{params:t},l.l).then((function(t){e({type:r.h,payload:t.data})})).catch((function(t){e({type:r.l,payload:t})}))}},u=function(t){return function(e,a){t.token=l.e,e({type:r.k}),c.a.get(o,{params:t},l.l).then((function(t){e({type:r.f,payload:t.data})})).catch((function(t){e({type:r.l,payload:t})}))}},f=function(t){return function(e,a){e({type:r.k}),c.a.get(o,{params:t},l.l).then((function(t){e({type:r.j,payload:t.data})})).catch((function(t){e({type:r.l,payload:t})}))}},i=function(t){return function(e,a){e({type:r.k}),c.a.get(o,{params:t},l.l).then((function(t){e({type:r.g,payload:t.data})})).catch((function(t){e({type:r.l,payload:t})}))}},d=function(t){return function(e,a){e({type:r.i,payload:t})}},m=function(t){return function(e,a){c.a.POST(o,{params:t},l.l).then((function(a){e({type:r.d,payload:t.id})})).catch((function(t){e({type:r.c,payload:t})}))}},p=function(t){return function(e){c.a.post(o,t,l.m).then((function(t){e({type:r.n,payload:t.data.data})})).catch((function(t){e({type:r.m,payload:t})}))}},y=function(t){return function(e,a){c.a.post(o,t,l.m).then((function(t){e({type:r.p,payload:t.data.data})})).catch((function(t){e({type:r.o,payload:t})}))}}},707:function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return u})),a.d(e,"a",(function(){return f})),a.d(e,"d",(function(){return i})),a.d(e,"e",(function(){return d}));var n=a(700),c=a.n(n),r=a(47),l=a(6),o=l.b,s=function(t){return function(e,a){t.token=l.e,t.table="claszs",e({type:r.h}),c.a.get(o,{params:t},l.l).then((function(t){e({type:r.f,payload:t.data})})).catch((function(t){e({type:r.i,payload:t})}))}},u=function(t){return function(e,a){e({type:r.g,payload:t})}},f=function(t){return function(e,a){c.a.POST(o,{params:t},l.l).then((function(a){e({type:r.d,payload:t.id})})).catch((function(t){e({type:r.c,payload:t})}))}},i=function(t){return function(e){c.a.post(o,t,l.m).then((function(t){e({type:r.k,payload:t.data.data})})).catch((function(t){e({type:r.j,payload:t})}))}},d=function(t){return function(e,a){c.a.post(o,t,l.m).then((function(t){e({type:r.m,payload:t.data.data})})).catch((function(t){e({type:r.l,payload:t})}))}}},823:function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return u})),a.d(e,"a",(function(){return f})),a.d(e,"d",(function(){return i})),a.d(e,"e",(function(){return d}));var n=a(700),c=a.n(n),r=a(62),l=a(6),o=l.c,s=function(t){return function(e,a){t.token=l.e,e({type:r.h}),c.a.get(o,{params:t},l.l).then((function(t){e({type:r.f,payload:t.data})})).catch((function(t){e({type:r.i,payload:t})}))}},u=function(t){return function(e,a){e({type:r.g,payload:t})}},f=function(t){return function(e,a){c.a.POST(o,{params:t},l.l).then((function(a){e({type:r.d,payload:t.id})})).catch((function(t){e({type:r.c,payload:t})}))}},i=function(t){return function(e){c.a.post(o,t,l.m).then((function(t){e({type:r.k,payload:t.data.data})})).catch((function(t){e({type:r.j,payload:t})}))}},d=function(t){return function(e,a){c.a.post(o,t,l.m).then((function(t){e({type:r.m,payload:t.data.data})})).catch((function(t){e({type:r.l,payload:t})}))}}}}]);
//# sourceMappingURL=36.5e2bc635.chunk.js.map