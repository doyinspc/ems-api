(this.webpackJsonpmesl=this.webpackJsonpmesl||[]).push([[46],{1044:function(e,t,a){"use strict";a.r(t);var n=a(698),l=a(3),c=a.n(l),r=a(217),o=(a(702),a(727)),m=a(24),s=a(697),u=a(699);t.default=Object(r.b)((function(e){return{schools:e.schoolReducer}}),{getSchools:o.c,getSchool:o.b,registerSchool:o.d,updateSchool:o.e,deleteSchool:o.a})((function(e){var t=Object(m.g)(),a=(Object(m.h)().search.match(/page=([0-9]+)/,""),Object(l.useState)(!1)),r=Object(n.a)(a,2),o=r[0],i=r[1],d=Object(l.useState)(""),f=Object(n.a)(d,2),E=f[0],h=f[1],p=Object(l.useState)({}),b=Object(n.a)(p,2),y=b[0],S=b[1],v=Object(l.useState)(""),g=Object(n.a)(v,2),N=g[0],O=g[1],j=Object(l.useState)(""),x=Object(n.a)(j,2),C=x[0],k=x[1],A=Object(l.useState)(""),w=Object(n.a)(A,2),F=w[0],L=w[1],K=Object(l.useState)(""),z=Object(n.a)(K,2),I=z[0],V=z[1],D=Object(l.useState)(""),M=Object(n.a)(D,2),R=M[0],T=M[1],H=Object(l.useState)(""),J=Object(n.a)(H,2),P=J[0],B=J[1],U=Object(l.useState)(""),Y=Object(n.a)(U,2),q=Y[0],G=Y[1],Q=Object(l.useState)(""),W=Object(n.a)(Q,2),X=W[0],Z=W[1];Object(l.useEffect)((function(){var t={data:JSON.stringify({}),cat:"all",table:"schools",narration:"get schools"};e.getSchools(t)}),[]),Object(l.useEffect)((function(){if(parseInt(E)>0){var e=y;O(e.name),k(e.abbrv),L(e.phone1),V(e.phone2),T(e.email),B(e.address),G(e.country),Z(e.states)}else O(""),k(""),L(""),V(""),T(""),B(""),G(""),Z("")}),[E]);var $=function(){h(null),S({})},_=(e.schools.schools&&Array.isArray(e.schools.schools)?e.schools.schools.filter((function(e){return null!==e||void 0!==e})):[]).filter((function(e){return null!=e})).map((function(e,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",{className:"text-center"},a+1),c.a.createElement("td",null,e.name,c.a.createElement("div",{className:"small text-muted"},e.abbrv)),c.a.createElement("td",null,c.a.createElement("div",{className:"small text-muted"},c.a.createElement("span",null,"Phone"),": ",c.a.createElement("strong",null,c.a.createElement("a",{href:"tel:".concat(e.phone1)},e.phone1)," ",c.a.createElement("a",{href:"mailto:".concat(e.phone2)},e.phone2))),c.a.createElement("div",{className:"small text-muted"},c.a.createElement("span",null,"Email"),": ",c.a.createElement("strong",null,c.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)))),c.a.createElement("td",{className:"text-center"},c.a.createElement("div",{className:"small text-muted"},e.address),c.a.createElement("div",{className:"small text-muted"},c.a.createElement("strong",null,e.states," | ",e.country))),c.a.createElement("td",{className:"text-center"},c.a.createElement(s.z,{className:"m-0 btn-group "},c.a.createElement(s.E,{color:"success",size:"sm"},c.a.createElement("i",{className:"fa fa-gear"})," Action"),c.a.createElement(s.D,null,c.a.createElement(s.C,{onClick:function(a){return t.push("/school/".concat(e.id))}},"Analysis"),c.a.createElement(s.C,{onClick:function(){return e.id,h((t=e).id),S(t),void i(!0);var t}},"Edit"),c.a.createElement(s.C,{onClick:function(){e.id}},"Delete"),c.a.createElement(s.A,null),c.a.createElement(s.C,null,"Another Action")))))}));return c.a.createElement(s.wb,null,c.a.createElement(s.u,null,c.a.createElement(s.j,null,c.a.createElement(s.n,null,c.a.createElement(s.wb,null,c.a.createElement(s.u,{sm:"5"},c.a.createElement("h4",{id:"traffic",className:"card-title mb-0"},"Schools"),c.a.createElement("div",{className:"small text-muted"},"Academic Calendar")),c.a.createElement(s.u,{sm:"7",className:"d-md-block"},c.a.createElement(s.f,{"data-target":"#formz","data-toggle":"collapse",color:"primary",onClick:function(e){i(!o),e.preventDefault()},className:"float-right"},c.a.createElement("i",{className:"fa fa-plus"}))))),c.a.createElement(s.k,null,c.a.createElement("table",{className:"table table-hover table-outline mb-0  d-sm-table"},c.a.createElement("thead",{className:"thead-light"},c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"SN."),c.a.createElement("th",null,c.a.createElement("i",{className:"fa fa-list"})," School"),c.a.createElement("th",{className:"text-center"}," ",c.a.createElement("i",{className:"fa fa-text"})," Contact"),c.a.createElement("th",{className:"text-center"}," ",c.a.createElement("i",{className:"fa fa-text"})," Abbrv"),c.a.createElement("th",{className:"text-center"},c.a.createElement("i",{className:"fa fa-gear"})," Action"))),c.a.createElement("tbody",null,_))))),c.a.createElement(s.v,{show:o},c.a.createElement(s.u,{xl:12,id:"#formz"},c.a.createElement(s.j,null,c.a.createElement(s.n,{id:"traffic",className:"card-title mb-0"},c.a.createElement(s.wb,null,c.a.createElement(s.u,{sm:"6"},c.a.createElement("h4",null,E&&parseInt(E)>0?"Edit":"Add"," ",c.a.createElement("small",null," School"))),c.a.createElement(s.u,{sm:"6",className:"d-md-block"},c.a.createElement(s.f,{color:"danger",onClick:function(e,t){i(!1)},className:"float-right"},c.a.createElement("i",{className:"fa fa-remove"}))))),c.a.createElement(s.k,null,c.a.createElement(s.J,{action:"",method:"post"},c.a.createElement(s.K,null,c.a.createElement(s.cb,{htmlFor:"nf-name"},"School"),c.a.createElement(s.S,{type:"text",id:"nf-name",defaultValue:N,onChange:function(e){return O(e.target.value)},placeholder:"MESL SENIOR SECONDARY SCHOOL"}),c.a.createElement(s.L,{className:"help-block"},"eNTER THE FULL NAME OF THE SCHOOL")),c.a.createElement(s.K,null,c.a.createElement(s.cb,{htmlFor:"nf-abbrv"},"Abbrv./Matriculation Number prefix "),c.a.createElement(s.S,{type:"text",id:"nf-abbrv",defaultValue:C,onChange:function(e){return k(e.target.value)},placeholder:"MESL/KS/"}),c.a.createElement(s.L,{className:"help-block"},"Abbreviation")),c.a.createElement(s.K,null,c.a.createElement(s.cb,{htmlFor:"nf-abbrv"},"Phone"),c.a.createElement(s.S,{type:"text",id:"nf-phone1",name:"phone1",defaultValue:F,onChange:function(e){return L(e.target.value)},placeholder:"080000000000"}),c.a.createElement(s.L,{className:"help-block"},"Main phone number")),c.a.createElement(s.K,null,c.a.createElement(s.cb,{htmlFor:"nf-phone2"},"Alternative Phone "),c.a.createElement(s.S,{type:"text",id:"nf-phone2",name:"phone2",defaultValue:I,onChange:function(e){return V(e.target.value)},placeholder:"080000000000"})),c.a.createElement(s.K,null,c.a.createElement(s.cb,{htmlFor:"nf-email"},"Email "),c.a.createElement(s.S,{type:"email",id:"nf-email",name:"email",defaultValue:R,onChange:function(e){return T(e.target.value)},placeholder:"in@gmail.com"})),c.a.createElement(s.K,null,c.a.createElement(s.cb,{htmlFor:"nf-address"},"Address "),c.a.createElement(s.S,{type:"textarea",id:"nf-address",name:"address",defaultValue:P,onChange:function(e){return B(e.target.value)},placeholder:"12 Bakonle way...."})))),c.a.createElement(s.l,null,c.a.createElement(s.f,{type:"submit",onClick:function(){if(N.length>0){var t=new FormData;t.append("name",N),t.append("abbrv",C),t.append("phone1",F),t.append("phone2",I),t.append("email",R),t.append("country",q),t.append("states",X),t.append("address",P),t.append("table","schools"),E&&parseInt(E)>0?(t.append("id",E),t.append("cat","update"),e.updateSchool(t)):(t.append("cat","insert"),e.registerSchool(t)),$()}},size:"sm",color:"primary"},c.a.createElement(u.a,{name:"cil-scrubber"})," Submit")," ",c.a.createElement(s.f,{type:"reset",onClick:$,size:"sm",color:"danger"},c.a.createElement(u.a,{name:"cil-ban"})," Reset"))))))}))},698:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(219);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,l=!1,c=void 0;try{for(var r,o=e[Symbol.iterator]();!(n=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(m){l=!0,c=m}finally{try{n||null==o.return||o.return()}finally{if(l)throw c}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},727:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return f}));var n=a(700),l=a.n(n),c=a(50),r=a(6),o="schools",m=r.b,s=function(e){return function(t,a){e.token=r.e,e.table=o,t({type:c.i}),l.a.get(m,{params:e},r.l).then((function(e){t({type:c.g,payload:e.data})})).catch((function(e){t({type:c.j,payload:e})}))}},u=function(e){return function(t,a){t({type:c.h,payload:e})}},i=function(e){return function(t,a){l.a.POST(m,{params:e},r.l).then((function(a){t({type:c.d,payload:e.id})})).catch((function(e){t({type:c.c,payload:e})}))}},d=function(e){return function(t){l.a.post(m,e,r.m).then((function(e){t({type:c.l,payload:e.data.data})})).catch((function(e){t({type:c.k,payload:e})}))}},f=function(e){return function(t,a){l.a.post(m,e,r.m).then((function(e){t({type:c.n,payload:e.data.data})})).catch((function(e){t({type:c.m,payload:e})}))}}}}]);
//# sourceMappingURL=46.a9b5acf5.chunk.js.map