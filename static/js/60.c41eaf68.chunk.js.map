{"version":3,"sources":["views/student/AdmissionList.js","actions/setting/admission.js"],"names":["connect","state","admissions","admissionReducer","getAdmissions","getAdmission","registerAdmission","updateAdmission","deleteAdmission","props","history","useHistory","useState","active","setActive","useEffect","params","data","JSON","stringify","cat","table","narration","Array","isArray","filter","rw","undefined","cont","map","row","ind","key","onClick","push","id","className","surname","firstname","middlename","href","phone1","phone2","email","style","textTransform","address","tabl","width","height","admission_no","src","process","photo1","alt","onError","e","target","onerror","backgroundColor","fontSize","color","fontWeight","window","open","gender","schoolname","dob","doe","soo","lga","genderFemale","genderMale","departmentTable","i","length","departmentid","religionTable","religion","genderTable","sooTable","dobTable","yrs","Date","getFullYear","yr","Math","round","xs","md","sm","data-target","data-toggle","printDoc","jsPDF","fromHTML","$","get","autoPrint","output","name","activeTab","onActiveTabChange","idx","variant","lg","text","header","iconPadding","type","datasets","Object","values","labels","keys","options","tooltips","enabled","path","API_PATH_SETTING","dispatch","getState","token","MAIN_TOKEN","ADMISSION_LOADING","axios","axiosConfig","then","res","ADMISSION_GET_MULTIPLE","payload","catch","err","ADMISSION_LOADING_ERROR","ADMISSION_GET_ONE","POST","ADMISSION_DELETE_SUCCESS","ADMISSION_DELETE_FAIL","post","axiosConfig1","ADMISSION_REGISTER_SUCCESS","ADMISSION_REGISTER_FAIL","ADMISSION_UPDATE_SUCCESS","ADMISSION_UPDATE_FAIL"],"mappings":"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","file":"static/js/60.c41eaf68.chunk.js","sourcesContent":["import React , { useState, useEffect } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport {getAdmissions, getAdmission, registerAdmission, updateAdmission, deleteAdmission} from './../../actions/setting/admission';\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport {\r\n    CChartBar, \r\n    CChartPie,\r\n    CChartPolarArea\r\n  } from '@coreui/react-chartjs'\r\n\r\nimport {\r\n  CRow,\r\n  CCol,\r\n  CCardHeader,\r\n  CNav,\r\n  CNavLink,\r\n  CNavItem,\r\n  CTabContent,\r\n  CTabPane,\r\n  CCard,\r\n  CCardBody,\r\n  CTabs,\r\n  CButton,\r\n  CWidgetIcon,\r\n  CCardFooter,\r\n  CLink\r\n} from '@coreui/react'\r\nimport CIcon from '@coreui/icons-react'\r\n\r\nimport jsPDF from 'jspdf';\r\nimport $ from 'jquery'\r\nlet movieDetails =[\r\n  {\r\n    \"title\":\"Result\",\r\n    \"vote_count\":3,\r\n    \"original_language\":'Yoruba',\r\n  }\r\n]\r\nconst Admissions = (props) => {\r\n    const history = useHistory()\r\n    const [active, setActive] = useState(0)\r\n\r\n    useEffect(() => {\r\n        let params = {\r\n          data:JSON.stringify(\r\n          {\r\n              'is_active':0\r\n          }),\r\n          cat:'selected',\r\n          table:'admissions',\r\n          narration:'get all admissions'\r\n      }\r\n        props.getAdmissions(params)\r\n        \r\n      }, [])\r\n\r\n   let data = props.admissions.admissions && Array.isArray(props.admissions.admissions) ? props.admissions.admissions.filter(rw =>rw !== null || rw !== undefined) : []\r\n   \r\n   let cont = data.map((row, ind)=>{\r\n    return <tr key={ind}\r\n    onClick={() => history.push(`/admission/${row.id}`)}>\r\n    <td className=\"text-center\">\r\n     {ind + 1}\r\n    </td>\r\n    <td>\r\n        <div>{`${row.surname} ${row.firstname} ${row.middlename}`}</div>\r\n    </td>\r\n    <td>\r\n        <strong><a href={`mailto:${row.phone1}`}>{row.phone1}</a> <a href={`mailto:${row.phone2}`}>{row.phone2}</a></strong>\r\n    </td>\r\n    <td>\r\n        <strong><a href={`mailto:${row.email}`}>{row.email}</a></strong> \r\n    </td>\r\n    <td>\r\n      <div className=\"text-muted \" style={{textTransform:'capitalize'}}>{row.address}</div>\r\n    </td>\r\n  </tr>\r\n})\r\n\r\n\r\nlet pht = data.map((row, ind)=>{\r\n    return <CCard key={ind} className='mx-3 ' style={{width:'140px', height:'200px'}}>\r\n        <CCardHeader className='m-0 text-center'>\r\n        <b style={{textTransform:'capitalize'}}>{row.admission_no}</b>  \r\n        </CCardHeader>\r\n        <CCardBody className='m-0 p-0 ' style={{height:'160px'}}>\r\n        <img \r\n            src={process.env.REACT_APP_SERVER_URL+ '/passport/'+ row.photo1} \r\n            className=\"m-0 p-0\" \r\n            width='100%'\r\n            height='160px'\r\n            alt={row.admission_no} \r\n            onError={(e)=>{e.target.onerror=null; e.target.src='avatars/1.jpg'} }\r\n        />\r\n        </CCardBody>\r\n        <div className='m-2' style={{backgroundColor:'rgba(0,0,0,0)'}}>\r\n          <span style={{textTransform:'capitalize',  fontSize:'18px', color:'white', fontWeight:'bolder'}}> {row.surname}{' '}{row.firstname}{' '}{row.middlename}</span>\r\n        </div>\r\n    </CCard>\r\n})\r\n\r\n   let tabl = data.map((row, ind)=>{\r\n        return <tr key={ind}\r\n        onClick={() => window.open(`#/admission/${row.id}`, \"_blank\")}>\r\n        <td className=\"text-center\">\r\n          <div className=\"c-avatar\">\r\n            <img \r\n            src={process.env.REACT_APP_SERVER_URL+ '/passport/'+ row.photo1} \r\n            className=\"c-avatar-img\" \r\n            alt={row.admission_no} \r\n            onError={(e)=>{e.target.onerror=null; e.target.src='avatars/1.jpg'} }\r\n            />\r\n            <span className={`c-avatar-status ${row.gender === 'Male' ? 'bg-success' : 'bg-danger'}`}></span>\r\n          </div>\r\n        </td>\r\n        <td>\r\n   <div>{`${row.surname} ${row.firstname} ${row.middlename} ${row.id}`}</div>\r\n                <div className=\"small text-muted\">\r\n                <span>{row.admission_no}</span>\r\n            </div>\r\n        </td>\r\n        <td>\r\n          {row.schoolname}\r\n        </td>\r\n        <td>\r\n            <div className=\"small text-muted\">\r\n                <span>Date of Birth</span>: <strong>{row.dob}</strong>\r\n            </div>\r\n            <div className=\"small text-muted\">\r\n                <span>Date of Adm.</span>: <strong>{row.doe}</strong> \r\n            </div>\r\n        </td>\r\n        <td>\r\n          <div className=\"small text-muted \" style={{textTransform:'capitalize'}}>{row.soo}</div>\r\n          <strong style={{textTransform:'capitalize'}}>{row.lga}</strong>\r\n        </td>\r\n        <td>\r\n          <div className=\"text-muted \" style={{textTransform:'capitalize'}}>{row.gender}</div>\r\n        </td>\r\n      </tr>\r\n    });\r\n \r\n\r\n  let genderFemale = data.filter(rw =>rw.gender === 'Female');\r\n  let genderMale = data.filter(rw =>rw.gender === 'Male');\r\n\r\n  let departmentTable = {};\r\n  for(var i = 0; i < data.length; i++)\r\n  {\r\n    if(data[i].departmentid in departmentTable)\r\n        departmentTable[data[i].departmentid]++;\r\n    else\r\n        departmentTable[data[i].departmentid] = 1;\r\n  }\r\n \r\n let religionTable = {};\r\n  for(var i = 0; i < data.length; i++)\r\n  {\r\n    if(data[i].religion in religionTable)\r\n        religionTable[data[i].religion]++;\r\n    else\r\n        religionTable[data[i].religion] = 1;\r\n  }\r\n\r\n  let genderTable = {};\r\n  for(var i = 0; i < data.length; i++)\r\n  {\r\n    if(data[i].gender in genderTable)\r\n        genderTable[data[i].gender]++;\r\n    else\r\n        genderTable[data[i].gender] = 1;\r\n  }\r\n\r\n  let sooTable = {};\r\n  for(var i = 0; i < data.length; i++)\r\n  {\r\n    if(data[i].soo in sooTable)\r\n        sooTable[data[i].soo]++;\r\n    else\r\n        sooTable[data[i].soo] = 1;\r\n  }\r\n\r\n  let dobTable = {};\r\n  for(var i = 0; i < data.length; i++)\r\n  {\r\n    let yrs = new Date(data[i].dob).getFullYear();\r\n    let yr = Math.round(new Date().getFullYear() - yrs)\r\n    if(yr in dobTable)\r\n        dobTable[yr]++;\r\n    else\r\n        dobTable[yr] = 1;\r\n  }\r\nconst  printPDF =()=> {\r\n    var printDoc = new jsPDF();\r\n    printDoc.fromHTML($(process.env.PUBLIC_URL + 'admission/170').get(0), 10, 10, {'width': 180});\r\n    printDoc.autoPrint();\r\n    printDoc.output(\"dataurlnewwindow\"); // this opens a new popup,  after this the PDF opens the print window view but there are browser inconsistencies with how this is handled\r\n}\r\n  return (\r\n    <>\r\n    <CRow>\r\n      <div>\r\n      \r\n     \r\n      \r\n      </div>\r\n    <CCol xs=\"12\" md=\"12\" className=\"mb-4\">\r\n        <CCard>\r\n          <CCardHeader>\r\n          <CRow>\r\n            <CCol sm=\"5\">\r\n              <h4 id=\"traffic\" className=\"card-title mb-0\">Admissions List</h4>\r\n              <div className=\"small text-muted\">Academic Calendar</div>\r\n            </CCol>\r\n            <CCol sm=\"7\" className=\"d-md-block\">\r\n              <CButton \r\n                  data-target='#formz' \r\n                  data-toggle=\"collapse\" \r\n                  color=\"primary\"\r\n                  onClick={printPDF}\r\n                  className=\"float-right\">\r\n                <CIcon name=\"cil-cloud-download\"/>\r\n              </CButton>\r\n            </CCol>\r\n          </CRow>\r\n          </CCardHeader>\r\n          <CCardBody>\r\n            <CTabs activeTab={active} onActiveTabChange={idx => setActive(idx)}>\r\n              <CNav variant=\"tabs\">\r\n              <CNavItem>\r\n                  <CNavLink>\r\n                    <CIcon name=\"cil-chart-pie\"/>\r\n                    { active === 0 && ' Dashboard'}\r\n                  </CNavLink>\r\n                </CNavItem>\r\n                <CNavItem>\r\n                  <CNavLink>\r\n                    <CIcon name=\"cil-calculator\" />\r\n                    { active === 1 && ' Biodata'}\r\n                  </CNavLink>\r\n                </CNavItem>\r\n                <CNavItem>\r\n                  <CNavLink>\r\n                    <CIcon name=\"cil-map\" />\r\n                    { active === 2 && ' Stage'}\r\n                  </CNavLink>\r\n                </CNavItem>\r\n               \r\n              </CNav>\r\n              <CTabContent>\r\n              <CTabPane>\r\n                <br/>\r\n                    <CRow className='mt-20 py-90'>\r\n                    <CCol xs=\"12\" sm=\"6\" lg=\"4\">\r\n          <CWidgetIcon text=\"Male\" header={genderMale.length} color=\"success\" iconPadding={false}>\r\n            <CIcon width={24} name=\"cil-user\" className=\"mx-5\"/>\r\n          </CWidgetIcon>\r\n        </CCol>\r\n        <CCol xs=\"12\" sm=\"6\" lg=\"4\">\r\n          <CWidgetIcon text=\"Female\" header={genderFemale.length} color=\"danger\" iconPadding={false}>\r\n            <CIcon width={24} name=\"cil-user-female\" className=\"mx-5\"/>\r\n          </CWidgetIcon>\r\n        </CCol>\r\n          \r\n        <CCol xs=\"12\" sm=\"6\" lg=\"4\">\r\n          <CWidgetIcon text=\"Total Admission\" header={genderMale.length + genderFemale.length} color=\"info\" iconPadding={false}>\r\n          <i className='fa fa-users fa-2x mx-5'></i>\r\n          </CWidgetIcon>\r\n        </CCol>\r\n          </CRow>\r\n                <CRow>\r\n        <CCol xs=\"12\" sm=\"12\" md=\"6\">\r\n        <CCard >\r\n        <CCardHeader>\r\n          Gender \r\n        </CCardHeader>\r\n        <CCardBody>\r\n          <CChartPie\r\n            type=\"pie\"\r\n            datasets={[\r\n              {\r\n                backgroundColor: [\r\n                  '#41B883',\r\n                  '#E46651',\r\n                  '#00D8FF',\r\n                  '#DD1B16'\r\n                ],\r\n                data: Object.values(genderTable)\r\n              }\r\n            ]}\r\n            labels={Object.keys(genderTable)}\r\n            options={{\r\n              tooltips: {\r\n                enabled: true\r\n              }\r\n            }}\r\n          />\r\n        </CCardBody>\r\n      </CCard>\r\n    </CCol>\r\n    <CCol xs=\"12\" sm=\"12\" md=\"6\">\r\n        <CCard >\r\n        <CCardHeader>\r\n          Religion\r\n        </CCardHeader>\r\n        <CCardBody>\r\n          <CChartPie\r\n            type=\"pie\"\r\n            datasets={[\r\n              {\r\n                backgroundColor: [\r\n                  '#41B883',\r\n                  '#E46651',\r\n                  '#00D8FF',\r\n                  '#DD1B16'\r\n                ],\r\n                data: Object.values(religionTable)\r\n              }\r\n            ]}\r\n            labels={Object.keys(religionTable)}\r\n            options={{\r\n              tooltips: {\r\n                enabled: true\r\n              }\r\n            }}\r\n          />\r\n        </CCardBody>\r\n      </CCard>\r\n    </CCol>\r\n    \r\n    </CRow>\r\n    <CRow>\r\n   \r\n    <CCol xs=\"12\" sm=\"12\" md=\"12\">\r\n        <CCard>\r\n        <CCardHeader>\r\n          Age Distrubution\r\n        </CCardHeader>\r\n        <CCardBody>\r\n          <CChartBar\r\n            type=\"barchart\"\r\n            datasets={[\r\n              {\r\n                backgroundColor: [\r\n                  '#41B883',\r\n                  '#E46651',\r\n                  '#045800',\r\n                  '#4AB883',\r\n                  '#E96651',\r\n                  '#09E0FF',\r\n                  '#DD1116',\r\n                  '#096651',\r\n                  '#19E0FF',\r\n                  '#296651',\r\n                  '#39E0FF',\r\n                  '#41B23',\r\n                  '#E22651',\r\n                  '#045800',\r\n                  '#22B883',\r\n                  '#226651',\r\n                  '#55E0FF',\r\n                  '#551116',\r\n                  '#09aa51',\r\n                  '#19bbFF',\r\n                  '#29CC51',\r\n                  '#39DDFF',\r\n                ],\r\n                data: Object.values(dobTable)\r\n              }\r\n            ]}\r\n            labels={Object.keys(dobTable)}\r\n            options={{\r\n              tooltips: {\r\n                enabled: true\r\n              }\r\n            }}\r\n          />\r\n        </CCardBody>\r\n      </CCard>\r\n      </CCol>\r\n    \r\n    </CRow>\r\n    <CRow>\r\n   \r\n   <CCol xs=\"12\" sm=\"12\" md=\"12\">\r\n       <CCard>\r\n       <CCardHeader>\r\n         State of Origin\r\n       </CCardHeader>\r\n       <CCardBody>\r\n         <CChartBar\r\n           type=\"barchart\"\r\n           datasets={[\r\n             {\r\n               backgroundColor: [\r\n                 '#41B883',\r\n                 '#E46651',\r\n                 '#045800',\r\n                 '#4AB883',\r\n                 '#E96651',\r\n                 '#09E0FF',\r\n                 '#DD1116',\r\n                 '#096651',\r\n                 '#19E0FF',\r\n                 '#296651',\r\n                 '#39E0FF',\r\n                 '#41B23',\r\n                 '#E22651',\r\n                 '#045800',\r\n                 '#22B883',\r\n                 '#226651',\r\n                 '#55E0FF',\r\n                 '#551116',\r\n                 '#09aa51',\r\n                 '#19bbFF',\r\n                 '#29CC51',\r\n                 '#39DDFF',\r\n               ],\r\n               data: Object.values(sooTable)\r\n             }\r\n           ]}\r\n           labels={Object.keys(sooTable)}\r\n           options={{\r\n             tooltips: {\r\n               enabled: true\r\n             }\r\n           }}\r\n         />\r\n       </CCardBody>\r\n     </CCard>\r\n     </CCol>\r\n   \r\n   </CRow>\r\n    \r\n            \r\n            </CTabPane>\r\n                <CTabPane>\r\n                <table className=\"table table-hover table-outline mb-0 d-none d-sm-table\">\r\n                <thead className=\"thead-light\">\r\n                  <tr>\r\n                    <th className=\"text-center\"><CIcon name=\"cil-people\" /></th>\r\n                    <th>Admission</th>\r\n                    <th className=\"text-center\">Contacts</th>\r\n                    <th className=\"text-center\">Dates</th>\r\n                    <th className=\"text-center\">School</th>\r\n                    <th>Origin</th>\r\n                    <th>Gender</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {tabl}\r\n                </tbody>\r\n                </table>\r\n                </CTabPane>\r\n                <CTabPane>\r\n                <table className=\"table table-hover table-outline mb-0 d-none d-sm-table\">\r\n                <thead className=\"thead-light\">\r\n                  <tr>\r\n                    <th className=\"text-center\">Admission ID</th>\r\n                    <th>Fullname</th>\r\n                    <th className=\"text-center\">School Mgt</th>\r\n                    <th className=\"text-center\">Bursar</th>\r\n                    <th className=\"text-center\">Admission Officer</th>\r\n                    <th className=\"text-center\">Educational Officer</th>\r\n                    <th className=\"text-center\">Class teaher</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {cont}\r\n                </tbody>\r\n                </table>\r\n                </CTabPane>\r\n                \r\n              </CTabContent>\r\n            </CTabs>\r\n          </CCardBody>\r\n        </CCard>\r\n      </CCol>\r\n    </CRow>\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) =>({\r\n    admissions : state.admissionReducer\r\n  })\r\n  export default connect(mapStateToProps, {\r\n    getAdmissions,\r\n    getAdmission,\r\n    registerAdmission,\r\n    updateAdmission,\r\n    deleteAdmission\r\n  })(Admissions)\r\n  \r\n","import axios from 'axios';\r\nimport {\r\n    ADMISSION_GET_ONE,\r\n    ADMISSION_GET_MULTIPLE,\r\n    ADMISSION_REGISTER_SUCCESS,\r\n    ADMISSION_REGISTER_FAIL,\r\n    ADMISSION_LOADING,\r\n    ADMISSION_LOADING_ERROR,\r\n    ADMISSION_UPDATE_SUCCESS,\r\n    ADMISSION_UPDATE_FAIL,\r\n    ADMISSION_DELETE_SUCCESS,\r\n    ADMISSION_DELETE_FAIL\r\n} from \"../../types/setting/admission\";\r\nimport { MAIN_TOKEN, API_PATH_SETTING, axiosConfig1, axiosConfig } from './../common';\r\n\r\nlet TABLE_NAME = 'admissions';\r\nconst path = API_PATH_SETTING;\r\n\r\n//GET ALL ADMISSION \r\nexport const getAdmissions = params => (dispatch, getState) => {\r\n    //SET PAGE LOADING\r\n    params.token = MAIN_TOKEN;\r\n    params.table = TABLE_NAME;\r\n\r\n    dispatch({type : ADMISSION_LOADING});\r\n        axios.get(path, {params}, axiosConfig)\r\n            .then(res => {                                                                                                                                                                                                                                        \r\n                dispatch({\r\n                    type: ADMISSION_GET_MULTIPLE,\r\n                    payload: res.data\r\n                })\r\n            })\r\n            .catch(err => {\r\n                dispatch({\r\n                    type : ADMISSION_LOADING_ERROR,\r\n                    payload:err\r\n                })\r\n            })\r\n};\r\n//GET SINGLE ADMISSION \r\nexport const getAdmission = id => (dispatch, getState) => {\r\n    //SET PAGE LOADING\r\n    dispatch(\r\n        {\r\n        type : ADMISSION_GET_ONE,\r\n        payload: id\r\n    });  \r\n};\r\n//ADMISSION DELETE\r\nexport const deleteAdmission = params => (dispatch, getState) =>{\r\n    axios.POST(path, {params}, axiosConfig)\r\n        .then(res => {\r\n            dispatch({\r\n                type: ADMISSION_DELETE_SUCCESS,\r\n                payload: params.id\r\n            })\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type : ADMISSION_DELETE_FAIL,\r\n                payload : err\r\n            })\r\n        })\r\n        \r\n}\r\n//ADMISSION REGISTER\r\nexport const registerAdmission = data => dispatch => {\r\n    axios.post(path, data, axiosConfig1)\r\n        .then(res => {\r\n            dispatch({\r\n                type: ADMISSION_REGISTER_SUCCESS,\r\n                payload: res.data.data\r\n            })\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type : ADMISSION_REGISTER_FAIL,\r\n                payload: err\r\n            })\r\n        })\r\n};\r\n //ADMISSION UPDATE\r\nexport const updateAdmission = (data) => (dispatch, getState) => {\r\n    //body\r\n    axios.post(path, data, axiosConfig1)\r\n        .then(res => {\r\n            dispatch({\r\n                type: ADMISSION_UPDATE_SUCCESS,\r\n                payload: res.data.data\r\n            })\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type : ADMISSION_UPDATE_FAIL,\r\n                payload: err\r\n            })\r\n        })\r\n};\r\n"],"sourceRoot":""}