(this.webpackJsonpmesl=this.webpackJsonpmesl||[]).push([[12],{704:function(e,t,n){"use strict";var a=n(3),c=n.n(a),r=n(697),l=n(24);t.a=function(e){var t=Object(l.g)();return c.a.createElement(r.n,null,c.a.createElement(r.wb,null,c.a.createElement(r.u,{xs:2,sm:"1"},c.a.createElement("img",{src:"/ems"+e.icon,height:"40px"})),c.a.createElement(r.u,{xs:6,sm:"7"},c.a.createElement("h4",{id:"traffic",className:"card-title mb-0"},e.title),c.a.createElement("div",{className:"small text-muted"},void 0!=e.school&&e.school.hasOwnProperty("name")&&e.school.name?e.school.name:c.a.createElement("i",null,"No school active"))),c.a.createElement(r.u,{xs:4,sm:"4",className:"d-md-block"},c.a.createElement(r.g,{className:"float-right"},c.a.createElement(r.Rb,{content:"Click to go back"},c.a.createElement(r.f,{color:"secondary",onClick:function(){return t.goBack()}},c.a.createElement("i",{className:"fa fa-backward"}))),c.a.createElement(r.Rb,{content:"Add new record"},c.a.createElement(r.f,{disabled:!1===e.editer,"data-target":"#formz","data-toggle":"collapse",color:"primary",onClick:function(){return e.toggle()},className:"float-right"},c.a.createElement("i",{className:"fa fa-plus"})))))))}},705:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"h",(function(){return y}));var a=n(700),c=n.n(a),r=n(33),l=n(6),u=l.c,i=function(e){return function(t,n){e.token=l.e,e.table="staffs",t({type:r.k}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.h,payload:e.data})})).catch((function(e){t({type:r.l,payload:e})}))}},o=function(e){return function(t,n){e.token=l.e,t({type:r.k}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.f,payload:e.data})})).catch((function(e){t({type:r.l,payload:e})}))}},s=function(e){return function(t,n){t({type:r.k}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.j,payload:e.data})})).catch((function(e){t({type:r.l,payload:e})}))}},d=function(e){return function(t,n){t({type:r.k}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.g,payload:e.data})})).catch((function(e){t({type:r.l,payload:e})}))}},f=function(e){return function(t,n){t({type:r.i,payload:e})}},m=function(e){return function(t,n){c.a.POST(u,{params:e},l.l).then((function(n){t({type:r.d,payload:e.id})})).catch((function(e){t({type:r.c,payload:e})}))}},p=function(e){return function(t){c.a.post(u,e,l.m).then((function(e){t({type:r.n,payload:e.data.data})})).catch((function(e){t({type:r.m,payload:e})}))}},y=function(e){return function(t,n){c.a.post(u,e,l.m).then((function(e){t({type:r.p,payload:e.data.data})})).catch((function(e){t({type:r.o,payload:e})}))}}},707:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f}));var a=n(700),c=n.n(a),r=n(47),l=n(6),u=l.b,i=function(e){return function(t,n){e.token=l.e,e.table="claszs",t({type:r.h}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.f,payload:e.data})})).catch((function(e){t({type:r.i,payload:e})}))}},o=function(e){return function(t,n){t({type:r.g,payload:e})}},s=function(e){return function(t,n){c.a.POST(u,{params:e},l.l).then((function(n){t({type:r.d,payload:e.id})})).catch((function(e){t({type:r.c,payload:e})}))}},d=function(e){return function(t){c.a.post(u,e,l.m).then((function(e){t({type:r.k,payload:e.data.data})})).catch((function(e){t({type:r.j,payload:e})}))}},f=function(e){return function(t,n){c.a.post(u,e,l.m).then((function(e){t({type:r.m,payload:e.data.data})})).catch((function(e){t({type:r.l,payload:e})}))}}},708:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return m}));var a=n(700),c=n.n(a),r=n(37),l=n(6),u=l.b,i=function(e){return function(t,n){e.token=l.e,e.table="students",t({type:r.j}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.g,payload:e.data})})).catch((function(e){t({type:r.k,payload:e})}))}},o=function(e){return function(t,n){t({type:r.j}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.i,payload:e.data})})).catch((function(e){t({type:r.k,payload:e})}))}},s=function(e){return function(t,n){t({type:r.h,payload:e})}},d=function(e){return function(t,n){c.a.POST(u,{params:e},l.l).then((function(n){t({type:r.d,payload:e.id})})).catch((function(e){t({type:r.c,payload:e})}))}},f=function(e){return function(t){c.a.post(u,e,l.m).then((function(e){t({type:r.m,payload:e.data.data})})).catch((function(e){t({type:r.l,payload:e})}))}},m=function(e){return function(t,n){c.a.post(u,e,l.m).then((function(e){t({type:r.o,payload:e.data.data})})).catch((function(e){t({type:r.n,payload:e})}))}}},715:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return p}));var a=n(700),c=n.n(a),r=n(38),l=n(6),u="themes",i=l.b,o=function(e){return function(t,n){e.token=l.e,e.table=u,t({type:r.j}),c.a.get(i,{params:e},l.l).then((function(e){t({type:r.g,payload:e.data})})).catch((function(e){t({type:r.k,payload:e})}))}},s=function(e){return function(t,n){e.token=l.e,e.table="themesummary",t({type:r.j}),c.a.get(i,{params:e},l.l).then((function(e){t({type:r.i,payload:e.data})})).catch((function(e){t({type:r.k,payload:e})}))}},d=function(e){return function(t,n){t({type:r.h,payload:e})}},f=function(e){return function(t,n){c.a.POST(i,{params:e},l.l).then((function(n){t({type:r.d,payload:e.id})})).catch((function(e){t({type:r.c,payload:e})}))}},m=function(e){return function(t){c.a.post(i,e,l.m).then((function(e){t({type:r.m,payload:e.data.data})})).catch((function(e){t({type:r.l,payload:e})}))}},p=function(e){return function(t,n){c.a.post(i,e,l.m).then((function(e){t({type:r.o,payload:e.data.data})})).catch((function(e){t({type:r.n,payload:e})}))}}},725:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return m}));var a=n(700),c=n.n(a),r=n(43),l=n(6),u=l.c,i=function(e){return function(t,n){e.token=l.e,t({type:r.i}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.f,payload:e.data})})).catch((function(e){t({type:r.j,payload:e})}))}},o=function(e){return function(t,n){e.token=l.e,t({type:r.i}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.h,payload:e.data})})).catch((function(e){t({type:r.j,payload:e})}))}},s=function(e){return function(t,n){t({type:r.g,payload:e})}},d=function(e,t){return function(n,a){c.a.post(u,e,l.m).then((function(e){n({type:r.d,payload:t})})).catch((function(e){n({type:r.c,payload:e})}))}},f=function(e){return function(t){c.a.post(u,e,l.m).then((function(e){t({type:r.l,payload:e.data.data})})).catch((function(e){t({type:r.k,payload:e})}))}},m=function(e){return function(t,n){c.a.post(u,e,l.m).then((function(e){t({type:r.n,payload:e.data.data})})).catch((function(e){t({type:r.m,payload:e})}))}}},735:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f}));var a=n(700),c=n.n(a),r=n(56),l=n(6),u=l.b,i=function(e){return function(t,n){e.token=l.e,e.table="reports",t({type:r.h}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.f,payload:e.data})})).catch((function(e){t({type:r.i,payload:e})}))}},o=function(e){return function(t,n){t({type:r.g,payload:e})}},s=function(e){return function(t,n){c.a.POST(u,{params:e},l.l).then((function(n){t({type:r.d,payload:e.id})})).catch((function(e){t({type:r.c,payload:e})}))}},d=function(e){return function(t){c.a.post(u,e,l.m).then((function(e){t({type:r.k,payload:e.data.data})})).catch((function(e){t({type:r.j,payload:e})}))}},f=function(e){return function(t,n){c.a.post(u,e,l.m).then((function(e){t({type:r.m,payload:e.data.data})})).catch((function(e){t({type:r.l,payload:e})}))}}},740:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f}));var a=n(700),c=n.n(a),r=n(55),l=n(6),u=l.b,i=function(e){return function(t,n){e.token=l.e,t({type:r.h}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.f,payload:e.data})})).catch((function(e){t({type:r.i,payload:e})}))}},o=function(e){return function(t,n){t({type:r.g,payload:e})}},s=function(e){return function(t,n){c.a.POST(u,{params:e},l.l).then((function(n){t({type:r.d,payload:e.id})})).catch((function(e){t({type:r.c,payload:e})}))}},d=function(e){return function(t){c.a.post(u,e,l.m).then((function(e){t({type:r.k,payload:e.data.data})})).catch((function(e){t({type:r.j,payload:e})}))}},f=function(e){return function(t,n){c.a.post(u,e,l.m).then((function(e){t({type:r.m,payload:e.data.data})})).catch((function(e){t({type:r.l,payload:e})}))}}},746:function(e,t,n){"use strict";var a=n(698),c=n(3),r=n.n(c),l=(n(217),n(697)),u=n(699),i=n(218),o=n(747),s=n(748);t.a=function(e){var t=Object(c.useState)({}),n=Object(a.a)(t,2),d=n[0],f=n[1],m=Object(c.useState)({}),p=Object(a.a)(m,2),y=p[0],h=p[1],E=Object(c.useState)(0),b=Object(a.a)(E,2),g=b[0],v=b[1],k=e.dropdowns&&Array.isArray(e.dropdowns)&&e.dropdowns.length>4?e.dropdowns:[[],[],[],[]],j="",O="",S="";k.length>0&&(j=k[0].map((function(e,t){return r.a.createElement("option",{key:t,value:e.termid},e.name)})),O=k[1].map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})),k[2].map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})),S=k[0].map((function(e,t){return r.a.createElement("option",{key:t,value:JSON.stringify(e)},e.name)})));var N=Array.isArray(e.schools)?e.schools.map((function(e,t){return r.a.createElement("option",{value:JSON.stringify(e)},e.name)})):r.a.createElement("option",null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.wb,null,r.a.createElement(l.u,{lg:12},r.a.createElement(l.j,null,r.a.createElement(l.n,null,r.a.createElement("h4",null,"Quick Menu")),r.a.createElement(l.k,null,r.a.createElement(l.w,null,r.a.createElement(l.wb,null,r.a.createElement(l.u,null,r.a.createElement(l.wb,{className:"d-block"},r.a.createElement("strong",null,"Change")),r.a.createElement(l.wb,null,r.a.createElement(l.u,{xs:"12",sm:"12",md:"6"},r.a.createElement(l.J,null,r.a.createElement(l.K,{row:!0},r.a.createElement(l.V,null,r.a.createElement(l.X,null,r.a.createElement(l.Y,null,"Change School")),r.a.createElement(l.xb,{id:"input3-group2",name:"input3-group2",placeholder:"Search Staff",onChange:function(e){return f(e.target.value)}},N),r.a.createElement(l.W,null,r.a.createElement(l.f,{onClick:function(){e.changeSchool(JSON.parse(d))},type:"button",color:"secondary"},r.a.createElement("i",{className:"fa fa-thumbs-up"}))))))),r.a.createElement(l.u,{xs:"12",sm:"12",md:"6"},r.a.createElement(l.J,null,r.a.createElement(l.K,{row:!0},r.a.createElement(l.V,null,r.a.createElement(l.X,null,r.a.createElement(l.Y,null,"Change Term")),r.a.createElement(l.xb,{onChange:function(e){return h(e.target.value)},id:"input3-group2",name:"input3-group2",placeholder:"Search Staff"},S),r.a.createElement(l.W,null,r.a.createElement(l.f,{onClick:function(){e.changeTerm(JSON.parse(y))},type:"button",color:"secondary"},r.a.createElement("i",{className:"fa fa-thumbs-up"})))))))))),r.a.createElement(l.wb,null,r.a.createElement(l.u,null,r.a.createElement(l.wb,{className:"d-block"},r.a.createElement("strong",null,"Navigate")),r.a.createElement(l.J,{action:"",method:"post"},r.a.createElement(l.wb,{xs:12},r.a.createElement(l.u,{xs:"12",sm:"12",md:"12"},r.a.createElement(l.wb,null,r.a.createElement(l.u,{xs:"12",sm:"4",md:"5",lg:"5",className:"ml-0"},r.a.createElement(l.K,{row:!0},r.a.createElement(l.V,null,r.a.createElement(l.X,null,r.a.createElement(l.Y,null,"Select Term")),r.a.createElement(l.xb,{custom:!0,size:"md",name:"term",id:"term",onChange:function(e){return h(e.target.value)}},r.a.createElement("option",{value:"0"},"Select Term"),j)))),r.a.createElement(l.u,{xs:"12",sm:"4",md:"5",lg:"5",className:"ml-0"},r.a.createElement(l.K,{row:!0},r.a.createElement(l.V,null,r.a.createElement(l.X,null,r.a.createElement(l.Y,null,"Select Class")),r.a.createElement(l.xb,{custom:!0,size:"md",name:"clasz",id:"clasz",onChange:function(e){return v(e.target.value)}},r.a.createElement("option",{value:"0"},"Select Class"),O)))),r.a.createElement(l.u,{xs:"12",sm:"3",md:"2",lg:"2",className:"ml-0"},r.a.createElement(l.K,{className:""},r.a.createElement(i.b,{type:"submit",className:"btn btn-success btn-block btn-sm",size:"sm",color:"primary",to:"/studentclasses/".concat(y,"/").concat(g)},r.a.createElement(u.a,{name:"cil-scrubber"})," Load !"))))))))),r.a.createElement(l.wb,null,r.a.createElement(l.u,null,r.a.createElement(l.wb,{className:"d-block"},r.a.createElement("strong",null,"Search")),r.a.createElement(l.wb,{className:"pr-2",xs:12},r.a.createElement(l.u,{md:"6"},r.a.createElement(o.a,null)),r.a.createElement(l.u,{className:"pr-2",md:"6"},r.a.createElement(s.a,null)))))))))))}},747:function(e,t,n){"use strict";var a=n(698),c=n(3),r=n.n(c),l=n(217),u=n(705),i=n(697);t.a=Object(l.b)((function(e){return{result:e.staffReducer.result,user:e.userReducer}}),{searchStaff:u.g})((function(e){var t=Object(c.useState)(),n=Object(a.a)(t,2),l=n[0],u=n[1],o=Object(c.useState)([]),s=Object(a.a)(o,2),d=s[0],f=s[1];Object(c.useEffect)((function(){void 0!==e.result&&Array.isArray(e.result)?f(e.result):f([])}),[e.result]),Object(c.useEffect)((function(){if(void 0!==l&&l.length>2){var t={data:JSON.stringify({search:l,schoolid:e.user.activeschool.id}),cat:"selected",table:"staffsearch",narration:"get all schools for access control"};e.searchStaff(t)}else f([])}),[l,e.user.activeschool.id]);var m=d.map((function(e,t){return r.a.createElement(i.fb,{key:t,target:"_blank",className:"m-0",href:"#/staffs/".concat(e.id),active:!0},r.a.createElement(i.wb,null,r.a.createElement(i.u,{xs:"2",className:"m-0"},r.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api/"+e.photo,style:{height:"40px",width:"40px"},height:"30px",alt:"profile-image",class:"profile",onError:function(e){e.target.onerror=null,e.target.src="/ems/icons/profile_1.png"}})),r.a.createElement(i.u,null,r.a.createElement("strong",null,e.name),r.a.createElement("br",null),r.a.createElement("small",null,e.employment_no))))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.wb,{xs:12},r.a.createElement(i.u,null,r.a.createElement(i.K,{row:!0},r.a.createElement(i.S,{size:"md",className:"w-100",value:l,onChange:function(e){return u(e.target.value)},placeholder:" Staff search..."})),r.a.createElement(i.j,{className:"mt-0",style:{display:"block",position:"absolute",zIndex:"101"}},r.a.createElement(i.eb,{style:{width:"300px"}},m)))))}))},748:function(e,t,n){"use strict";var a=n(698),c=n(3),r=n.n(c),l=n(217),u=n(708),i=n(697);t.a=Object(l.b)((function(e){return{result:e.studentReducer.result,user:e.userReducer}}),{searchStudent:u.e})((function(e){var t=Object(c.useState)(),n=Object(a.a)(t,2),l=n[0],u=n[1],o=Object(c.useState)([]),s=Object(a.a)(o,2),d=s[0],f=s[1];Object(c.useEffect)((function(){void 0!==e.result&&Array.isArray(e.result)?f(e.result):f([])}),[e.result]),Object(c.useEffect)((function(){if(void 0!==l&&l.length>2){var t={data:JSON.stringify({search:l,schoolid:e.user.activeschool.id}),cat:"selected",table:"studentsearch",narration:"get all schools for access control"};e.searchStudent(t)}else f([])}),[l,e.user.activeschool.id]);var m=d.map((function(e,t){return r.a.createElement(i.fb,{key:t,href:"/students/".concat(e.id),active:!0},r.a.createElement("strong",null,e.name),r.a.createElement("br",null),r.a.createElement("small",null,e.admission_no))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.wb,{xs:12},r.a.createElement(i.u,null,r.a.createElement(i.K,{row:!0},r.a.createElement(i.S,{size:"md",className:"w-100",value:l,onChange:function(e){return u(e.target.value)},placeholder:" Student search..."})),r.a.createElement(i.j,{className:"mt-0",style:{display:"block",position:"absolute",zIndex:"101"}},r.a.createElement(i.eb,{style:{width:"300px"}},m)))))}))},764:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f}));var a=n(700),c=n.n(a),r=n(58),l=n(6),u=l.b,i=function(e){return function(t,n){e.token=l.e,e.table="claszunits",t({type:r.h}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.f,payload:e.data})})).catch((function(e){t({type:r.i,payload:e})}))}},o=function(e){return function(t,n){t({type:r.g,payload:e})}},s=function(e){return function(t,n){c.a.POST(u,{params:e},l.l).then((function(n){t({type:r.d,payload:e.id})})).catch((function(e){t({type:r.c,payload:e})}))}},d=function(e){return function(t){c.a.post(u,e,l.m).then((function(e){t({type:r.k,payload:e.data.data})})).catch((function(e){t({type:r.j,payload:e})}))}},f=function(e){return function(t,n){c.a.post(u,e,l.m).then((function(e){t({type:r.m,payload:e.data.data})})).catch((function(e){t({type:r.l,payload:e})}))}}},765:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f}));var a=n(700),c=n.n(a),r=n(59),l=n(6),u=l.b,i=function(e){return function(t,n){e.token=l.e,e.table="gradeunits",t({type:r.h}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.f,payload:e.data})})).catch((function(e){t({type:r.i,payload:e})}))}},o=function(e){return function(t,n){t({type:r.g,payload:e})}},s=function(e){return function(t,n){c.a.POST(u,{params:e},l.l).then((function(n){t({type:r.d,payload:e.id})})).catch((function(e){t({type:r.c,payload:e})}))}},d=function(e){return function(t){c.a.post(u,e,l.m).then((function(e){t({type:r.k,payload:e.data.data})})).catch((function(e){t({type:r.j,payload:e})}))}},f=function(e){return function(t,n){c.a.post(u,e,l.m).then((function(e){t({type:r.m,payload:e.data.data})})).catch((function(e){t({type:r.l,payload:e})}))}}},796:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f}));var a=n(700),c=n.n(a),r=n(79),l=n(6),u=l.b,i=function(e){return function(t,n){e.token=l.e,e.table="notices",t({type:r.h}),c.a.get(u,{params:e},l.l).then((function(e){t({type:r.f,payload:e.data})})).catch((function(e){t({type:r.i,payload:e})}))}},o=function(e){return function(t,n){t({type:r.g,payload:e})}},s=function(e){return function(t,n){c.a.POST(u,{params:e},l.l).then((function(n){t({type:r.d,payload:e.id})})).catch((function(e){t({type:r.c,payload:e})}))}},d=function(e){return function(t){c.a.post(u,e,l.m).then((function(e){t({type:r.k,payload:e.data.data})})).catch((function(e){t({type:r.j,payload:e})}))}},f=function(e){return function(t,n){c.a.post(u,e,l.m).then((function(e){t({type:r.m,payload:e.data.data})})).catch((function(e){t({type:r.l,payload:e})}))}}},871:function(e,t,n){"use strict";var a=n(698),c=n(3),r=n.n(c),l=n(217),u=n(725),i=n(705),o=n(697),s=n(699),d=n(6);t.a=Object(l.b)((function(e){return{staffsubjects:e.staffsubjectReducer,user:e.userReducer,activeschool:e.userReducer.activeschool,claszs:e.claszReducer.claszs,subjects:e.subjectReducer.subjects,staffs:e.staffReducer.staffs}}),{registerStaffsubject:u.e,updateStaffsubject:u.f,deleteStaffsubject:u.a,getStaffs:i.e})((function(e){var t=Object(c.useState)(null),n=Object(a.a)(t,2),l=n[0],u=n[1],i=Object(c.useState)(null),f=Object(a.a)(i,2),m=f[0],p=f[1],y=Object(c.useState)(null),h=Object(a.a)(y,2),E=h[0],b=h[1],g=Object(c.useState)(null),v=Object(a.a)(g,2),k=v[0],j=v[1],O=Object(c.useState)(null),S=Object(a.a)(O,2),N=S[0],x=S[1],w=e.pid,A=e.qid;Object(c.useEffect)((function(){if(void 0!==e.activeschool&&parseInt(e.activeschool.id)>0){var t={data:JSON.stringify({schoolid:e.activeschool.id,is_active:0}),cat:"select",table:"staffs",narration:"get staffs"};e.getStaffs(t)}}),[e.activeschool]),Object(c.useEffect)((function(){if(void 0!==e.data&&parseInt(e.data.id)>0){var t=e.data;u(t.id),j(t.clientid),p(t.itemid),b(t.itemid1),x(t.contact),Object(d.w)("nf-subjectid",t.itemid1),Object(d.w)("nf-claszid",t.itemid),Object(d.w)("nf-staff",t.clientid)}else u(null),j(""),x(""),b(""),p("")}),[e.data]);var I=e.user.dropdowns&&Array.isArray(e.user.dropdowns)?e.user.dropdowns[1]:[],C=Array.isArray(I)?I.filter((function(e){return null!==e})).map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})):r.a.createElement("option",null),T=e.user.dropdowns&&Array.isArray(e.user.dropdowns)?e.user.dropdowns[2]:[],z=Array.isArray(T)?T.filter((function(e){return null!==e})).map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})):r.a.createElement("option",null),R=(e.staffs&&Array.isArray(e.staffs)?e.staffs:[]).filter((function(e){return null!==e})).map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.surname," ",e.firstname)}));return r.a.createElement(o.u,{xl:12,id:"#formz"},r.a.createElement(o.j,null,r.a.createElement(o.n,{id:"traffic",className:"card-title mb-0"},r.a.createElement(o.wb,null,r.a.createElement(o.u,{sm:"6"},r.a.createElement("h4",null,l&&parseInt(l)>0?"Edit":"Add"," ",r.a.createElement("small",null," Subjects Allocation"))),r.a.createElement(o.u,{sm:"6",className:"d-md-block"},r.a.createElement(o.f,{color:"danger",onClick:e.onClose,className:"float-right"},r.a.createElement("i",{className:"fa fa-remove"}))))),r.a.createElement(o.k,null,r.a.createElement(o.J,{action:"",method:"post"},r.a.createElement(o.K,null,r.a.createElement(o.cb,{htmlFor:"nf-staff"},"Staff "),r.a.createElement(o.xb,{type:"text",id:"nf-staff",name:"staff",onChange:function(e){return j(e.target.value)},placeholder:""},R),r.a.createElement(o.L,{className:"help-block"},"Select the staff")),r.a.createElement(o.K,null,r.a.createElement(o.cb,{htmlFor:"nf-subjectid"},"Subject "),r.a.createElement(o.xb,{type:"text",id:"nf-subjectid",name:"subjectid",defaultValue:E,onChange:function(e){return b(e.target.value)},placeholder:""},z),r.a.createElement(o.L,{className:"help-block"},"Select the subject")),r.a.createElement(o.K,null,r.a.createElement(o.cb,{htmlFor:"nf-claszid"},"Class "),r.a.createElement(o.xb,{type:"text",id:"nf-claszid",name:"claszid",onChange:function(e){return p(e.target.value)},placeholder:""},C),r.a.createElement(o.L,{className:"help-block"},"Select the class")),r.a.createElement(o.K,null,r.a.createElement(o.cb,{htmlFor:"nf-contact"},"Contact/Period"),r.a.createElement(o.S,{type:"number",id:"nf-contact",name:"contactz",value:N,onChange:function(e){return x(e.target.value)},placeholder:"0"}),r.a.createElement(o.L,{className:"help-block"},"Please enter department name")))),r.a.createElement(o.l,null,r.a.createElement(o.f,{type:"submit",onClick:function(){if(parseInt(k)>0){var t=new FormData;t.append("itemid",m),t.append("itemid1",E),t.append("clientid",k),t.append("contact",N),t.append("checker","2_"+A+"_"+k+"_"+m+"_"+E),t.append("table","accessstaffsubject"),t.append("sessionid",w),l&&parseInt(l)>0?(t.append("id",l),t.append("cat","updates"),e.updateStaffsubject(t)):A&&parseInt(A)>0&&(t.append("grp",2),t.append("termid",A),t.append("cat","inserts"),e.registerStaffsubject(t)),e.onReset()}},size:"sm",color:"primary"},r.a.createElement(s.a,{name:"cil-scrubber"})," Submit")," ",r.a.createElement(o.f,{type:"reset",onClick:e.onReset,size:"sm",color:"danger"},r.a.createElement(s.a,{name:"cil-ban"})," Reset"))))}))},939:function(e,t,n){"use strict";var a=n(3),c=n.n(a),r=n(217),l=n(725),u=Object(r.b)((function(e){return{staffsubjects:e.staffsubjectReducer}}),{})((function(e){var t=(e.data&&Array.isArray(e.data)?e.data.filter((function(e){return null!==e||void 0!==e})):[]).filter((function(e){return null!=e})).map((function(t,n){return c.a.createElement("tr",{key:n},c.a.createElement("td",{className:"text-center"},n+1),c.a.createElement("td",{className:"text-left"},t.itemname),c.a.createElement("td",{className:"text-left"},t.itemname1),c.a.createElement("td",{className:"text-center"},t.contact),c.a.createElement("td",null,t.clientname),!0===e.editer||Array.isArray(e.submenu)&&e.submenu.length>0?c.a.createElement("td",{className:"text-center"},!0===e.editer?c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return e.onActivate(t.id,t.is_active)}},c.a.createElement("i",{className:"fa ".concat(1==parseInt(t.is_active)?"fa-thumbs-down text-danger":"fa-thumbs-up text-success"," ml-2 px-2")})),c.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return e.onEdit(t)}},c.a.createElement("i",{className:"fa fa-edit ml-2 px-2"})),c.a.createElement("a",{style:{cursor:"pointer"},onClick:function(){return e.onDelete(t)}},c.a.createElement("i",{className:"fa fa-remove ml-2 px-2 text-danger"}))):""):"")}));return c.a.createElement(c.a.Fragment,null,c.a.createElement("table",{className:"table table-hover table-outline mb-0  d-sm-table"},c.a.createElement("thead",{className:"thead-light"},c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"}," SN."),c.a.createElement("th",null,c.a.createElement("i",{className:"fa fa-users"})," STAFF NAME"),c.a.createElement("th",null,c.a.createElement("i",{className:"fa fa-blacboard"})," CLASS"),c.a.createElement("th",null,c.a.createElement("i",{className:"fa fa-book"})," SUBJECT"),c.a.createElement("th",null,c.a.createElement("i",{className:"fa fa-clock-o"})," PERIODS",c.a.createElement("br",null)," (PER WEEK)"),!0===e.editer||void 0!==e.submenu&&e.submenu.length>0?c.a.createElement("th",{className:"text-center"},c.a.createElement("i",{className:"fa fa-gear"})," Action"):"")),c.a.createElement("tbody",null,t)))})),i=n(144),o=n.n(i),s=Object(r.b)((function(e){return{staffsubjects:e.staffsubjectReducer}}),{})((function(e){var t=e.data&&Array.isArray(e.data)?e.data.filter((function(e){return null!==e||"null"!==e||void 0!==e})):[],n={},a={},r={},l={},u={};t.filter((function(e){return null!==e||void 0!==e})).forEach((function(e){e.clientid in n?e.itemid in n[e.clientid]?e.itemid1 in n[e.clientid][e.itemid]?n[e.clientid][e.itemid][e.itemid1].push(e.contact):n[e.clientid][e.itemid][e.itemid1]=[e.contact]:(n[e.clientid][e.itemid]={},n[e.clientid][e.itemid][e.itemid1]=[e.contact]):(n[e.clientid]={},n[e.clientid][e.itemid]={},n[e.clientid][e.itemid][e.itemid1]=[e.contact])})),t.filter((function(e){return null!==e||void 0!==e})).forEach((function(e){e.clientid in a?e.itemid in a[e.clientid]?e.itemid1 in a[e.clientid][e.itemid]?a[e.clientid][e.itemid][e.itemid1].push(e):a[e.clientid][e.itemid][e.itemid1]=[e]:(a[e.clientid][e.itemid]={},a[e.clientid][e.itemid][e.itemid1]=[e]):(a[e.clientid]={},a[e.clientid][e.itemid]={},a[e.clientid][e.itemid][e.itemid1]=[e])})),t.forEach((function(e){return r[e.clientid]=e.clientname})),t.forEach((function(e){return l[e.itemid1]=e.itemabbrv1})),t.forEach((function(e){return u[e.itemid]=e.itemname}));var i={},s=Object.keys(u).filter((function(e){return null!=e})).map((function(e,t){return i[e]=[],c.a.createElement("th",{key:t,className:"text-center"},u[e])})),d=Object.keys(r).filter((function(e){return null!=e})).map((function(t,s){var d=[];return c.a.createElement("tr",{key:s},c.a.createElement("td",{className:"text-left"},r[t]),Object.keys(u).filter((function(e){return null!=e})).map((function(r,u){var s=t in n&&r in n[t]?n[t][r]:[],f=Object.keys(s).map((function(n,u){return i[r].push(s[n].reduce((function(e,t){return parseInt(e)+parseInt(t)}),0)),d.push(s[n].reduce((function(e,t){return parseInt(e)+parseInt(t)}),0)),c.a.createElement("span",{key:u,onClick:function(){return c=a[t][r][n][0],console.log(c),void o()("Please select what you want to do ?",{buttons:{cancel:"Delete!",catch:{text:"Edit",value:"catch"},defeat:!0}}).then((function(t){switch(t){case"defeat":e.onDelete(c);break;case"catch":e.onEdit(c);break;default:o()("canceled!")}}));var c}},"".concat(l[n]," (").concat(s[n].reduce((function(e,t){return parseInt(e)+parseInt(t)}),0),")"))}));return c.a.createElement("th",{key:u,className:"text-center"},f)})),c.a.createElement("th",{className:"text-center"},d.reduce((function(e,t){return parseInt(e)+parseInt(t)}),0)))})),f=Object.keys(u).filter((function(e){return null!=e})).map((function(e,t){var n=i[e].reduce((function(e,t){return parseInt(e)+parseInt(t)}),0);return c.a.createElement("th",{key:t,className:"text-center"},n)}));return c.a.createElement("table",{className:"table table-hover table-outline mb-0  d-sm-table"},c.a.createElement("thead",null,c.a.createElement("td",null,"STAFF"),s,c.a.createElement("th",null,"TOTAL")),c.a.createElement("tbody",null,d),c.a.createElement("thead",null,c.a.createElement("td",null,"TOTAL"),f,c.a.createElement("th",null)))})),d=Object(r.b)((function(e){return{staffsubjects:e.staffsubjectReducer}}),{})((function(e){var t=e.data&&Array.isArray(e.data)?e.data.filter((function(e){return null!==e||void 0!==e})):[],n={},a={},r={},l={},u={};t.filter((function(e){return"null"!==e||void 0!==e})).forEach((function(e){e.clientid in n?e.itemid1 in n[e.clientid]?e.itemid in n[e.clientid][e.itemid1]?n[e.clientid][e.itemid1][e.itemid].push(e.contact):n[e.clientid][e.itemid1][e.itemid]=[e.contact]:(n[e.clientid][e.itemid1]={},n[e.clientid][e.itemid1][e.itemid]=[e.contact]):(n[e.clientid]={},n[e.clientid][e.itemid1]={},n[e.clientid][e.itemid1][e.itemid]=[e.contact])})),t.filter((function(e){return"null"!==e||void 0!==e})).forEach((function(e){e.clientid in a?e.itemid1 in a[e.clientid]?e.itemid in a[e.clientid][e.itemid1]?a[e.clientid][e.itemid1][e.itemid].push(e):a[e.clientid][e.itemid1][e.itemid]=[e]:(a[e.clientid][e.itemid1]={},a[e.clientid][e.itemid1][e.itemid]=[e]):(a[e.clientid]={},a[e.clientid][e.itemid1]={},a[e.clientid][e.itemid1][e.itemid]=[e])})),t.forEach((function(e){return r[e.clientid]=e.clientname})),t.forEach((function(e){return l[e.itemid1]=e.itemabbrv1})),t.forEach((function(e){return u[e.itemid]=e.itemname}));var i={},s=Object.keys(l).filter((function(e){return null!=e})).map((function(e,t){return i[e]=[],c.a.createElement("th",{key:t,className:"text-center"},l[e])})),d=Object.keys(r).filter((function(e){return null!=e})).map((function(t,s){var d=[];return c.a.createElement("tr",{key:s},c.a.createElement("td",{className:"text-left"},r[t]),Object.keys(l).filter((function(e){return null!=e})).map((function(r,l){var s=t in n&&r in n[t]?n[t][r]:[],f=Object.keys(s).map((function(n,l){return i[r].push(s[n].reduce((function(e,t){return parseInt(e)+parseInt(t)}),0)),d.push(s[n].reduce((function(e,t){return parseInt(e)+parseInt(t)}),0)),c.a.createElement("span",{key:l,onClick:function(){return c=a[t][r][n][0],console.log(c),void o()("Please select what you want to do ?",{buttons:{cancel:"Delete!",catch:{text:"Edit",value:"catch"},defeat:!0}}).then((function(t){switch(t){case"defeat":e.onDelete(c);break;case"catch":e.onEdit(c);break;default:o()("canceled!")}}));var c},style:{display:"block"}},"".concat(u[n]," (").concat(s[n].reduce((function(e,t){return parseInt(e)+parseInt(t)}),0),")"))}));return c.a.createElement("th",{key:l,className:"text-center"},f)})),c.a.createElement("th",{className:"text-center"},d.reduce((function(e,t){return parseInt(e)+parseInt(t)}),0)))})),f=Object.keys(l).filter((function(e){return null!=e})).map((function(e,t){var n=i[e].reduce((function(e,t){return parseInt(e)+parseInt(t)}),0);return c.a.createElement("th",{key:t,className:"text-center"},n)}));return c.a.createElement("table",{className:"table table-hover table-outline mb-0  d-sm-table"},c.a.createElement("thead",null,c.a.createElement("td",null,"STAFF"),s,c.a.createElement("th",null,"TOTAL")),c.a.createElement("tbody",null,d),c.a.createElement("thead",null,c.a.createElement("td",null,"TOTAL"),f,c.a.createElement("th",null)))})),f=Object(r.b)((function(e){return{staffsubjects:e.staffsubjectReducer}}),{})((function(e){var t=e.data&&Array.isArray(e.data)?e.data.filter((function(e){return null!==e||"null"!==e||void 0!==e})):[],n={},a={},r={},l={},u={};t.filter((function(e){return"null"!==e||null!==e||void 0!==e})).forEach((function(e){e.itemid1 in n?e.itemid in n[e.itemid1]?n[e.itemid1][e.itemid].push(e.contact):n[e.itemid1][e.itemid]=[e.contact]:(n[e.itemid1]={},n[e.itemid1][e.itemid]=[e.contact])})),t.filter((function(e){return"null"!==e||null!==e||void 0!==e})).forEach((function(e){e.itemid1 in a?e.itemid in a[e.itemid1]?a[e.itemid1][e.itemid].push(e):a[e.itemid1][e.itemid]=[e]:(a[e.itemid1]={},a[e.itemid1][e.itemid]=[e])})),t.forEach((function(e){return r[e.clientid]=e.clientname})),t.forEach((function(e){return l[e.itemid1]=e.itemabbrv1})),t.forEach((function(e){return u[e.itemid]=e.itemname}));var i={},s=Object.keys(u).filter((function(e){return null!=e})).map((function(e,t){return i[e]=[],c.a.createElement("th",{key:t,className:"text-center"},u[e])})),d=Object.keys(l).filter((function(e){return null!=e})).map((function(t,r){var s=[];return c.a.createElement("tr",{key:r},c.a.createElement("td",{className:"text-left"},l[t]),Object.keys(u).filter((function(e){return null!=e})).map((function(r,l){var u=t in n&&r in n[t]?n[t][r]:[];i[r].push(u.reduce((function(e,t){return parseInt(e)+parseInt(t)}),0)),s.push(u.reduce((function(e,t){return parseInt(e)+parseInt(t)}),0));var d=u.reduce((function(e,t){return parseInt(e)+parseInt(t)}),0);return c.a.createElement("th",{key:l,onClick:function(){var n;(n=a[t][r])&&Array.isArray(n)&&1===n.length&&o()("Please select what you want to do ?",{buttons:{cancel:"Delete!",catch:{text:"Edit",value:"catch"},defeat:!0}}).then((function(t){switch(t){case"defeat":e.onDelete(n[0]);break;case"catch":e.onEdit(n[0]);break;default:o()("canceled!")}}))},className:"text-center"},c.a.createElement("span",{style:{display:"block"}},parseInt(d)>0?d:"-"))})),c.a.createElement("th",{className:"text-center"},s.reduce((function(e,t){return parseInt(e)+parseInt(t)}),0)))})),f=Object.keys(u).filter((function(e){return null!=e})).map((function(e,t){var n=i[e].reduce((function(e,t){return parseInt(e)+parseInt(t)}),0);return c.a.createElement("th",{key:t,className:"text-center"},n)}));return c.a.createElement("table",{className:"table table-hover table-outline mb-0  d-sm-table"},c.a.createElement("thead",null,c.a.createElement("td",null,"STAFF"),s,c.a.createElement("th",null,"TOTAL")),c.a.createElement("tbody",null,d),c.a.createElement("thead",null,c.a.createElement("td",null,"TOTAL"),f,c.a.createElement("th",null)))})),m=n(697);t.a=Object(r.b)((function(e){return{staffsubjects:e.staffsubjectReducer}}),{getStaffsubjects:l.c,getStaffsubject:l.b,registerStaffsubject:l.e,updateStaffsubject:l.f,deleteStaffsubject:l.a})((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.Kb,null,c.a.createElement(m.lb,{variant:"tabs"},c.a.createElement(m.mb,null,c.a.createElement(m.nb,null,"Home")),c.a.createElement(m.mb,null,c.a.createElement(m.nb,null,"Staff/Class")),c.a.createElement(m.mb,null,c.a.createElement(m.nb,null,"Staff/Subject")),c.a.createElement(m.mb,null,c.a.createElement(m.nb,null,"Subject/Class"))),c.a.createElement(m.Ib,null,c.a.createElement(m.Jb,null,c.a.createElement(u,{pid:e.pid,qid:e.qid,did:e.did,editer:e.editer,submenu:e.submenu,onActivate:function(t,n){return e.onActivate(t,n)},onEdit:function(t){return e.onEdit(t)},onDelete:function(t){return e.onDelete(t)},data:e.data})),c.a.createElement(m.Jb,null,c.a.createElement(s,{data:e.data,onEdit:function(t){return e.onEdit(t)},onDelete:function(t){return e.onDelete(t)}})),c.a.createElement(m.Jb,null,c.a.createElement(d,{data:e.data,onEdit:function(t){return e.onEdit(t)},onDelete:function(t){return e.onDelete(t)}})),c.a.createElement(m.Jb,null,c.a.createElement(f,{data:e.data,onEdit:function(t){return e.onEdit(t)},onDelete:function(t){return e.onDelete(t)}})))))}))}}]);
//# sourceMappingURL=12.89ddd771.chunk.js.map