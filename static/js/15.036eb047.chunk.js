(this.webpackJsonpmesl=this.webpackJsonpmesl||[]).push([[15],{698:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(219);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,c=!1,l=void 0;try{for(var r,o=e[Symbol.iterator]();!(n=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(s){c=!0,l=s}finally{try{n||null==o.return||o.return()}finally{if(c)throw l}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},707:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return m})),a.d(t,"e",(function(){return f}));var n=a(700),c=a.n(n),l=a(47),r=a(6),o=r.b,s=function(e){return function(t,a){e.token=r.e,e.table="claszs",t({type:l.h}),c.a.get(o,{params:e},r.l).then((function(e){t({type:l.f,payload:e.data})})).catch((function(e){t({type:l.i,payload:e})}))}},u=function(e){return function(t,a){t({type:l.g,payload:e})}},i=function(e){return function(t,a){c.a.POST(o,{params:e},r.l).then((function(a){t({type:l.d,payload:e.id})})).catch((function(e){t({type:l.c,payload:e})}))}},m=function(e){return function(t){c.a.post(o,e,r.m).then((function(e){t({type:l.k,payload:e.data.data})})).catch((function(e){t({type:l.j,payload:e})}))}},f=function(e){return function(t,a){c.a.post(o,e,r.m).then((function(e){t({type:l.m,payload:e.data.data})})).catch((function(e){t({type:l.l,payload:e})}))}}},715:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return f})),a.d(t,"e",(function(){return d})),a.d(t,"f",(function(){return p}));var n=a(700),c=a.n(n),l=a(38),r=a(6),o="themes",s=r.b,u=function(e){return function(t,a){e.token=r.e,e.table=o,t({type:l.j}),c.a.get(s,{params:e},r.l).then((function(e){t({type:l.g,payload:e.data})})).catch((function(e){t({type:l.k,payload:e})}))}},i=function(e){return function(t,a){e.token=r.e,e.table="themesummary",t({type:l.j}),c.a.get(s,{params:e},r.l).then((function(e){t({type:l.i,payload:e.data})})).catch((function(e){t({type:l.k,payload:e})}))}},m=function(e){return function(t,a){t({type:l.h,payload:e})}},f=function(e){return function(t,a){c.a.POST(s,{params:e},r.l).then((function(a){t({type:l.d,payload:e.id})})).catch((function(e){t({type:l.c,payload:e})}))}},d=function(e){return function(t){c.a.post(s,e,r.m).then((function(e){t({type:l.m,payload:e.data.data})})).catch((function(e){t({type:l.l,payload:e})}))}},p=function(e){return function(t,a){c.a.post(s,e,r.m).then((function(e){t({type:l.o,payload:e.data.data})})).catch((function(e){t({type:l.n,payload:e})}))}}},884:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(698),l=a(3),r=a.n(l),o=a(217),s=a(715),u=a(707),i=a(24),m=a(697),f=a(699),d=a(6);a(226);t.default=Object(o.b)((function(e){return{themes:e.themeReducer,subjects:e.subjectReducer.subjects,claszs:e.claszReducer.claszs,school:e.schoolReducer.school}}),{getThemes:s.c,getTheme:s.b,registerTheme:s.e,updateTheme:s.f,deleteTheme:s.a,getClaszs:u.c})((function(e){var t=Object(i.i)().theme,a=Object(i.i)().subject,o=Object(i.g)(),s=(Object(i.h)().search.match(/page=([0-9]+)/,""),Object(l.useState)(!1)),u=Object(c.a)(s,2),p=u[0],b=u[1],h=Object(l.useState)(null),E=Object(c.a)(h,2),y=E[0],j=E[1],v=Object(l.useState)(""),O=Object(c.a)(v,2),g=O[0],N=O[1],k=Object(l.useState)(""),S=Object(c.a)(k,2),C=S[0],z=S[1],w=Object(l.useState)(""),T=Object(c.a)(w,2),x=T[0],A=T[1],I=Object(l.useState)(""),J=Object(c.a)(I,2),D=J[0],L=(J[1],Object(l.useState)()),F=Object(c.a)(L,2),W=F[0],_=F[1],K=Object(l.useState)([]),R=Object(c.a)(K,2),M=R[0],P=R[1],V=Object(l.useState)([]),B=Object(c.a)(V,2),q=B[0],H=B[1],Q=Object(l.useState)(""),U=Object(c.a)(Q,2),G=U[0],X=U[1],Y=Object(l.useState)(""),Z=Object(c.a)(Y,2),$=Z[0],ee=Z[1];Object(l.useEffect)((function(){var a={data:JSON.stringify({subjectid:t}),cat:"select",table:"themes",narration:"get themes"};e.getThemes(a);var n={data:JSON.stringify({schoolid:e.school.id}),cat:"select",table:"claszs",narration:"get claszs"};e.getClaszs(n)}),[t,e.school.id]),Object(l.useEffect)((function(){if(y&&parseInt(y)>0){var e=g;A(e.name),A(e.topic),_(e.claszid),P(JSON.parse(e.objective)),H(JSON.parse(e.content)),Object(d.w)("nf-claszid",e.claszid)}else A(""),_(""),P([]),H([])}),[y]);var te=function(){return j(null)},ae=function(e,t,a){var c=Object(n.a)(q);if(0===e){c.push(G);H(c),X("")}if(1===e){var l=Object(n.a)(q)[t];X(l)}if(2===e){var r=Object(n.a)(q).filter((function(e){return e!==a}));H(r),X("")}},ne=function(e,t,a){var c=Object(n.a)(M);if(0===e){c.push($);P(c),ee("")}if(1===e){var l=Object(n.a)(M)[t];ee(l)}if(2===e){var r=Object(n.a)(M).filter((function(e){return e!==a}));P(r),ee("")}},ce=e.subjects.filter((function(e){return parseInt(e.id)===parseInt(t)&&parseInt(e.id)>0})),le=ce.length>0?ce[0].name:"None",re=(e.claszs&&Array.isArray(e.claszs)?e.claszs:[]).filter((function(e){return null!==e})).map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})),oe=(e.themes.themes&&Array.isArray(e.themes.themes)?e.themes.themes.filter((function(e){return null!==e||void 0!==e})):[]).filter((function(e){return null!==e})).map((function(n,c){return r.a.createElement("tr",{key:c},r.a.createElement("td",null,r.a.createElement("strong",null,"MODULE ",n.moduleid)," : ",r.a.createElement("span",{style:{textTransform:"uppercase"}}," ",n.name),r.a.createElement(m.wb,null,r.a.createElement(m.u,{sm:6},r.a.createElement("strong",null,"The lesson would be presented as follows"),r.a.createElement("ul",{className:"ul"},n.content&&n.content.length>3&&Array.isArray(JSON.parse(n.content))?JSON.parse(n.content).map((function(e,t){return r.a.createElement("li",{key:c},e)})):"")),r.a.createElement(m.u,{sm:6},r.a.createElement("strong",null,"At the end of the lesson students should be able to"),r.a.createElement("ul",{className:"ul"},n.objective&&n.objective.length>3&&Array.isArray(JSON.parse(n.objective))?JSON.parse(n.objective).map((function(e,t){return r.a.createElement("li",{key:c},e)})):"")),r.a.createElement(m.z,{className:"m-0 btn-group "},r.a.createElement(m.E,{color:0===parseInt(n.is_active)?"success":"danger",size:"sm"},r.a.createElement("i",{className:"fa fa-gear"})),r.a.createElement(m.D,null,r.a.createElement(m.C,{onClick:function(e){return o.push("/department/".concat(a,"/").concat(t,"/").concat(n.id))}},r.a.createElement("i",{className:"fa fa-list"})," "," Question Bank"),r.a.createElement(m.C,{onClick:function(e){return o.push("/department/".concat(a,"/").concat(t,"/").concat(n.id))}},r.a.createElement("i",{className:"fa fa-list"})," "," Add reference material"),r.a.createElement(m.C,{onClick:function(){return function(t,a){var n=0===parseInt(a)?1:0,c=new FormData;c.append("id",t),c.append("is_active",n),e.updateTheme(c)}(n.id,n.is_active)}},r.a.createElement("i",{className:0===parseInt(n.is_active)?"fa fa-thumbs-up":"fa fa-thumb-down"})," ","  ",0===parseInt(n.is_active)?"Deactivate":"Activate"),r.a.createElement(m.C,{onClick:function(){return j((e=n).id),N(e),void b(!0);var e}},r.a.createElement("i",{className:"fa fa-edit"})," ","  Edit"),r.a.createElement(m.C,{onClick:function(){n.id}},r.a.createElement("i",{className:"fa fa-remove"})," ","  Delete"))))))}));return r.a.createElement(m.wb,null,r.a.createElement(m.u,null,r.a.createElement(m.j,null,r.a.createElement(m.n,null,r.a.createElement(m.wb,null,r.a.createElement(m.u,{sm:"8"},r.a.createElement("h4",{id:"traffic",className:"card-title mb-0"},"Scheme of Work : ",le),r.a.createElement("div",{className:"small text-muted",style:{textTransform:"capitalize"}},e.school.name)),r.a.createElement(m.u,{sm:"4",className:"d-md-block"},r.a.createElement(m.f,{"data-target":"#formz","data-toggle":"collapse",color:"primary",onClick:function(e){b(!p),e.preventDefault()},className:"float-right"},r.a.createElement("i",{className:"fa fa-plus"}))))),r.a.createElement(m.k,null,r.a.createElement("table",{className:"table table-hover table-outline mb-0  d-sm-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("i",{className:"fa fa-list"}),"THEME/TOPIC"))),r.a.createElement("tbody",null,oe))))),r.a.createElement(m.v,{show:p},r.a.createElement(m.u,{xl:12,id:"#formz"},r.a.createElement(m.j,null,r.a.createElement(m.n,{id:"traffic",className:"card-title mb-0"},r.a.createElement(m.wb,null,r.a.createElement(m.u,{sm:"6"},r.a.createElement("h4",null,y&&parseInt(y)>0?"Edit":"Add"," ",r.a.createElement("small",null," Theme"))),r.a.createElement(m.u,{sm:"6",className:"d-md-block"},r.a.createElement(m.f,{color:"danger",onClick:function(){return b(!1)},className:"float-right"},r.a.createElement("i",{className:"fa fa-remove"}))))),r.a.createElement(m.k,null,r.a.createElement(m.J,{action:"",method:"post"},r.a.createElement(m.K,null,r.a.createElement(m.cb,{htmlFor:"nf-module"},"ModuleID"),r.a.createElement(m.S,{type:"number",id:"nf-module",module:"modulez",defaultValue:C,onChange:function(e){return z(e.target.value)},placeholder:"00"}),r.a.createElement(m.L,{className:"help-block"},"This number has to be unique and serial")),r.a.createElement(m.K,null,r.a.createElement(m.cb,{htmlFor:"nf-name"},"Theme"),r.a.createElement(m.S,{type:"text",id:"nf-name",name:"namez",defaultValue:x,onChange:function(e){return A(e.target.value)},placeholder:"Matter"}),r.a.createElement(m.L,{className:"help-block"},"Please enter theme name")),r.a.createElement(m.K,null,r.a.createElement(m.cb,{htmlFor:"nf-claszid"},"Class "),r.a.createElement(m.xb,{type:"text",id:"nf-claszid",name:"claszid",onChange:function(e){return _(e.target.value)},placeholder:""},y&&parseInt(y)>0?r.a.createElement("option",{value:W},W):"",re),r.a.createElement(m.L,{className:"help-block"},"Select the class")),r.a.createElement(m.K,null,r.a.createElement(m.cb,{htmlFor:"nf-content"},"Lesson Content"),r.a.createElement("ul",{className:"list-items"},q.map((function(e,t){return r.a.createElement(m.wb,{style:{maxWidth:"280px"}},r.a.createElement(m.u,{xs:10,className:"",style:{wordWrap:"break-word"}},e),r.a.createElement(m.u,{xs:2},r.a.createElement("span",{className:"pull-left"},r.a.createElement("a",{onClick:function(){return ae(2,t,e)},className:"btn btn-link btn-sm"},r.a.createElement("i",{className:"fa fa-trash"})))))}))),r.a.createElement(m.V,null,r.a.createElement(m.S,{type:"text",id:"nf-contentid",value:G,onChange:function(e){return X(e.target.value)},placeholder:"Type-in content ..."}),r.a.createElement(m.W,null,r.a.createElement(m.f,{onClick:function(e){return ae(0,e,0)},type:"button",color:"secondary"},r.a.createElement("i",{className:"fa fa-plus"})))),r.a.createElement(m.L,{className:"help-block"},"Add or remove subtopics outline in order of presentation")),r.a.createElement(m.K,null,r.a.createElement(m.cb,{htmlFor:"nf-objective"},"Lesson Objectives"),r.a.createElement("i",null,r.a.createElement("ul",{className:"list-items"},M.map((function(e,t){return r.a.createElement(m.wb,{style:{maxWidth:"280px"}},r.a.createElement(m.u,{xs:10,className:"",style:{wordWrap:"break-word"}},e),r.a.createElement(m.u,{xs:2},r.a.createElement("span",{className:"pull-left"},r.a.createElement("a",{onClick:function(){return ne(2,t,e)},className:"btn btn-link btn-sm"},r.a.createElement("i",{className:"fa fa-trash"})))))})))),r.a.createElement(m.V,null,r.a.createElement(m.S,{type:"text",id:"nf-objectiveid",value:$,onChange:function(e){return ee(e.target.value)},placeholder:"Type-in objective ..."}),r.a.createElement(m.W,null,r.a.createElement(m.f,{onClick:function(e){return ne(0,e,0)},type:"button",color:"secondary"},r.a.createElement("i",{className:"fa fa-plus"})))),r.a.createElement(m.L,{className:"help-block"},"Add or remove lesson objectives")))),r.a.createElement(m.l,null,r.a.createElement(m.f,{type:"submit",onClick:function(){if(x.length>0){var a=new FormData;a.append("name",x),a.append("topic",D),a.append("claszid",W),a.append("moduleid",C),a.append("objective",JSON.stringify(M)),a.append("content",JSON.stringify(q)),a.append("checker","A"+t+"_B"+W),a.append("table","themes"),y&&parseInt(y)>0?(a.append("id",y),a.append("cat","update"),e.updateTheme(a)):t&&parseInt(t)>0&&(a.append("subjectid",t),a.append("cat","insert"),e.registerTheme(a)),te()}},size:"sm",color:"primary"},r.a.createElement(f.a,{name:"cil-scrubber"})," Submit")," ",r.a.createElement(m.f,{type:"reset",onClick:te,size:"sm",color:"danger"},r.a.createElement(f.a,{name:"cil-ban"})," Reset"))))))}))}}]);
//# sourceMappingURL=15.036eb047.chunk.js.map