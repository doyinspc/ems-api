(this.webpackJsonpmesl=this.webpackJsonpmesl||[]).push([[23],{1341:function(e,t,a){"use strict";a.r(t);var n=a(698),r=a(3),c=a.n(r),l=a(217),s=a(697),o=a(759),i=a(725),u=a(714),d=a(699),m=a(745),f=(a(762),a(109)),p=a(0),b=a(800),E=a(724),h=a(788),y=a(144),g=a.n(y),v=function(e){var t=e||"",a=t.subject,n=t.len,r=t.studentdata,l=e.cas,o={},i={},u={},m={};return l.forEach((function(e){if(1===parseInt(e.typeid)?Object.keys(o).includes(e.sid)||(o[e.sid]=e.caname):2===parseInt(e.typeid)?Object.keys(o).includes(e.sid)||(i[e.sid]=e.caname):3===parseInt(e.typeid)&&(Object.keys(o).includes(e.sid)||(u[e.sid]=e.caname)),Object.keys(m).includes(e.sid)){var t={};t.id=e.id,t.typeid=e.typeid,t.name=e.name,t.score=e.maxscore,m[e.sid].push(t)}else{m[e.sid]=[];var a={};a.id=e.id,a.typeid=e.typeid,a.name=e.name,a.score=e.maxscore,m[e.sid].push(a)}})),c.a.createElement(s.w,null,c.a.createElement(s.wb,null,c.a.createElement(s.u,null,c.a.createElement("h4",null,a.itemname1," ",a.itemname," (","".concat(n," Students"),")")),c.a.createElement(s.u,{xs:12,sm:4,className:"d-md-block btn-group"},c.a.createElement(s.g,{className:"pull-right"},c.a.createElement("button",{onClick:function(){return e.goBack()},className:"btn btn-info"},c.a.createElement("i",{className:"fa fa-backward"})),c.a.createElement(s.f,{color:"dark",size:"sm",onClick:function(){return e.getAllStudents()}},"Get All")),c.a.createElement(s.g,{className:"pull-right"},c.a.createElement(s.z,{color:"secondary"},c.a.createElement(s.E,{caret:!0,color:"secondary"},c.a.createElement("i",{className:"fa fa-list"})," ",c.a.createElement("span",{className:"hidden-phone"}," CAS")),c.a.createElement(s.D,{className:"pt-0",placement:"bottom-end"},Object.keys(o).map((function(t,a){return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.C,{header:!0,tag:"div",color:"light",className:"text-center"},c.a.createElement("strong",{key:a},o[t])),Object.keys(m[t]).map((function(a,n){return c.a.createElement(s.C,{key:n,onClick:function(n){return e.setShowca(m[t][a].id,m[t][a].name,m[t][a].score)}},c.a.createElement(d.a,{name:"cil-book",className:"mfe-2"}),"".concat(m[t][a].name," (").concat(m[t][a].score,")"))})))})))),c.a.createElement(s.z,{color:"secondary"},c.a.createElement(s.E,{caret:!0,color:"secondary"},c.a.createElement("i",{className:"fa fa-list"})," ",c.a.createElement("span",{className:"hidden-phone"}," Behavior")),c.a.createElement(s.D,{className:"pt-0",placement:"bottom-end"},Object.keys(i).map((function(t,a){return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.C,{header:!0,tag:"div",color:"light",className:"text-center"},c.a.createElement("strong",{key:a},i[t])),Object.keys(m[t]).map((function(a,n){return c.a.createElement(s.C,{key:n,onClick:function(n){return e.setShowbh(m[t][a].id,m[t][a].name,m[t][a].score)}},c.a.createElement(d.a,{name:"cil-book",className:"mfe-2"}),"".concat(m[t][a].name," "))})))})))),c.a.createElement(s.z,{color:"secondary"},c.a.createElement(s.E,{caret:!0,color:"secondary"},c.a.createElement("i",{className:"fa fa-list"})," ",c.a.createElement("span",{className:"hidden-phone"}," Skills")),c.a.createElement(s.D,{className:"pt-0",placement:"bottom-end"},Object.keys(u).map((function(t,a){return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.C,{header:!0,tag:"div",color:"light",className:"text-center"},c.a.createElement("strong",{key:a},u[t])),Object.keys(m[t]).map((function(a,n){return c.a.createElement(s.C,{key:n,onClick:function(n){return e.setShowsk(m[t][a].id,m[t][a].name,m[t][a].score)}},c.a.createElement(d.a,{name:"cil-book",className:"mfe-2"}),"".concat(m[t][a].name," "))})))}))))))),c.a.createElement(s.wb,null,c.a.createElement(s.u,{sm:6},c.a.createElement(h.a,{studentx:e.placeStudent})),c.a.createElement(s.u,{sm:6},r&&Object.keys(r).length>0?c.a.createElement(c.a.Fragment,null,c.a.createElement(s.wb,null,c.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api/"+r.photo,style:{height:"30px",width:"30px"},height:"30px",alt:"profile-image",class:"profile",onError:function(e){e.target.onerror=null,e.target.src="/ems/icons/profile_1.png"}}),c.a.createElement(s.u,null,c.a.createElement("strong",null,r.name),c.a.createElement("br",null),c.a.createElement("small",null,r.admission_no)),c.a.createElement(s.u,{xs:3},c.a.createElement("button",{className:"btn btn-sm btn-success",onClick:e.loadStudent},c.a.createElement("i",{className:"fa fa-plus"})),c.a.createElement("button",{className:"btn btn-sm btn-danger",onClick:function(){return e.setStudentdata({})}},c.a.createElement("i",{className:"fa fa-trash"}))))):"")))},j=a(6),S=Object(l.b)((function(e){return{}}),{registerStudentscore:E.g,deleteStudentscore:E.b})((function(e){var t=Object(r.useState)(""),a=Object(n.a)(t,2),l=a[0],o=a[1],i=Object(r.useState)(""),u=Object(n.a)(i,2),m=(u[0],u[1],Object(r.useState)("")),f=Object(n.a)(m,2),p=(f[0],f[1],Object(r.useState)(e.sd_val)),b=Object(n.a)(p,2),E=b[0],h=b[1],y=Object(r.useState)(0),g=Object(n.a)(y,2),v=g[0],S=g[1];Object(r.useEffect)((function(){o(e.sd_val),h(e.sd_val)}),[e.sd_val]),Object(r.useEffect)((function(){S(e.score)}),[e.score]);var O=function(e){parseFloat(e)>parseFloat(v)?o(""):o(e)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("td",{valign:"middle",width:"500px"},c.a.createElement(s.K,{row:!0},c.a.createElement(s.u,{md:"12"},c.a.createElement(s.V,null,c.a.createElement(s.X,null,parseFloat(l)===parseFloat(E)?c.a.createElement(s.f,{size:"lg",type:"button",color:"success"},c.a.createElement(d.a,{name:"cil-check"})):c.a.createElement(s.f,{onClick:function(){if(v>0)if(parseFloat(l)<=v){var t=new FormData,a=parseFloat(l)>0?parseFloat(l)/v:0;t.append("caid",e.caid),t.append("sessionid",e.sessionid),t.append("termid",e.termid),t.append("studentid",e.studentid),t.append("subjectid",e.subjectid),t.append("score",a.toString()),t.append("staffid",e.staffid),t.append("grp",8),t.append("cat","insertscore"),t.append("table","accessstudentscore"),e.registerStudentscore(t)}else Object(j.n)("The imput value is more than the maximum score");else Object(j.n)("Please input a max score value")},size:"lg",type:"button",color:"info"},c.a.createElement(d.a,{name:"cil-save"}))),parseFloat(l)===parseFloat(E)?c.a.createElement(s.S,{size:"lg",type:"number",style:{textAlign:"center",fontWeight:"bolder",padding:"0px"},value:E*v,onChange:function(e){return O(e.target.value)}}):c.a.createElement(s.S,{size:"lg",type:"number",style:{textAlign:"center",fontWeight:"bolder",padding:"0px"},value:l||"",onChange:function(e){return O(e.target.value)}}),c.a.createElement(s.W,null,parseInt(e.sd_id)>0?c.a.createElement(s.f,{onClick:function(){return function(t){var a=new FormData;a.append("id",t),a.append("sessionid",e.sessionid),a.append("cat","deletes"),a.append("table","accessstudentscore"),e.deleteStudentscore(a,t),o("")}(e.sd_id)},size:"lg",type:"button",color:parseInt(e.sd_id)>0?"danger":"secondary"},c.a.createElement(d.a,{name:"cil-x"})):c.a.createElement(s.f,{disabled:!0,size:"lg",type:"button",color:parseInt(e.sd_id)>0?"danger":"secondary"},c.a.createElement(d.a,{name:"cil-x"}))))))))})),O=a(816),k=a.n(O),w=function(e){var t=Object(r.useState)(0),a=Object(n.a)(t,2),l=(a[0],a[1]);return Object(r.useEffect)((function(){l(e.value)}),[e.value]),c.a.createElement(c.a.Fragment,null,c.a.createElement(k.a,{count:5,value:e.value,onChange:e.setvalues,size:30,isHalf:!0,emptyIcon:c.a.createElement("i",{className:"far fa-star"}),halfIcon:c.a.createElement("i",{className:"fa fa-star-half-alt"}),fullIcon:c.a.createElement("i",{className:"fa fa-star"}),activeColor:"#ffd700"}))},N=Object(l.b)((function(e){return{}}),{registerStudentscore:E.g,deleteStudentscore:E.b})((function(e){var t=Object(r.useState)(""),a=Object(n.a)(t,2),l=a[0],o=a[1],i=Object(r.useState)(""),u=Object(n.a)(i,2),d=(u[0],u[1],Object(r.useState)("")),m=Object(n.a)(d,2),f=(m[0],m[1],Object(r.useState)(e.sd_val)),p=Object(n.a)(f,2),b=p[0],E=p[1];Object(r.useEffect)((function(){o(5*parseFloat(e.sd_val)),E(e.sd_val)}),[]);var h=function(t){parseFloat(t)>0&&o(t),function(t){var a=new FormData,n=parseFloat(t)>0?parseFloat(t)/5:0;a.append("caid",e.caid),a.append("sessionid",e.sessionid),a.append("termid",e.termid),a.append("studentid",e.studentid),a.append("subjectid",e.subjectid),a.append("score",n.toString()),a.append("staffid",e.staffid),a.append("grp",8),a.append("cat","insertscore"),a.append("table","accessstudentscore"),e.registerStudentscore(a)}(t)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("td",{valign:"middle",width:"500px"},c.a.createElement(s.K,{row:!0},c.a.createElement(s.u,{md:"12"},"SAVED"," : "," ",5*b," - ",l,(parseFloat(l),parseFloat(5*b),c.a.createElement(w,{value:parseFloat(l),setvalues:function(e){return h(e)}}))))))})),x=Object(l.b)((function(e){return{staffstudents:e.staffstudentReducer,studentscores:e.studentscoreReducer,cas:e.caReducer.cas,user:e.userReducer}}),{getStaffstudents:b.b,updateStaffstudent:b.d,registerStaffstudent:b.c,deleteStaffstudent:b.a,getStudentscores:E.e,updateStudentscore:E.h,registerStudentscore:E.g,deleteStudentscore:E.b,getStaffsubjects:i.c})((function(e){var t=e.staffstudents.staffstudents&&Array.isArray(e.staffstudents.staffstudents)?e.staffstudents.staffstudents.filter((function(e){return null!==e||void 0!==e})):[],a=e.studentscores.studentscores&&Array.isArray(e.studentscores.studentscores)?e.studentscores.studentscores.filter((function(e){return null!==e||void 0!==e})):[],l=t.map((function(e,t){return e.clientid})).join(","),o=e.clientid,i=e.termid,u=e.sessionid,m=e.subjectid,b=e.claszid,E=e.subject,h=Object(r.useState)({}),y=Object(n.a)(h,2),j=y[0],O=y[1],k=Object(r.useState)({}),w=Object(n.a)(k,2),x=w[0],C=w[1],I=Object(r.useState)({}),F=Object(n.a)(I,2),A=F[0],_=F[1],T=Object(r.useState)({}),z=Object(n.a)(T,2),P=z[0],R=z[1],L=Object(r.useState)({}),M=Object(n.a)(L,2),B=M[0],D=M[1],H=Object(r.useState)({}),U=Object(n.a)(H,2),W=U[0],J=U[1],K=Object(r.useState)(0),V=Object(n.a)(K,2),X=V[0],q=V[1];Object(r.useEffect)((function(){if(parseInt(m)>0){var t={data:JSON.stringify({termid:i,itemid:E.itemid1,sessionid:u,itemid1:o,contact:b,grp:3}),cat:"staffclass",table:"accessstudentsubject",narration:"get staff student subjects"};e.getStaffstudents(t)}}),[i,m,u,3,o]),Object(r.useEffect)((function(){var t={data:JSON.stringify({termid:i,sessionid:u,clientid:o,grp:2}),cat:"staffclass",table:"accessstaffsubjectnum",narration:"get staffsubjects"};e.getStaffsubjects(t)}),[]),Object(r.useEffect)((function(){var t={data:JSON.stringify({termid:i,sessionid:u,itemid:m,ids:l,grp:8}),cat:"studentscore",table:"accessstudentscore",narration:"get scores"};e.getStudentscores(t)}),[i,u,m,l,b]);var Y=function(e,t,a,n,r){var c=Object(p.a)({},A),l=t+"_"+a;parseFloat(e.target.value)<=parseFloat(r)?(c[l]=e.target.value,_(c)):(c[l]="",_(c))},G=function(t,a,n,r,c){!function(t,a,n){var r=new FormData;r.append("caid",a),r.append("sessionid",u),r.append("termid",i),r.append("studentid",t),r.append("subjectid",m),r.append("score",n),r.append("staffid",o),r.append("grp",8),r.append("cat","insertscore"),r.append("table","accessstudentscore"),e.registerStudentscore(r)}(a,n,t.target.value)},Q=t.filter((function(e){return null!==e&&void 0!==e})).map((function(t,n){return c.a.createElement("tr",{key:n},c.a.createElement("td",{className:"text-center",width:"60px"},c.a.createElement("div",{className:"c-avatar"},c.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api/"+t.photo,className:"c-avatar-img",style:{width:"50px",height:"50px"},height:"50px",width:"50px",alt:t.admission_no,onError:function(e){e.target.onerror=null,e.target.src="/ems/avatars/1.png"}}),c.a.createElement("span",{className:"c-avatar-status ".concat("Male"===t.gender?"bg-success":"bg-danger")}))),c.a.createElement("td",Object(f.a)({width:"340px",valign:"middle",className:"container"},"valign","middle"),c.a.createElement("div",{className:"strong my-auto py-auto"},c.a.createElement("strong",null,"".concat(t.clientname))),c.a.createElement("div",{className:"small text-muted"},"".concat(t.admission_no))),1===X?Object.keys(x).map((function(n,r){var l=a.filter((function(e){return void 0!==e&&null!==e&&parseInt(e.itemid1)===parseInt(x[n].id)&&parseInt(e.clientid)===parseInt(t.clientid)})),s=l&&Array.isArray(l)&&l.length?l[0]:null,o=null!==s?parseFloat(s.contact):"",d=null!==s?s.id:"",f=null!==s?"green":"black";return c.a.createElement(S,{key:r,sessionid:u,termid:i,caid:n,subjectid:m,staffid:e.user.mid,studentid:t.clientid,id:n,name:x[n].name,score:P[n],sd_val:o,sd_id:d,sd_color:f,setScoreValues:function(e,t,a,r){return Y(e,t,n,0,r)},saveScoreValues:function(e,t,a,r){return G(e,t,n)}})})):"",2===X?Object.keys(B).map((function(n,r){var l=a.filter((function(e){return void 0!==e&&null!==e&&parseInt(e.itemid1)===parseInt(B[n].id)&&parseInt(e.clientid)===parseInt(t.clientid)})),s=l&&Array.isArray(l)&&l.length?l[0]:null,o=null!==s?parseFloat(s.contact):"",d=null!==s?s.id:"",f=null!==s?"green":"black";return c.a.createElement(N,{key:r,sessionid:u,termid:i,caid:n,subjectid:m,staffid:e.user.mid,studentid:t.clientid,id:n,name:B[n].name,score:B[n].score,sd_val:o,sd_id:d,sd_color:f,setScoreValues:function(e,t,a,r){return Y(e,t,n,0,r)},saveScoreValues:function(e,t,a,r){return G(e,t,n)}})})):"",3===X?Object.keys(W).map((function(n,r){var l=a.filter((function(e){return void 0!==e&&null!==e&&parseInt(e.itemid1)===parseInt(W[n].id)&&parseInt(e.clientid)===parseInt(t.clientid)})),s=l&&Array.isArray(l)&&l.length?l[0]:null,o=null!==s?parseFloat(s.contact):"",d=null!==s?s.id:"",f=null!==s?"green":"black";return c.a.createElement(N,{key:r,sessionid:u,termid:i,caid:n,subjectid:m,staffid:e.user.mid,studentid:t.clientid,id:n,name:W[n].name,score:W[n].score,sd_val:o,sd_id:d,sd_color:f,setScoreValues:function(e,t,a,r){return Y(e,t,n,0,r)},saveScoreValues:function(e,t,a,r){return G(e,t,n)}})})):"",c.a.createElement("td",null,c.a.createElement("span",{className:"pull-right"},c.a.createElement("button",{onClick:function(){return a=t.id,void g()("Are you sure you want to delete you will not be able to restore the data.").then((function(t){if(1==t&&parseInt(a)>0){var n=new FormData;n.append("id",a),n.append("sessionid",u),n.append("table","accessstudentsubject"),n.append("cat","deletes"),e.deleteStaffstudent(n,a)}else g()("Not deleted")}));var a},className:"btn btn-sm btn-round btn-danger "},c.a.createElement(d.a,{size:"lg",name:"cil-x"})))))})),Z=t.filter((function(e){return null!==e&&void 0!==e})).length;return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.j,null,c.a.createElement(s.n,null,c.a.createElement(v,{len:Z,subject:E,studentdata:j,goBack:e.goBack,placeStudent:function(e){O(e)},loadStudent:function(){var t=new FormData;t.append("itemid",m),t.append("itemid1",o),t.append("contact",b),t.append("clientid",j.id),t.append("checker","3_"+i+"_"+j.id+"_"+m),t.append("table","accessstudentsubject"),t.append("sessionid",u),t.append("grp",3),t.append("termid",i),t.append("cat","inserts"),e.registerStaffstudent(t)},setStudentdata:function(e){return O(e)},getAllStudents:function(){return function(){var t=new FormData;t.append("claszid",b),t.append("termid",i),t.append("subjectid",m),t.append("sessionid",u),t.append("staffid",o),t.append("grp",3),t.append("table","accessstudentclass"),t.append("cat","insertsubject"),e.registerStaffstudent(t)}()},cas:e.cas,setShowca:function(e,t,a){var n=Object(p.a)({},x),r=Object(p.a)({},P);if(Object.keys(n).includes(e))delete n[e],delete r[e],C(n),R(r),q(1);else{var c={};c.id=e,c.name=t,c.score=a,n[e]=c,r[e]=a,C(n),R(r),q(1)}J({}),D({})},setShowbh:function(e,t,a){var n=Object(p.a)({},B);if(Object.keys(n).includes(e))delete n[e],D(n),q(2);else{var r={};r.id=e,r.name=t,r.score=a,n[e]=r,D(n),q(2)}C({}),J({})},setShowsk:function(e,t,a){var n=Object(p.a)({},W);if(Object.keys(n).includes(e))delete n[e],J(n),q(3);else{var r={};r.id=e,r.name=t,r.score=a,n[e]=r,J(n),q(3)}C({}),D({})}})),c.a.createElement(s.k,{className:"table-responsive"},c.a.createElement("table",{className:"table table-bordered mb-0  d-sm-table"},c.a.createElement("thead",{className:"thead-light"},c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},c.a.createElement(d.a,{name:"cil-people"})),c.a.createElement("th",null,"Students"),1===X?Object.keys(x).map((function(e,t){return c.a.createElement("th",{key:t},x[e].name,c.a.createElement(s.S,{style:{width:"150px",textAlign:"center",fontWeight:"bolder"},defaultValue:P[e],onChange:function(t){return function(e,t,a,n){var r=Object(p.a)({},P);parseFloat(e.target.value)>0?(r[t]=e.target.value,R(r)):(r[t]="",R(r))}(t,e,x[e].name,P[e])}}))})):"",2===X?Object.keys(B).map((function(e,t){return c.a.createElement("th",{key:t,style:{minWidth:"200px"}},B[e].name)})):"",3===X?Object.keys(W).map((function(e,t){return c.a.createElement("th",{key:t,style:{minWidth:"200px"}},W[e].name)})):"",c.a.createElement("th",null,"Remove"))),c.a.createElement("tbody",null,Q)))))})),C=a(700),I=a.n(C),F=a(85),A=j.c,_=a(715),T=a(785),z=a(24),P=a(761),R=a.n(P),L={1:"First term",2:"Second term",3:"Third term",4:"Alternative/Obsolete"},M=Object(l.b)((function(e){return{user:e.userReducer,theme:e.themeReducer,stafflessonplan:e.stafflessonplanReducer,week:e.weekReducer}}),{registerStafflessonplan:function(e){return function(t){I.a.post(A,e,j.m).then((function(e){t({type:F.k,payload:e.data.data})})).catch((function(e){t({type:F.j,payload:e})}))}},updateStafflessonplan:function(e){return function(t,a){I.a.post(A,e,j.m).then((function(e){t({type:F.m,payload:e.data.data})})).catch((function(e){t({type:F.l,payload:e})}))}},getThemes:_.c,getWeeks:T.c,getStafflessonplans:function(e){return function(t,a){e.token=j.e,t({type:F.h}),I.a.get(A,{params:e},j.l).then((function(e){t({type:F.f,payload:e.data})})).catch((function(e){t({type:F.i,payload:e})}))}}})((function(e){Object(z.g)();var t=e.subjectid,a=e.claszid,l=e.termid,o=e.staffid,i=(e.sessionid,e.subject,Object(r.useState)(null)),u=Object(n.a)(i,2),m=u[0],f=u[1],p=Object(r.useState)(""),b=Object(n.a)(p,2),E=b[0],h=b[1],y=Object(r.useState)(""),g=Object(n.a)(y,2),v=g[0],j=g[1],S=Object(r.useState)({}),O=Object(n.a)(S,2),k=O[0],w=O[1],N=Object(r.useState)(""),x=Object(n.a)(N,2),C=x[0],I=x[1],F=Object(r.useState)(""),A=Object(n.a)(F,2),_=A[0],T=A[1],P=Object(r.useState)(""),M=Object(n.a)(P,2),B=M[0],D=M[1],H=Object(r.useState)(""),U=Object(n.a)(H,2),W=U[0],J=U[1],K=Object(r.useState)(""),V=Object(n.a)(K,2),X=V[0],q=V[1],Y=Object(r.useState)(""),G=Object(n.a)(Y,2),Q=G[0],Z=G[1],$=Object(r.useState)(""),ee=Object(n.a)($,2),te=ee[0],ae=ee[1],ne=Object(r.useState)(""),re=Object(n.a)(ne,2),ce=re[0],le=re[1],se=Object(r.useState)(""),oe=Object(n.a)(se,2),ie=oe[0],ue=oe[1],de=Object(r.useState)(""),me=Object(n.a)(de,2),fe=me[0],pe=me[1],be=Object(r.useState)(""),Ee=Object(n.a)(be,2),he=Ee[0],ye=Ee[1],ge=Object(r.useState)(""),ve=Object(n.a)(ge,2),je=ve[0],Se=ve[1],Oe=Object(r.useState)(""),ke=Object(n.a)(Oe,2),we=ke[0],Ne=ke[1];Object(r.useEffect)((function(){var a={data:JSON.stringify({subjectid:t}),cat:"selected",table:"themes",narration:"get themes"};e.getThemes(a)}),[t]),Object(r.useEffect)((function(){var t={data:JSON.stringify({termid:l}),cat:"selected",table:"weeks",narration:"get Weeks"};e.getWeeks(t)}),[l]),Object(r.useEffect)((function(){var a={data:JSON.stringify({staffid:o,subjectid:t,termid:l,weekid:C}),cat:"selected",table:"stafflessonplan",narration:"get all staff lessonplan ".concat(o)};e.getStafflessonplans(a)}),[o,t,a,l]),Object(r.useEffect)((function(){if(parseInt(e.rowid)>0){var t=e.data;f(t.id),h(t.schemeid),I(t.weekid),T(t.contact),D(t.period),J(t.topic),q(t.subtopic),Z(t.method),ae(t.population),le(t.content),pe(t.objective),ye(t.assessment),Se(t.note),Ne(t.reference)}}),[e.rowid,e.data]);var xe=Array.isArray(e.theme.themes)?e.theme.themes.filter((function(e){return null!==e&void 0!==e})).map((function(e,t){return c.a.createElement("option",{value:e.id},"".concat(L[e.termid]," ").concat(e.claszabbrv," ").concat(e.name))})):[],Ce=[],Ie=Array.isArray(e.week.weeks)?e.week.weeks.filter((function(e){return null!==e&void 0!==e})).map((function(e,t){return c.a.createElement("option",{value:e.id},e.name)})):[],Fe=k||"",Ae=Fe.name,_e=Fe.content,Te=Fe.objective,ze=Fe.material;Fe.claszname,Fe.subjectname;return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.wb,{className:"align-center mx-auto d-flex ",sm:12},c.a.createElement(s.u,{sm:"6",md:"6",className:"mx-auto"},c.a.createElement(s.j,null,c.a.createElement(s.n,null,c.a.createElement(s.wb,null,c.a.createElement(s.u,null,c.a.createElement("h4",null,parseInt(m)>0?"Edit":"Add"," Lesson Plan")),c.a.createElement(s.u,{xs:2},c.a.createElement("button",{onClick:function(){return e.goBack()},className:"btn btn-info"},c.a.createElement("i",{className:"fa fa-backward"}))))),c.a.createElement(s.k,null,c.a.createElement(s.wb,null,c.a.createElement(s.u,{xs:"12"},c.a.createElement(s.K,null,c.a.createElement(s.cb,{htmlFor:"schemeid"},"Scheme of Work",c.a.createElement("i",{className:"text-danger"},"*")),c.a.createElement(s.xb,{custom:!0,id:"schemeid",defaultValue:E,onChange:function(t){h(t.target.value);var a=Array.isArray(e.theme.themes)?e.theme.themes.filter((function(e){return e.id==t.target.value})):{name:"-.-"},n=Array.isArray(a)&&a.length>0?L[a[0].termid]+" "+a[0].claszabbrv+" "+a[0].name:"-";j(n),w(a[0])}},c.a.createElement("option",null,"Select"),xe))),c.a.createElement(s.u,{xs:"12"},c.a.createElement("strong",{style:{textTransform:"uppercase"}},v)),c.a.createElement(s.u,{xs:"12"},c.a.createElement(s.K,null,c.a.createElement(s.cb,{htmlFor:"subtopic"},"Subtopic"),c.a.createElement(s.S,{id:"subtopic",name:"text",defaultValue:X,placeholder:"Mathematics Education ",onChange:function(e){return q(e.target.value)}}))),c.a.createElement(s.u,{xs:"12"},c.a.createElement(s.K,null,c.a.createElement(s.cb,{htmlFor:"weekid"},c.a.createElement("strong",null,"Week ",c.a.createElement("i",{className:"text-danger"},"*"))),c.a.createElement(s.xb,{custom:!0,id:"weekid",defaultValue:C,onChange:function(e){I(e.target.value)}},c.a.createElement("option",null,"Select"),Ie))),c.a.createElement(s.u,{xs:"12",sm:"6"},c.a.createElement(s.K,null,c.a.createElement(s.cb,{htmlFor:"contact"},c.a.createElement("strong",null,"Contact/Period",c.a.createElement("i",{className:"text-danger"},"*"))),c.a.createElement(s.xb,{custom:!0,id:"contact",defaultValue:_,onChange:function(e){T(e.target.value)}},c.a.createElement("option",null,"Select"),Ce))),c.a.createElement(s.u,{xs:"12",sm:"6"},c.a.createElement(s.K,null,c.a.createElement(s.cb,{htmlFor:"period"},c.a.createElement("strong",null,"Time(minutes)",c.a.createElement("i",{className:"text-danger"},"*"))),c.a.createElement(s.xb,{custom:!0,id:"period",defaultValue:B,onChange:function(e){D(e.target.value)}},c.a.createElement("option",null,"Select"),Ce))),c.a.createElement(s.u,{xs:"12"},c.a.createElement(s.cb,{htmlFor:"content"},c.a.createElement("strong",null,"Presentation/Steps",c.a.createElement("i",{className:"text-danger"},"*"))),c.a.createElement(R.a,{data:ce,type:"classic",config:{toolbar:[["Cut","Copy","Paste","PasteText","PasteFromWord","Undo","Redo","NumberedList","BulletedList","Bold","Italic","Underline","Strike","Subscript","Superscript","CopyFormatting","RemoveFormat"]]},onChange:function(e){return le(e.editor.getData())}})),c.a.createElement(s.u,{xs:"12"},c.a.createElement(s.cb,{htmlFor:"objective"},c.a.createElement("strong",null,"Specific Objectives",c.a.createElement("i",{className:"text-danger"},"*"))),c.a.createElement(R.a,{data:fe,onChange:function(e){return pe(e.editor.getData())},type:"classic",config:{toolbar:[["Cut","Copy","Paste","PasteText","PasteFromWord","Undo","Redo","NumberedList","BulletedList","Bold","Italic","Underline","Strike","Subscript","Superscript","CopyFormatting","RemoveFormat"]]}})),c.a.createElement(s.u,{xs:"12"},c.a.createElement(s.cb,{htmlFor:"material"},c.a.createElement("strong",null,"Lesson materials",c.a.createElement("i",{className:"text-danger"},"*"))),c.a.createElement(R.a,{data:ie,onChange:function(e){return ue(e.editor.getData())},type:"classic",config:{toolbar:[["Cut","Copy","Paste","PasteText","PasteFromWord","Undo","Redo","NumberedList","BulletedList","Bold","Italic","Underline","Strike","Subscript","Superscript","CopyFormatting","RemoveFormat"]]}})),c.a.createElement(s.u,{xs:"12"},c.a.createElement(s.cb,{htmlFor:"assessment"},c.a.createElement("strong",null,"Lesson assessments",c.a.createElement("i",{className:"text-danger"},"*"))),c.a.createElement(R.a,{data:he,onChange:function(e){return ye(e.editor.getData())},type:"classic",config:{toolbar:[["Cut","Copy","Paste","PasteText","PasteFromWord","Undo","Redo","NumberedList","BulletedList","Bold","Italic","Underline","Strike","Subscript","Superscript","CopyFormatting","RemoveFormat"]]}})),c.a.createElement(s.u,{xs:"12"},c.a.createElement(s.cb,{htmlFor:"reference"},c.a.createElement("strong",null,"Reference Materials",c.a.createElement("i",{className:"text-danger"},"*"))),c.a.createElement(R.a,{data:we,onChange:function(e){return Ne(e.editor.getData())},type:"classic",config:{toolbar:[["Cut","Copy","Paste","PasteText","PasteFromWord","Undo","Redo","NumberedList","BulletedList","Bold","Italic","Underline","Strike","Subscript","Superscript","CopyFormatting","RemoveFormat"]]}})),c.a.createElement(s.u,{xs:"12"},c.a.createElement(s.cb,{htmlFor:"note"},c.a.createElement("strong",null,"Lesson notes",c.a.createElement("i",{className:"text-danger"},"(Optional)"))),c.a.createElement(R.a,{data:je,onChange:function(e){return Se(e.editor.getData())}})))),c.a.createElement(s.l,null,c.a.createElement(s.f,{block:!0,type:"button",size:"sm",color:"primary",onClick:function(){var n=new FormData;n.append("schemeid",E),n.append("weekid",C),n.append("contact",_),n.append("period",B),n.append("topic",W),n.append("subtopic",X),n.append("subtopic",X),n.append("method",Q),n.append("population",te),n.append("content",ce),n.append("objective",fe),n.append("assessment",he),n.append("note",je),n.append("reference",we),n.append("table","stafflessonplans"),m&&parseInt(m)>0?(n.append("id",m),n.append("cat","update"),n.append("narration","Updating staff lesson plan"),e.updateStafflessonplan(n)):(n.append("cat","insert"),n.append("narration","inserting new lesson plan"),n.append("staffid",o),n.append("termid",l),n.append("claszid",a),n.append("subjectid",t),e.registerStafflessonplan(n))}},c.a.createElement(d.a,{name:"cil-scrubber"})," Submit"),c.a.createElement(s.f,{block:!0,type:"button",size:"sm",color:"danger",onClick:function(){return e.handleClose()}},c.a.createElement(d.a,{name:"cil-ban"})," Close")))),c.a.createElement(s.u,{sm:"6",md:"6",className:"mx-auto"},c.a.createElement(s.j,null,c.a.createElement(s.n,null,c.a.createElement(s.wb,null,c.a.createElement(s.u,null,c.a.createElement("h4",null,"Lesson Plan: Preveiw")),c.a.createElement(s.u,{xs:2},c.a.createElement("button",{onClick:function(){return e.goBack()},className:"btn btn-info"},c.a.createElement("i",{className:"fa fa-backward"}))))),c.a.createElement(s.k,null,c.a.createElement(s.wb,null,c.a.createElement("table",{width:"100%"},c.a.createElement("tr",null,c.a.createElement("td",{width:"20%",className:"strong"},c.a.createElement("strong",null,"Week")),c.a.createElement("td",null,C)),c.a.createElement("tr",null,c.a.createElement("td",{width:"20%",className:"strong"},c.a.createElement("strong",null,"Class")),c.a.createElement("td",null,C)),c.a.createElement("tr",null,c.a.createElement("td",{width:"20%",className:"strong"},c.a.createElement("strong",null,"Subject")),c.a.createElement("td",null,C)),c.a.createElement("tr",null,c.a.createElement("td",{width:"20%",className:"strong"},c.a.createElement("strong",null,"Theme")),c.a.createElement("td",null,Ae)),c.a.createElement("tr",null,c.a.createElement("td",{width:"20%",className:"strong"},c.a.createElement("strong",null,"Topic")),c.a.createElement("td",null,X)),c.a.createElement("tr",null,c.a.createElement("td",{width:"20%",className:"strong"},c.a.createElement("strong",null,"Instructional Materials")),c.a.createElement("td",null,c.a.createElement("div",{style:{whiteSpace:"pre-wraps"},dangerouslySetInnerHTML:{__html:ze}}))),c.a.createElement("tr",null,c.a.createElement("td",{width:"20%",className:"strong"},c.a.createElement("strong",null,"General Objectives")),c.a.createElement("td",null,c.a.createElement("div",{style:{whiteSpace:"pre-wraps"},dangerouslySetInnerHTML:{__html:Te}}))),c.a.createElement("tr",null,c.a.createElement("td",{width:"20%",className:"strong"},c.a.createElement("strong",null,"Specific Objectives")),c.a.createElement("td",null,"At the end of the lesson students should be able to",c.a.createElement("div",{style:{whiteSpace:"pre-wraps"},dangerouslySetInnerHTML:{__html:fe}}))),c.a.createElement("tr",null,c.a.createElement("td",{width:"20%",className:"strong"},c.a.createElement("strong",null,"Teaching Methodology")),c.a.createElement("td",null,c.a.createElement("div",{style:{whiteSpace:"pre-wraps"},dangerouslySetInnerHTML:{__html:Q}}))),c.a.createElement("tr",null,c.a.createElement("td",{width:"20%",className:"strong"},c.a.createElement("strong",null,"Lesson Content")),c.a.createElement("td",null,c.a.createElement("div",{style:{whiteSpace:"pre-wraps"},dangerouslySetInnerHTML:{__html:_e}}))),c.a.createElement("tr",null,c.a.createElement("td",{width:"20%",className:"strong"},c.a.createElement("strong",null,"Presentation")),c.a.createElement("td",null,"The Teacher presented the lesson as follows",c.a.createElement("div",{style:{whiteSpace:"pre-wraps"},dangerouslySetInnerHTML:{__html:ce}}))),c.a.createElement("tr",null,c.a.createElement("td",{width:"20%",className:"strong"},c.a.createElement("strong",null,"Evaluation / Assessment")),c.a.createElement("td",null,c.a.createElement("div",{style:{whiteSpace:"pre-wraps"},dangerouslySetInnerHTML:{__html:he}}))),c.a.createElement("tr",null,c.a.createElement("td",{width:"20%",className:"strong"},c.a.createElement("strong",null,"Summary / Conclusion")),c.a.createElement("td",null,c.a.createElement("div",{style:{whiteSpace:"pre-wraps"},dangerouslySetInnerHTML:{__html:he}}))))))))))})),B=(a(823),Object(l.b)((function(e){return{staffstudents:e.staffstudentReducer}}),{getStaffstudents:b.b,updateStaffstudent:b.d,registerStaffstudent:b.c,deleteStaffstudent:b.a})((function(e){Object(z.g)();var t=e.staffstudents.staffstudents&&Array.isArray(e.staffstudents.staffstudents)?e.staffstudents.staffstudents.filter((function(e){return null!==e||void 0!==e})):[],a=e.clientid,n=e.termid,l=e.sessionid,o=e.subjectid,i=e.subject;Object(r.useEffect)((function(){if(parseInt(o)>0){var t={data:JSON.stringify({termid:n,itemid:o,sessionid:l,itemid1:a,grp:3}),cat:"staffclass",table:"accessstudentsubject",narration:"get staff student subjects"};e.getStaffstudents(t)}}),[n,o,l,3,a]);var u=t.filter((function(e){return null!==e&&void 0!==e})).map((function(t,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",{className:"text-center",width:"60px"},c.a.createElement("span",null,t.admission_no)),c.a.createElement("td",{width:"340px",valign:"middle",className:"container"},"".concat(t.admission_no)),c.a.createElement("td",null,c.a.createElement("span",{className:"pull-right"},c.a.createElement("button",{onClick:function(){return a=t.id,void g()("Are you sure you want to delete you will not be able to restore the data.").then((function(t){if(1==t&&parseInt(a)>0){var n=new FormData;n.append("id",a),n.append("sessionid",l),n.append("table","accessstudentsubject"),n.append("cat","deletes"),e.deleteStaffstudent(n,a)}else g()("Not deleted")}));var a},className:"btn btn-sm btn-round btn-danger "},c.a.createElement(d.a,{size:"lg",name:"cil-x"})))))}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.j,null,c.a.createElement(s.n,null,c.a.createElement(s.w,null,c.a.createElement(s.wb,null,c.a.createElement(s.u,null,c.a.createElement("h4",null,i.itemname1," ",i.itemname)),c.a.createElement(s.u,{xs:2},c.a.createElement("button",{onClick:function(){return e.goBack()},className:"btn btn-info"},c.a.createElement("i",{className:"fa fa-backward"})))))),c.a.createElement(s.k,{className:"table-responsive"},c.a.createElement("table",{className:"table table-bordered mb-0  d-sm-table"},c.a.createElement("thead",{className:"thead-light"},c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},c.a.createElement(d.a,{name:"cil-people"})),c.a.createElement("th",null,"Students"),c.a.createElement("th",null,"Remove"))),c.a.createElement("tbody",null,u)))))}))),D=a(848);t.default=Object(l.b)((function(e){return{staffsubject:e.staffsubjectReducer,user:e.userReducer}}),{getStaffsubjects:i.c,getCas:u.c})((function(e){var t=Object(r.useState)([]),a=Object(n.a)(t,2),l=a[0],i=a[1],u=Object(r.useState)(0),f=Object(n.a)(u,2),p=f[0],b=f[1],E=Object(r.useState)(!0),h=Object(n.a)(E,2),y=h[0],g=h[1];Object(r.useEffect)((function(){if(void 0!==e.user.activeterm){var t={data:JSON.stringify({termid:e.user.activeterm.termid,sessionid:e.user.activeterm.sessionid,clientid:e.user.user.id,grp:2}),cat:"staffclass",table:"accessstaffsubjectnum",narration:"get staffsubjects"};e.getStaffsubjects(t);var a={data:JSON.stringify({termid:e.user.activeterm.termid,schoolid:e.user.activeterm.sessionid}),cat:"dropdownca",table:"dropdownca",narration:"get ca"};e.getCas(a)}}),[]);var v=function(){b(0),g(!0)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.wb,null,c.a.createElement(o.a,null)),c.a.createElement(s.v,{show:y},c.a.createElement(s.wb,null,Array.isArray(e.staffsubject.staffsubjects)?e.staffsubject.staffsubjects.filter((function(e){return null!==e&void 0!==e})).map((function(e,t){var a=(null!==e.num&&void 0!==e.num?e.num.split(","):[]).filter((function(e){return null!==e||""==e})).filter((function(t){return parseInt(t.split(":")[1])==parseInt(e.itemid1)&&parseInt(t.split(":")[3])==parseInt(e.itemid)})).length,n=0===parseInt(e.is_active)?"gradient-info":"gradient-danger",r=0===parseInt(e.is_active)?"cil-settings":"fa fa-lock",l=0===parseInt(e.is_active)?"":"disabled";return c.a.createElement(s.u,{sm:"6",lg:"4",key:t},c.a.createElement(s.Ub,{color:n,header:a+" Students",text:"".concat(e.itemname1," ").concat(e.itemname," "),footerSlot:c.a.createElement(m.a,{className:"mt-3",style:{height:"70px"},backgroundColor:"rgba(255,255,255,.2)",dataPoints:[78,81,80,45,34,12,40],options:{elements:{line:{borderWidth:2.5}}},pointHoverBackgroundColor:"warning",label:"Members",labels:"months"})},c.a.createElement(s.z,null,c.a.createElement(s.E,{color:"transparent"},c.a.createElement(d.a,{name:r})),c.a.createElement(s.D,{className:"pt-0",placement:"bottom-end"},c.a.createElement(s.C,{disabled:l,onClick:function(){return i(e),b(1),void g(!1)}},"Students"),c.a.createElement(s.C,{onClick:function(){return i(e),b(2),void g(!1)}},"Records"),c.a.createElement(s.C,{onClick:function(){return i(e),b(3),void g(!1)}},"Scheme of Work"),c.a.createElement(s.C,{onClick:function(){return i(e),b(4),void g(!1)}},"Lesson Plan"),c.a.createElement(s.C,{onClick:function(){return i(e),b(5),void g(!1)}},"Result Analysis")))))})):"")),1==p?c.a.createElement(x,{termid:e.user.activeterm.termid,sessionid:e.user.activeterm.sessionid,clientid:l.clientid,subjectid:l.itemid1,claszid:l.itemid,subject:l,goBack:v}):"",3==p?c.a.createElement(D.a,{pid:l.itemid1,para:{icon:"/ems/icons/subject.png"},title:e.user.activeterm,school:e.user.activeschool,termid:e.user.activeterm.termid,sessionid:e.user.activeterm.sessionid,clientid:e.user.user.id,subject:l,goBack:v}):"",4==p?c.a.createElement(c.a.Fragment,null,c.a.createElement(M,{subjectid:l.itemid1,subject:l,claszid:l.itemid,termid:e.user.activeterm.termid,sessionid:e.user.activeterm.sessionid,staffid:e.user.user.id,goBack:v}),c.a.createElement(B,{subjectid:l.itemid1,subject:l,claszid:l.itemid,termid:e.user.activeterm.termid,sessionid:e.user.activeterm.sessionid,staffid:e.user.user.id,goBack:v})):"")}))},704:function(e,t,a){"use strict";var n=a(3),r=a.n(n),c=a(697),l=a(24);t.a=function(e){var t=Object(l.g)();return r.a.createElement(c.n,null,r.a.createElement(c.wb,null,r.a.createElement(c.u,{xs:2,sm:"1"},r.a.createElement("img",{src:"/ems"+e.icon,height:"40px"})),r.a.createElement(c.u,{xs:6,sm:"7"},r.a.createElement("h4",{id:"traffic",className:"card-title mb-0"},e.title),r.a.createElement("div",{className:"small text-muted"},void 0!=e.school&&e.school.hasOwnProperty("name")&&e.school.name?e.school.name:r.a.createElement("i",null,"No school active"))),r.a.createElement(c.u,{xs:4,sm:"4",className:"d-md-block"},r.a.createElement(c.g,{className:"float-right"},r.a.createElement(c.Rb,{content:"Click to go back"},r.a.createElement(c.f,{color:"secondary",onClick:function(){return t.goBack()}},r.a.createElement("i",{className:"fa fa-backward"}))),r.a.createElement(c.Rb,{content:"Add new record"},r.a.createElement(c.f,{disabled:!1===e.editer,"data-target":"#formz","data-toggle":"collapse",color:"primary",onClick:function(){return e.toggle()},className:"float-right"},r.a.createElement("i",{className:"fa fa-plus"})))))))}},705:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"g",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return f})),a.d(t,"f",(function(){return p})),a.d(t,"h",(function(){return b}));var n=a(700),r=a.n(n),c=a(33),l=a(6),s=l.c,o=function(e){return function(t,a){e.token=l.e,e.table="staffs",t({type:c.k}),r.a.get(s,{params:e},l.l).then((function(e){t({type:c.h,payload:e.data})})).catch((function(e){t({type:c.l,payload:e})}))}},i=function(e){return function(t,a){e.token=l.e,t({type:c.k}),r.a.get(s,{params:e},l.l).then((function(e){t({type:c.f,payload:e.data})})).catch((function(e){t({type:c.l,payload:e})}))}},u=function(e){return function(t,a){t({type:c.k}),r.a.get(s,{params:e},l.l).then((function(e){t({type:c.j,payload:e.data})})).catch((function(e){t({type:c.l,payload:e})}))}},d=function(e){return function(t,a){t({type:c.k}),r.a.get(s,{params:e},l.l).then((function(e){t({type:c.g,payload:e.data})})).catch((function(e){t({type:c.l,payload:e})}))}},m=function(e){return function(t,a){t({type:c.i,payload:e})}},f=function(e){return function(t,a){r.a.POST(s,{params:e},l.l).then((function(a){t({type:c.d,payload:e.id})})).catch((function(e){t({type:c.c,payload:e})}))}},p=function(e){return function(t){r.a.post(s,e,l.m).then((function(e){t({type:c.n,payload:e.data.data})})).catch((function(e){t({type:c.m,payload:e})}))}},b=function(e){return function(t,a){r.a.post(s,e,l.m).then((function(e){t({type:c.p,payload:e.data.data})})).catch((function(e){t({type:c.o,payload:e})}))}}},707:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return m}));var n=a(700),r=a.n(n),c=a(47),l=a(6),s=l.b,o=function(e){return function(t,a){e.token=l.e,e.table="claszs",t({type:c.h}),r.a.get(s,{params:e},l.l).then((function(e){t({type:c.f,payload:e.data})})).catch((function(e){t({type:c.i,payload:e})}))}},i=function(e){return function(t,a){t({type:c.g,payload:e})}},u=function(e){return function(t,a){r.a.POST(s,{params:e},l.l).then((function(a){t({type:c.d,payload:e.id})})).catch((function(e){t({type:c.c,payload:e})}))}},d=function(e){return function(t){r.a.post(s,e,l.m).then((function(e){t({type:c.k,payload:e.data.data})})).catch((function(e){t({type:c.j,payload:e})}))}},m=function(e){return function(t,a){r.a.post(s,e,l.m).then((function(e){t({type:c.m,payload:e.data.data})})).catch((function(e){t({type:c.l,payload:e})}))}}},708:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return i})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"d",(function(){return m})),a.d(t,"f",(function(){return f}));var n=a(700),r=a.n(n),c=a(37),l=a(6),s=l.b,o=function(e){return function(t,a){e.token=l.e,e.table="students",t({type:c.j}),r.a.get(s,{params:e},l.l).then((function(e){t({type:c.g,payload:e.data})})).catch((function(e){t({type:c.k,payload:e})}))}},i=function(e){return function(t,a){t({type:c.j}),r.a.get(s,{params:e},l.l).then((function(e){t({type:c.i,payload:e.data})})).catch((function(e){t({type:c.k,payload:e})}))}},u=function(e){return function(t,a){t({type:c.h,payload:e})}},d=function(e){return function(t,a){r.a.POST(s,{params:e},l.l).then((function(a){t({type:c.d,payload:e.id})})).catch((function(e){t({type:c.c,payload:e})}))}},m=function(e){return function(t){r.a.post(s,e,l.m).then((function(e){t({type:c.m,payload:e.data.data})})).catch((function(e){t({type:c.l,payload:e})}))}},f=function(e){return function(t,a){r.a.post(s,e,l.m).then((function(e){t({type:c.o,payload:e.data.data})})).catch((function(e){t({type:c.n,payload:e})}))}}},714:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return m}));var n=a(700),r=a.n(n),c=a(48),l=a(6),s=l.b,o=function(e){return function(t,a){e.token=l.e,t({type:c.h}),r.a.get(s,{params:e},l.l).then((function(e){t({type:c.f,payload:e.data})})).catch((function(e){t({type:c.i,payload:e})}))}},i=function(e){return function(t,a){t({type:c.g,payload:e})}},u=function(e){return function(t,a){r.a.POST(s,{params:e},l.l).then((function(a){t({type:c.d,payload:e.id})})).catch((function(e){t({type:c.c,payload:e})}))}},d=function(e){return function(t){r.a.post(s,e,l.m).then((function(e){t({type:c.k,payload:e.data.data})})).catch((function(e){t({type:c.j,payload:e})}))}},m=function(e){return function(t,a){r.a.post(s,e,l.m).then((function(e){t({type:c.m,payload:e.data.data})})).catch((function(e){t({type:c.l,payload:e})}))}}},715:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return m})),a.d(t,"e",(function(){return f})),a.d(t,"f",(function(){return p}));var n=a(700),r=a.n(n),c=a(38),l=a(6),s="themes",o=l.b,i=function(e){return function(t,a){e.token=l.e,e.table=s,t({type:c.j}),r.a.get(o,{params:e},l.l).then((function(e){t({type:c.g,payload:e.data})})).catch((function(e){t({type:c.k,payload:e})}))}},u=function(e){return function(t,a){e.token=l.e,e.table="themesummary",t({type:c.j}),r.a.get(o,{params:e},l.l).then((function(e){t({type:c.i,payload:e.data})})).catch((function(e){t({type:c.k,payload:e})}))}},d=function(e){return function(t,a){t({type:c.h,payload:e})}},m=function(e){return function(t,a){r.a.POST(o,{params:e},l.l).then((function(a){t({type:c.d,payload:e.id})})).catch((function(e){t({type:c.c,payload:e})}))}},f=function(e){return function(t){r.a.post(o,e,l.m).then((function(e){t({type:c.m,payload:e.data.data})})).catch((function(e){t({type:c.l,payload:e})}))}},p=function(e){return function(t,a){r.a.post(o,e,l.m).then((function(e){t({type:c.o,payload:e.data.data})})).catch((function(e){t({type:c.n,payload:e})}))}}},724:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"g",(function(){return m})),a.d(t,"f",(function(){return f})),a.d(t,"a",(function(){return p})),a.d(t,"h",(function(){return b}));var n=a(700),r=a.n(n),c=a(25),l=a(6),s=l.b,o=function(e){return function(t,a){e.token=l.e,t({type:c.l}),r.a.get(s,{params:e},l.l).then((function(e){t({type:c.g,payload:e.data})})).catch((function(e){t({type:c.m,payload:e})}))}},i=function(e){return function(t,a){e.token=l.e,r.a.get(s,{params:e},l.l).then((function(e){t({type:c.h,payload:e.data})})).catch((function(e){t({type:c.m,payload:e})}))}},u=function(e){return function(t,a){e.token=l.e,t({type:c.l}),r.a.get(s,{params:e},l.l).then((function(e){t({type:c.k,payload:e.data})})).catch((function(e){t({type:c.m,payload:e})}))}},d=function(e,t){return function(a,n){r.a.post(s,e,l.m).then((function(e){a({type:c.e,payload:t})})).catch((function(e){a({type:c.d,payload:e})}))}},m=function(e){return function(t){r.a.post(s,e,l.m).then((function(e){t({type:c.q,payload:e.data.data})})).catch((function(e){t({type:c.p,payload:e})}))}},f=function(e){return function(t){r.a.post(s,e,l.m).then((function(e){t({type:c.n,payload:e.data.data})})).catch((function(e){t({type:c.o,payload:e})}))}},p=function(e){return function(t){r.a.post(s,e,l.m).then((function(e){t({type:c.c,payload:e.data})})).catch((function(e){t({type:c.o,payload:e})}))}},b=function(e){return function(t,a){r.a.post(s,e,l.m).then((function(e){t({type:c.v,payload:e.data.data})})).catch((function(e){t({type:c.u,payload:e})}))}}},725:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"e",(function(){return m})),a.d(t,"f",(function(){return f}));var n=a(700),r=a.n(n),c=a(43),l=a(6),s=l.c,o=function(e){return function(t,a){e.token=l.e,t({type:c.i}),r.a.get(s,{params:e},l.l).then((function(e){t({type:c.f,payload:e.data})})).catch((function(e){t({type:c.j,payload:e})}))}},i=function(e){return function(t,a){e.token=l.e,t({type:c.i}),r.a.get(s,{params:e},l.l).then((function(e){t({type:c.h,payload:e.data})})).catch((function(e){t({type:c.j,payload:e})}))}},u=function(e){return function(t,a){t({type:c.g,payload:e})}},d=function(e,t){return function(a,n){r.a.post(s,e,l.m).then((function(e){a({type:c.d,payload:t})})).catch((function(e){a({type:c.c,payload:e})}))}},m=function(e){return function(t){r.a.post(s,e,l.m).then((function(e){t({type:c.l,payload:e.data.data})})).catch((function(e){t({type:c.k,payload:e})}))}},f=function(e){return function(t,a){r.a.post(s,e,l.m).then((function(e){t({type:c.n,payload:e.data.data})})).catch((function(e){t({type:c.m,payload:e})}))}}},745:function(e,t,a){"use strict";var n=a(225),r=a(3),c=a.n(r),l=a(819),s=function e(t,a){for(var n=0,r=Object.keys(a);n<r.length;n++){var c=r[n];a[c]instanceof Object&&Object.assign(a[c],e(t[c],a[c]))}return Object.assign(t||{},a),t},o=a(712),i=function(e){var t=e.borderColor,a=e.backgroundColor,r=e.pointHoverBackgroundColor,i=e.dataPoints,u=e.label,d=e.pointed,m=Object(n.a)(e,["borderColor","backgroundColor","pointHoverBackgroundColor","dataPoints","label","pointed"]),f=r||("transparent"!==a?a:t),p=[{data:i,borderColor:Object(l.a)(t),backgroundColor:Object(l.a)(a),pointBackgroundColor:Object(l.a)(f),pointHoverBackgroundColor:Object(l.a)(f),label:u}],b={scales:{xAxes:[{offset:!0,gridLines:{color:"transparent",zeroLineColor:"transparent"},ticks:{fontSize:2,fontColor:"transparent"}}],yAxes:[{display:!1,ticks:{display:!1,min:Math.min.apply(Math,i)-5,max:Math.max.apply(Math,i)+5}}]},elements:{line:{borderWidth:1},point:{radius:4,hitRadius:10,hoverRadius:4}}},E={scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]},elements:{line:{borderWidth:2},point:{radius:0,hitRadius:10,hoverRadius:4}}},h=function(){var e=d?b:E;return Object.assign({},e,{maintainAspectRatio:!1,legend:{display:!1}})}(),y=s(p,m.datasets||{}),g=s(h,m.options||{});return c.a.createElement(o.c,Object.assign({},m,{type:"line",datasets:y,options:g,labels:u}))};i.defaultProps={borderColor:"rgba(255,255,255,.55)",backgroundColor:"transparent",dataPoints:[10,22,34,46,58,70,46,23,45,78,34,12],label:"Sales"};t.a=i},746:function(e,t,a){"use strict";var n=a(698),r=a(3),c=a.n(r),l=(a(217),a(697)),s=a(699),o=a(218),i=a(747),u=a(748);t.a=function(e){var t=Object(r.useState)({}),a=Object(n.a)(t,2),d=a[0],m=a[1],f=Object(r.useState)({}),p=Object(n.a)(f,2),b=p[0],E=p[1],h=Object(r.useState)(0),y=Object(n.a)(h,2),g=y[0],v=y[1],j=e.dropdowns&&Array.isArray(e.dropdowns)&&e.dropdowns.length>4?e.dropdowns:[[],[],[],[]],S="",O="",k="";j.length>0&&(S=j[0].map((function(e,t){return c.a.createElement("option",{key:t,value:e.termid},e.name)})),O=j[1].map((function(e,t){return c.a.createElement("option",{key:t,value:e.id},e.name)})),j[2].map((function(e,t){return c.a.createElement("option",{key:t,value:e.id},e.name)})),k=j[0].map((function(e,t){return c.a.createElement("option",{key:t,value:JSON.stringify(e)},e.name)})));var w=Array.isArray(e.schools)?e.schools.map((function(e,t){return c.a.createElement("option",{value:JSON.stringify(e)},e.name)})):c.a.createElement("option",null);return c.a.createElement(c.a.Fragment,null,c.a.createElement(l.wb,null,c.a.createElement(l.u,{lg:12},c.a.createElement(l.j,null,c.a.createElement(l.n,null,c.a.createElement("h4",null,"Quick Menu")),c.a.createElement(l.k,null,c.a.createElement(l.w,null,c.a.createElement(l.wb,null,c.a.createElement(l.u,null,c.a.createElement(l.wb,{className:"d-block"},c.a.createElement("strong",null,"Change")),c.a.createElement(l.wb,null,c.a.createElement(l.u,{xs:"12",sm:"12",md:"6"},c.a.createElement(l.J,null,c.a.createElement(l.K,{row:!0},c.a.createElement(l.V,null,c.a.createElement(l.X,null,c.a.createElement(l.Y,null,"Change School")),c.a.createElement(l.xb,{id:"input3-group2",name:"input3-group2",placeholder:"Search Staff",onChange:function(e){return m(e.target.value)}},w),c.a.createElement(l.W,null,c.a.createElement(l.f,{onClick:function(){e.changeSchool(JSON.parse(d))},type:"button",color:"secondary"},c.a.createElement("i",{className:"fa fa-thumbs-up"}))))))),c.a.createElement(l.u,{xs:"12",sm:"12",md:"6"},c.a.createElement(l.J,null,c.a.createElement(l.K,{row:!0},c.a.createElement(l.V,null,c.a.createElement(l.X,null,c.a.createElement(l.Y,null,"Change Term")),c.a.createElement(l.xb,{onChange:function(e){return E(e.target.value)},id:"input3-group2",name:"input3-group2",placeholder:"Search Staff"},k),c.a.createElement(l.W,null,c.a.createElement(l.f,{onClick:function(){e.changeTerm(JSON.parse(b))},type:"button",color:"secondary"},c.a.createElement("i",{className:"fa fa-thumbs-up"})))))))))),c.a.createElement(l.wb,null,c.a.createElement(l.u,null,c.a.createElement(l.wb,{className:"d-block"},c.a.createElement("strong",null,"Navigate")),c.a.createElement(l.J,{action:"",method:"post"},c.a.createElement(l.wb,{xs:12},c.a.createElement(l.u,{xs:"12",sm:"12",md:"12"},c.a.createElement(l.wb,null,c.a.createElement(l.u,{xs:"12",sm:"4",md:"5",lg:"5",className:"ml-0"},c.a.createElement(l.K,{row:!0},c.a.createElement(l.V,null,c.a.createElement(l.X,null,c.a.createElement(l.Y,null,"Select Term")),c.a.createElement(l.xb,{custom:!0,size:"md",name:"term",id:"term",onChange:function(e){return E(e.target.value)}},c.a.createElement("option",{value:"0"},"Select Term"),S)))),c.a.createElement(l.u,{xs:"12",sm:"4",md:"5",lg:"5",className:"ml-0"},c.a.createElement(l.K,{row:!0},c.a.createElement(l.V,null,c.a.createElement(l.X,null,c.a.createElement(l.Y,null,"Select Class")),c.a.createElement(l.xb,{custom:!0,size:"md",name:"clasz",id:"clasz",onChange:function(e){return v(e.target.value)}},c.a.createElement("option",{value:"0"},"Select Class"),O)))),c.a.createElement(l.u,{xs:"12",sm:"3",md:"2",lg:"2",className:"ml-0"},c.a.createElement(l.K,{className:""},c.a.createElement(o.b,{type:"submit",className:"btn btn-success btn-block btn-sm",size:"sm",color:"primary",to:"/studentclasses/".concat(b,"/").concat(g)},c.a.createElement(s.a,{name:"cil-scrubber"})," Load !"))))))))),c.a.createElement(l.wb,null,c.a.createElement(l.u,null,c.a.createElement(l.wb,{className:"d-block"},c.a.createElement("strong",null,"Search")),c.a.createElement(l.wb,{className:"pr-2",xs:12},c.a.createElement(l.u,{md:"6"},c.a.createElement(i.a,null)),c.a.createElement(l.u,{className:"pr-2",md:"6"},c.a.createElement(u.a,null)))))))))))}},747:function(e,t,a){"use strict";var n=a(698),r=a(3),c=a.n(r),l=a(217),s=a(705),o=a(697);t.a=Object(l.b)((function(e){return{result:e.staffReducer.result,user:e.userReducer}}),{searchStaff:s.g})((function(e){var t=Object(r.useState)(),a=Object(n.a)(t,2),l=a[0],s=a[1],i=Object(r.useState)([]),u=Object(n.a)(i,2),d=u[0],m=u[1];Object(r.useEffect)((function(){void 0!==e.result&&Array.isArray(e.result)?m(e.result):m([])}),[e.result]),Object(r.useEffect)((function(){if(void 0!==l&&l.length>2){var t={data:JSON.stringify({search:l,schoolid:e.user.activeschool.id}),cat:"selected",table:"staffsearch",narration:"get all schools for access control"};e.searchStaff(t)}else m([])}),[l,e.user.activeschool.id]);var f=d.map((function(e,t){return c.a.createElement(o.fb,{key:t,target:"_blank",className:"m-0",href:"#/staffs/".concat(e.id),active:!0},c.a.createElement(o.wb,null,c.a.createElement(o.u,{xs:"2",className:"m-0"},c.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api/"+e.photo,style:{height:"40px",width:"40px"},height:"30px",alt:"profile-image",class:"profile",onError:function(e){e.target.onerror=null,e.target.src="/ems/icons/profile_1.png"}})),c.a.createElement(o.u,null,c.a.createElement("strong",null,e.name),c.a.createElement("br",null),c.a.createElement("small",null,e.employment_no))))}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.wb,{xs:12},c.a.createElement(o.u,null,c.a.createElement(o.K,{row:!0},c.a.createElement(o.S,{size:"md",className:"w-100",value:l,onChange:function(e){return s(e.target.value)},placeholder:" Staff search..."})),c.a.createElement(o.j,{className:"mt-0",style:{display:"block",position:"absolute",zIndex:"101"}},c.a.createElement(o.eb,{style:{width:"300px"}},f)))))}))},748:function(e,t,a){"use strict";var n=a(698),r=a(3),c=a.n(r),l=a(217),s=a(708),o=a(697);t.a=Object(l.b)((function(e){return{result:e.studentReducer.result,user:e.userReducer}}),{searchStudent:s.e})((function(e){var t=Object(r.useState)(),a=Object(n.a)(t,2),l=a[0],s=a[1],i=Object(r.useState)([]),u=Object(n.a)(i,2),d=u[0],m=u[1];Object(r.useEffect)((function(){void 0!==e.result&&Array.isArray(e.result)?m(e.result):m([])}),[e.result]),Object(r.useEffect)((function(){if(void 0!==l&&l.length>2){var t={data:JSON.stringify({search:l,schoolid:e.user.activeschool.id}),cat:"selected",table:"studentsearch",narration:"get all schools for access control"};e.searchStudent(t)}else m([])}),[l,e.user.activeschool.id]);var f=d.map((function(e,t){return c.a.createElement(o.fb,{key:t,href:"/students/".concat(e.id),active:!0},c.a.createElement("strong",null,e.name),c.a.createElement("br",null),c.a.createElement("small",null,e.admission_no))}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.wb,{xs:12},c.a.createElement(o.u,null,c.a.createElement(o.K,{row:!0},c.a.createElement(o.S,{size:"md",className:"w-100",value:l,onChange:function(e){return s(e.target.value)},placeholder:" Student search..."})),c.a.createElement(o.j,{className:"mt-0",style:{display:"block",position:"absolute",zIndex:"101"}},c.a.createElement(o.eb,{style:{width:"300px"}},f)))))}))},752:function(e,t,a){"use strict";var n=function(){for(var e={},t=document.styleSheets,a="",n=t.length-1;n>-1;n--){for(var r=t[n].cssRules,c=r.length-1;c>-1;c--)if(".ie-custom-properties"===r[c].selectorText){a=r[c].cssText;break}if(a)break}return(a=a.substring(a.lastIndexOf("{")+1,a.lastIndexOf("}"))).split(";").forEach((function(t){if(t){var a=t.split(": ")[0],n=t.split(": ")[1];a&&n&&(e["--".concat(a.trim())]=n.trim())}})),e},r=function(){return Boolean(document.documentMode)&&document.documentMode>=10},c=function(e){return e.match(/^--.*/i)};t.a=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;if(c(e)&&r()){var l=n();t=l[e]}else t=window.getComputedStyle(a,null).getPropertyValue(e).replace(/^\s/,"");return t}},759:function(e,t,a){"use strict";var n=a(698),r=a(697),c=a(3),l=a.n(c),s=a(217),o=a(734),i=a(746),u=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(r.wb,null,l.a.createElement(r.u,{lg:12},l.a.createElement(r.j,null,l.a.createElement(r.n,null,l.a.createElement(r.wb,null,l.a.createElement(r.u,{xs:10},l.a.createElement("h4",{id:"traffic",className:"card-title mb-0"},void 0!=e.activeschool&&e.activeterm.hasOwnProperty("name")&&e.activeschool.name?e.activeschool.name:l.a.createElement("i",null,"Please select a school or consult the admin")),l.a.createElement("div",{className:"small text-muted"},l.a.createElement("strong",null,void 0!=e.activeterm&&e.activeterm.hasOwnProperty("name")&&e.activeterm.name?e.activeterm.name:l.a.createElement("span",null," Welcome",l.a.createElement("small",null,l.a.createElement("i",null," (No active term)")))))),l.a.createElement(r.u,{className:"d-md-block btn-group"},l.a.createElement(r.g,{className:"pull-right"},l.a.createElement(r.f,{color:"primary",className:"",onClick:function(){return e.toggleMenu()}},l.a.createElement("i",{className:"fa fa-search"}))))))))))};t.a=Object(s.b)((function(e){return{activeTerm:e.termReducer.activeTerm,user:e.userReducer}}),{getUserDatas:o.a,getUserSchools:o.b,getUserTerms:o.c,getUserdropdowns:o.d,settSchool:o.e,settTerm:o.f})((function(e){var t=Object(c.useState)(!1),a=Object(n.a)(t,2),s=a[0],d=a[1];Object(c.useEffect)((function(){var t=void 0!==e.user.activeschool&&e.user.activeschool.hasOwnProperty("id")&&parseInt(e.user.activeschool.id)>0?e.user.activeschool.id:"null",a={data:JSON.stringify({schoolid:t}),cat:"dropdowns",table:"access",narration:"get all dropdowns"};e.getUserdropdowns(a);var n={data:JSON.stringify({schoolid:t}),cat:"accessterms",table:"access",narration:"get current term"};e.getUserTerms(n)}),[e.user.mid,e.user.activeschool]),Object(c.useEffect)((function(){var t={data:JSON.stringify({schools:e.user.myschools.join(",")}),cat:"schoolaccess",table:"schools",narration:"get all schools"};e.getUserSchools(t)}),[e.user.mid,e.user.myschools]),Object(c.useEffect)((function(){var t={data:JSON.stringify({sessionid:e.user.activeterm.sessionid,termid:e.user.activeterm.termid,staffid:e.user.mid}),cat:"dataaccess",table:"access",narration:"get all schools"};Object(o.a)(t)}),[e.user.mid,e.user.activeterm]);var m=e.user.dropdowns&&Array.isArray(e.user.dropdowns)?e.user.dropdowns:[[],[]],f=function(t){e.settSchool(t)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(u,{activeterm:e.user.activeterm,activeschool:e.user.activeschool,schools:e.user.mySchoolData,changeSchool:function(e){return f(e)},toggleMenu:function(){d((function(e){return!e}))}}),l.a.createElement(r.v,{show:s},l.a.createElement(i.a,{dropdowns:m,schools:e.user.mySchoolData,changeSchool:function(e){return f(e)},changeTerm:function(t){return function(t){e.settTerm(t)}(t)}})))}))},762:function(e,t,a){"use strict";var n=a(225),r=a(3),c=a.n(r),l=a(819),s=a(712),o=function(e){var t=e.backgroundColor,a=e.pointHoverBackgroundColor,r=e.dataPoints,o=e.label,i=(e.pointed,Object(n.a)(e,["backgroundColor","pointHoverBackgroundColor","dataPoints","label","pointed"])),u=[{data:r,backgroundColor:Object(l.a)(t),pointHoverBackgroundColor:Object(l.a)(a),label:o,barPercentage:.5,categoryPercentage:1}],d={maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]}};return c.a.createElement(s.a,Object.assign({},i,{type:"bar",datasets:u,options:d,labels:o}))};o.defaultProps={backgroundColor:"rgba(0,0,0,.2)",dataPoints:[10,22,34,46,58,70,46,23,45,78,34,12],label:"Sales"},t.a=o},785:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return m}));var n=a(700),r=a.n(n),c=a(67),l=a(6),s=l.b,o=function(e){return function(t,a){e.token=l.e,e.table="weeks",t({type:c.h}),r.a.get(s,{params:e},l.l).then((function(e){t({type:c.f,payload:e.data})})).catch((function(e){t({type:c.i,payload:e})}))}},i=function(e){return function(t,a){t({type:c.g,payload:e})}},u=function(e){return function(t,a){r.a.POST(s,{params:e},l.l).then((function(a){t({type:c.d,payload:e.id})})).catch((function(e){t({type:c.c,payload:e})}))}},d=function(e){return function(t){r.a.post(s,e,l.m).then((function(e){t({type:c.k,payload:e.data.data})})).catch((function(e){t({type:c.j,payload:e})}))}},m=function(e){return function(t,a){r.a.post(s,e,l.m).then((function(e){t({type:c.m,payload:e.data.data})})).catch((function(e){t({type:c.l,payload:e})}))}}},788:function(e,t,a){"use strict";var n=a(698),r=a(3),c=a.n(r),l=a(217),s=a(708),o=a(697);t.a=Object(l.b)((function(e){return{result:e.studentReducer.result,user:e.userReducer}}),{searchStudent:s.e})((function(e){var t=Object(r.useState)(),a=Object(n.a)(t,2),l=a[0],s=a[1],i=Object(r.useState)([]),u=Object(n.a)(i,2),d=u[0],m=u[1];Object(r.useEffect)((function(){void 0!==e.result&&Array.isArray(e.result)?m(e.result):m([])}),[e.result]),Object(r.useEffect)((function(){if(void 0!==l&&l.length>2){var t={data:JSON.stringify({search:l,schoolid:e.user.activeschool.id}),cat:"selected",table:"studentsearch",narration:"get all schools for access control"};e.searchStudent(t)}else m([])}),[l,e.user.activeschool.id]);var f=d.map((function(t,a){return c.a.createElement(o.fb,{key:a,target:"_blank",className:"m-0",onClick:function(){return e.studentx(t)},active:!0},c.a.createElement(o.wb,null,c.a.createElement(o.u,{xs:"2",className:"m-0"},c.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api/"+t.photo,style:{height:"40px",width:"40px"},height:"30px",alt:"profile-image",class:"profile",onError:function(e){e.target.onerror=null,e.target.src="/ems/icons/profile_1.png"}})),c.a.createElement(o.u,null,c.a.createElement("strong",null,t.name),c.a.createElement("br",null),c.a.createElement("small",null,t.admission_no))))}));return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.wb,{xs:12},c.a.createElement(o.u,{xs:12},c.a.createElement(o.K,null,c.a.createElement(o.S,{size:"md",className:"w-100",value:l,onChange:function(e){return s(e.target.value)},placeholder:" Search for students... Name or Admission number"})),c.a.createElement(o.j,{className:"mt-1",style:{display:"block",position:"absolute",zIndex:"101"}},c.a.createElement(o.eb,{style:{width:"300px"},onMouseLeave:function(){return m([])}},f)))))}))},800:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return d}));var n=a(700),r=a.n(n),c=a(63),l=a(6),s=l.c,o=function(e){return function(t,a){e.token=l.e,t({type:c.h}),r.a.get(s,{params:e},l.l).then((function(e){t({type:c.f,payload:e.data})})).catch((function(e){t({type:c.i,payload:e})}))}},i=function(e,t){return function(a,n){r.a.post(s,e,l.m).then((function(e){a({type:c.d,payload:t})})).catch((function(e){a({type:c.c,payload:e})}))}},u=function(e){return function(t){r.a.post(s,e,l.m).then((function(e){t({type:c.k,payload:e.data.data})})).catch((function(e){t({type:c.j,payload:e})}))}},d=function(e){return function(t,a){r.a.post(s,e,l.m).then((function(e){t({type:c.m,payload:e.data.data})})).catch((function(e){t({type:c.l,payload:e})}))}}},816:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,c=void 0;try{for(var l,s=e[Symbol.iterator]();!(n=(l=s.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(o){r=!0,c=o}finally{try{!n&&s.return&&s.return()}finally{if(r)throw c}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=a(3),c=i(r),l=i(a(119)),s=i(a(817)),o=i(a(818));function i(e){return e&&e.__esModule?e:{default:e}}var u={overflow:"hidden",position:"relative"};function d(e,t){return"\n    .react-stars-"+t+":before {\n      position: absolute;\n      overflow: hidden;\n      display: block;\n      z-index: 1;\n      top: 0; left: 0;\n      width: 50%;\n      content: attr(data-forhalf);\n      color: "+e+";\n  }"}function m(e){var t=(0,r.useState)(""),a=n(t,2),l=a[0],i=a[1],m=(0,r.useState)(0),f=n(m,2),p=f[0],b=f[1],E=(0,r.useState)([]),h=n(E,2),y=h[0],g=h[1],v=(0,r.useState)(!1),j=n(v,2),S=j[0],O=j[1],k=(0,s.default)(e),w=n(k,2),N=w[0],x=w[1],C=(0,r.useState)(0),I=n(C,2),F=I[0],A=I[1],_=(0,r.useState)(!1),T=n(_,2),z=T[0],P=T[1],R=(0,r.useState)(""),L=n(R,2),M=L[0],B=L[1];function D(e){"undefined"===typeof e&&(e=N.isHalf?Math.floor(p):Math.round(p));for(var t=[],a=0;a<N.count;a++)t.push({active:a<=e-1});return t}function H(e){if(N.edit){var t=Number(e.currentTarget.getAttribute("data-index"));if(N.isHalf){var a=U(e);P(a),a&&(t+=1),A(t)}else t+=1;!function(e){var t=y.filter((function(e){return e.active}));e!==t.length&&g(D(e))}(t)}}function U(e){var t=e.target.getBoundingClientRect(),a=e.clientX-t.left;return(a=Math.round(Math.abs(a)))>t.width/2}function W(){N.edit&&(J(p),g(D()))}function J(e){N.isHalf&&(P(function(e){return e%1===0}(e)),A(Math.floor(e)))}function K(e){if(N.edit){var t=Number(e.currentTarget.getAttribute("data-index")),a=void 0;if(N.isHalf){var n=U(e);P(n),n&&(t+=1),a=n?t:t+.5,A(t)}else a=t+=1;V(a)}}function V(t){t!==p&&(g(D(t)),b(t),e.onChange(t))}return(0,r.useEffect)((function(){var t,a;!function(){var t="react-stars";B(e.classNames+" "+t)}(),t=e.value,a=e.count,b(t<0||t>a?0:t),g(D(e.value)),x(e),i((Math.random()+"").replace(".","")),O(function(e){return!e.isHalf&&e.emptyIcon&&e.filledIcon||e.isHalf&&e.emptyIcon&&e.halfIcon&&e.filledIcon}(e)),A(Math.floor(e.value)),P(e.isHalf&&e.value%1<.5)}),[]),c.default.createElement("div",{className:"react-stars-wrapper-"+l,style:{display:"flex"}},c.default.createElement("div",{tabIndex:N.a11y&&N.edit?0:null,"aria-label":"add rating by typing an integer from 0 to 5 or pressing arrow keys",onKeyDown:function(e){if(N.a11y||N.edit){var t=e.key,a=p,n=Number(t);n?Number.isInteger(n)&&n>0&&n<=N.count&&(a=n):("ArrowUp"===t||"ArrowRight"===t)&&a<N.count?(e.preventDefault(),a+=N.isHalf?.5:1):("ArrowDown"===t||"ArrowLeft"===t)&&a>.5&&(e.preventDefault(),a-=N.isHalf?.5:1),J(a),V(a)}},className:M,style:u},N.isHalf&&function(){return c.default.createElement("style",{dangerouslySetInnerHTML:{__html:S?(e=N.activeColor,"\n          span.react-stars-half > * {\n          color: "+e+";\n      }"):d(N.activeColor,l)}});var e}(),y.map((function(e,t){return c.default.createElement(o.default,{key:t,index:t,active:e.active,config:N,onMouseOver:H,onMouseLeave:W,onClick:K,halfStarHidden:z,halfStarAt:F,isUsingIcons:S,uniqueness:l})})),c.default.createElement("p",{style:{position:"absolute",left:"-200rem"},role:"status"},p)))}m.propTypes={classNames:l.default.string,edit:l.default.bool,half:l.default.bool,value:l.default.number,count:l.default.number,char:l.default.string,size:l.default.number,color:l.default.string,activeColor:l.default.string,emptyIcon:l.default.element,halfIcon:l.default.element,filledIcon:l.default.element,a11y:l.default.bool},m.defaultProps={edit:!0,half:!1,value:0,count:5,char:"\u2605",size:15,color:"gray",activeColor:"#ffd700",a11y:!0,onChange:function(){}},t.default=m},817:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,c=void 0;try{for(var l,s=e[Symbol.iterator]();!(n=(l=s.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(o){r=!0,c=o}finally{try{!n&&s.return&&s.return()}finally{if(r)throw c}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=(0,r.useState)(e.count),a=n(t,2),c=a[0],l=a[1],s=(0,r.useState)(e.size),o=n(s,2),i=o[0],u=o[1],d=(0,r.useState)(e.char),m=n(d,2),f=m[0],p=m[1],b=(0,r.useState)(e.color),E=n(b,2),h=E[0],y=E[1],g=(0,r.useState)(e.activeColor),v=n(g,2),j=v[0],S=v[1],O=(0,r.useState)(e.isHalf),k=n(O,2),w=k[0],N=k[1],x=(0,r.useState)(e.edit),C=n(x,2),I=C[0],F=C[1],A=(0,r.useState)(e.emptyIcon),_=n(A,2),T=_[0],z=_[1],P=(0,r.useState)(e.halfIcon),R=n(P,2),L=R[0],M=R[1],B=(0,r.useState)(e.filledIcon),D=n(B,2),H=D[0],U=D[1],W=(0,r.useState)(e.a11y),J=n(W,2),K=J[0],V=J[1];return[{count:c,size:i,char:f,color:h,activeColor:j,isHalf:w,edit:I,emptyIcon:T,halfIcon:L,filledIcon:H,a11y:K},function(e){l(e.count),u(e.size),p(e.char),y(e.color),S(e.activeColor),N(e.isHalf),F(e.edit),z(e.emptyIcon),M(e.halfIcon),U(e.filledIcon),V(e.a11y)}]};var r=a(3)},818:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(e){var t=e.index,a=e.active,r=e.config,c=e.onMouseOver,o=e.onMouseLeave,i=e.onClick,u=e.halfStarHidden,d=e.halfStarAt,m=e.isUsingIcons,f=e.uniqueness,p=r.color,b=r.activeColor,E=r.size,h=r.char,y=r.isHalf,g=r.edit,v=r.halfIcon,j=r.emptyIcon,S=r.filledIcon,O="",k=!1;y&&!u&&d===t&&(O=m?"react-stars-half":"react-stars-"+f,k=!0);var w=n({},s,{color:a?b:p,cursor:g?"pointer":"default",fontSize:E+"px"});return l.default.createElement("span",{className:O,style:w,key:t,"data-index":t,"data-forhalf":S?t:h,onMouseOver:c,onMouseMove:c,onMouseLeave:o,onClick:i},m?a?S:!a&&k?v:j:h)};var r,c=a(3),l=(r=c)&&r.__esModule?r:{default:r};var s={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"}},819:function(e,t,a){"use strict";var n=a(752);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,a="--".concat(e),r=Object(n.a)(a,t);return r||e}},823:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return m}));var n=a(700),r=a.n(n),c=a(62),l=a(6),s=l.c,o=function(e){return function(t,a){e.token=l.e,t({type:c.h}),r.a.get(s,{params:e},l.l).then((function(e){t({type:c.f,payload:e.data})})).catch((function(e){t({type:c.i,payload:e})}))}},i=function(e){return function(t,a){t({type:c.g,payload:e})}},u=function(e){return function(t,a){r.a.POST(s,{params:e},l.l).then((function(a){t({type:c.d,payload:e.id})})).catch((function(e){t({type:c.c,payload:e})}))}},d=function(e){return function(t){r.a.post(s,e,l.m).then((function(e){t({type:c.k,payload:e.data.data})})).catch((function(e){t({type:c.j,payload:e})}))}},m=function(e){return function(t,a){r.a.post(s,e,l.m).then((function(e){t({type:c.m,payload:e.data.data})})).catch((function(e){t({type:c.l,payload:e})}))}}},848:function(e,t,a){"use strict";var n=a(698),r=a(3),c=a.n(r),l=a(217),s=a(715),o=a(697),i=(a(1),a(707)),u=a(761),d=a.n(u),m=a(24),f=a(699),p=a(6),b=[{id:1,name:"First"},{id:2,name:"Second"},{id:3,name:"Third"},{id:4,name:"Alternative/Obsolete"}],E=Object(l.b)((function(e){return{themes:e.themeReducer,user:e.userReducer,claszs:e.claszReducer.claszs}}),{registerTheme:s.e,updateTheme:s.f,deleteTheme:s.a,getClaszs:i.c})((function(e){var t=e.pid,a=(Object(m.h)().search.match(/page=([0-9]+)/,""),Object(r.useState)(null)),l=Object(n.a)(a,2),s=l[0],i=l[1],u=Object(r.useState)(""),E=Object(n.a)(u,2),h=E[0],y=E[1],g=Object(r.useState)(""),v=Object(n.a)(g,2),j=v[0],S=v[1],O=Object(r.useState)(""),k=Object(n.a)(O,2),w=k[0],N=k[1],x=Object(r.useState)(),C=Object(n.a)(x,2),I=C[0],F=C[1],A=Object(r.useState)(),_=Object(n.a)(A,2),T=_[0],z=_[1],P=Object(r.useState)(""),R=Object(n.a)(P,2),L=R[0],M=R[1],B=Object(r.useState)([]),D=Object(n.a)(B,2),H=D[0],U=D[1],W=Object(r.useState)([]),J=Object(n.a)(W,2),K=J[0],V=J[1],X=Object(r.useState)([]),q=Object(n.a)(X,2),Y=q[0],G=q[1],Q=Object(r.useState)(""),Z=Object(n.a)(Q,2),$=(Z[0],Z[1],Object(r.useState)("")),ee=Object(n.a)($,2),te=(ee[0],ee[1],Object(r.useState)("")),ae=Object(n.a)(te,2);ae[0],ae[1];Object(r.useEffect)((function(){var t={data:JSON.stringify({typeid:e.school.typeid}),cat:"select",table:"claszs",narration:"get claszs"};e.getClaszs(t)}),[t,e.school.typeid]),Object(r.useEffect)((function(){if(void 0!==e.data&&parseInt(e.data.id)>0){var t=e.data;i(t.id),y(t.moduleid),S(t.name),N(t.topic),F(t.claszid),z(t.termid),U(t.objective),G(t.material),V(t.content),Object(p.w)("nf-claszid",t.claszid);var a,n=b.filter((function(e){return e.id===t.termid}));a=Array.isArray(n)&&n.length>0?n[0].name:"",M(a)}else i(null),y(null),S(""),F(""),U(""),G(""),V("")}),[e.data]);var ne=(e.claszs&&Array.isArray(e.claszs)?e.claszs:[]).filter((function(e){return null!==e})).map((function(e,t){return c.a.createElement("option",{key:t,value:e.id},e.name)})),re=b.filter((function(e){return null!==e})).map((function(e,t){return c.a.createElement("option",{key:t,value:e.id},e.name)}));return c.a.createElement(o.u,{xl:12,style:{width:"500px"},id:"#formz"},c.a.createElement(o.j,null,c.a.createElement(o.n,{id:"traffic",className:"card-title mb-0"},c.a.createElement(o.wb,null,c.a.createElement(o.u,{sm:"6"},c.a.createElement("h4",null,s&&parseInt(s)>0?"Edit":"Add"," ",c.a.createElement("br",null),c.a.createElement("small",null," Scheme of Work"))),c.a.createElement(o.u,{sm:"6",className:"d-md-block"},c.a.createElement(o.f,{color:"danger",onClick:e.onClose,className:"float-right"},c.a.createElement("i",{className:"fa fa-remove"}))))),c.a.createElement(o.k,null,c.a.createElement(o.J,{action:"",method:"post"},c.a.createElement(o.a,{color:"danger",value:10*Number(400),size:"sm",className:"mb-3"},c.a.createElement("h4",{className:"alert-heading"},"Warning"),c.a.createElement("p",null,"If you duplicate the MODULEID for a particular subject your entry would not be saved. Do ensure that your MODULE ID is serial")),c.a.createElement(o.K,null,c.a.createElement(o.cb,{htmlFor:"nf-module"},"ModuleID"),c.a.createElement(o.S,{type:"number",id:"nf-module",module:"modulez",value:h,onChange:function(e){return y(e.target.value)},placeholder:"00"}),c.a.createElement(o.L,{className:"help-block text-danger"},"This number has to be unique and serial if you duplicate this number for a particular subject it will not save")),c.a.createElement(o.K,null,c.a.createElement(o.cb,{htmlFor:"nf-name"},"Theme"),c.a.createElement(o.S,{type:"text",id:"nf-name",name:"namez",value:j,onChange:function(e){return S(e.target.value)},placeholder:"Matter"}),c.a.createElement(o.L,{className:"help-block"},"Please enter theme name")),c.a.createElement(o.K,null,c.a.createElement(o.cb,{htmlFor:"nf-claszid"},"Class "),c.a.createElement(o.xb,{type:"text",id:"nf-claszid",name:"claszid",defaultValue:I,onChange:function(e){return F(e.target.value)},placeholder:""},s&&parseInt(s)>0?c.a.createElement("option",{value:I},null!==e.data&&void 0!==e.data?e.data.claszname:""):c.a.createElement("option",null),ne),c.a.createElement(o.L,{className:"help-block"},"Select the class")),c.a.createElement(o.K,null,c.a.createElement(o.cb,{htmlFor:"nf-termid"},"Term"),c.a.createElement(o.xb,{type:"text",id:"nf-termid",name:"termid",defaultValue:T,onChange:function(e){return z(e.target.value)},placeholder:""},s&&parseInt(s)>0?c.a.createElement("option",{value:T},L):c.a.createElement("option",null),re),c.a.createElement(o.L,{className:"help-block"},"Select the term")),c.a.createElement(o.K,null,c.a.createElement(o.cb,{htmlFor:"nf-content"},"Lesson Content"),c.a.createElement(d.a,{data:K,type:"classic",config:{toolbar:[["Cut","Copy","Paste","PasteText","PasteFromWord","Undo","Redo","NumberedList","BulletedList","Bold","Italic","Underline","Strike","Subscript","Superscript","CopyFormatting","RemoveFormat"]]},onChange:function(e){return V(e.editor.getData())}}),c.a.createElement(o.L,{className:"help-block"},"Add or remove subtopics outline in order of presentation")),c.a.createElement(o.K,null,c.a.createElement(o.cb,{htmlFor:"nf-objective"},"Lesson Objectives"),c.a.createElement(d.a,{data:H,type:"classic",config:{toolbar:[["Cut","Copy","Paste","PasteText","PasteFromWord","Undo","Redo","NumberedList","BulletedList","Bold","Italic","Underline","Strike","Subscript","Superscript","CopyFormatting","RemoveFormat"]]},onChange:function(e){return U(e.editor.getData())}}),c.a.createElement(o.L,{className:"help-block"},"Add or remove lesson objectives")),c.a.createElement(o.K,null,c.a.createElement(o.cb,{htmlFor:"nf-material"},"Lesson Materials"),c.a.createElement(d.a,{data:Y,type:"classic",config:{toolbar:[["Cut","Copy","Paste","PasteText","PasteFromWord","Undo","Redo","NumberedList","BulletedList","Bold","Italic","Underline","Strike","Subscript","Superscript","CopyFormatting","RemoveFormat"]]},onChange:function(e){return G(e.editor.getData())}}),c.a.createElement(o.L,{className:"help-block"},"Add or remove Instruction Materials")))),c.a.createElement(o.l,null,c.a.createElement(o.f,{type:"submit",onClick:function(){if(j.length>0){var a=new FormData;a.append("name",j),a.append("topic",w),a.append("claszid",I),a.append("termid",T),a.append("moduleid",h),a.append("objective",H),a.append("material",Y),a.append("content",K),a.append("staffid",e.user.user.id),a.append("checker","A"+h+"_B"+t+"_C"+I),a.append("checker1","A"+h+"_B"+t),a.append("table","themes"),s&&parseInt(s)>0?(a.append("id",s),a.append("cat","update"),e.updateTheme(a)):t&&parseInt(t)>0&&(a.append("subjectid",t),a.append("cat","insert"),e.registerTheme(a))}},size:"sm",color:"primary"},c.a.createElement(f.a,{name:"cil-scrubber"})," Submit")," ",c.a.createElement(o.f,{type:"reset",onClick:e.onReset,size:"sm",color:"danger"},c.a.createElement(f.a,{name:"cil-ban"})," Reset"))))})),h={1:"First term",2:"Second term",3:"Third term",4:"Alternative/Obsolete"},y=Object(l.b)((function(e){return{themes:e.themeReducer}}),{getThemes:s.c,getTheme:s.b,registerTheme:s.e,updateTheme:s.f,deleteTheme:s.a})((function(e){Object(m.g)();var t=(e.data&&Array.isArray(e.data)?e.data.filter((function(e){return null!==e||void 0!==e})):[]).filter((function(e){return null!=e})).map((function(t,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",null,c.a.createElement("strong",null,"MODULE ",t.moduleid)," : ",c.a.createElement("span",{style:{textTransform:"uppercase"}}," ",t.name),c.a.createElement("br",null),c.a.createElement("strong",null,"CLASS")," : ",c.a.createElement("span",{style:{textTransform:"uppercase"}}," ",t.claszname,h[t.termid]),c.a.createElement(o.wb,null,c.a.createElement(o.u,{xs:12,sm:4},c.a.createElement("strong",null,"The lesson would be presented as follows"),c.a.createElement("div",{style:{whiteSpace:"pre-wraps"},dangerouslySetInnerHTML:{__html:t.content}})),c.a.createElement(o.u,{xs:12,sm:4},c.a.createElement("strong",null,"At the end of the lesson students should be able to"),c.a.createElement("div",{style:{whiteSpace:"pre-wraps"}},c.a.createElement("div",{style:{whiteSpace:"pre-wraps"},dangerouslySetInnerHTML:{__html:t.objective}}))),c.a.createElement(o.u,{xs:12,sm:4},c.a.createElement("strong",null,"Instructional Material"),c.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.material.replace(/(\r\n|\n|\r)/gm,"<br/>")}}))),c.a.createElement(o.wb,{className:"d-print-none"},c.a.createElement(o.u,null,c.a.createElement(o.b,{className:"mr-1",color:"primary"},"Primary"),c.a.createElement("button",{className:"btn btn-sm btn-link"},c.a.createElement("i",{className:"fa fa-bank text-success"})," Question Bank"),c.a.createElement("button",{onClick:function(){return e.onEdit(t)},className:"btn btn-sm btn-link"},c.a.createElement("i",{className:"fa fa-edit"})," Edit"),c.a.createElement("button",{onClick:function(){return e.onActivate(t.id,t.is_active)},className:"btn btn-sm btn-link text-mute"},c.a.createElement("i",{className:0===parseInt(t.is_active)?"fa fa-unlock text-success":"fa fa-lock text-danger"})," ",0===parseInt(t.is_active)?"Lock":"Unlock"),c.a.createElement("button",{onClick:function(){return e.onDelete(t)},className:"btn btn-sm btn-link"},c.a.createElement("i",{className:"fa fa-trash text-danger"})," Delete")))))}));return c.a.createElement("table",{className:"table table-hover table-outline mb-0  d-sm-table"},c.a.createElement("thead",{className:"thead-light"},c.a.createElement("tr",null,c.a.createElement("th",null,c.a.createElement("i",{className:"fa fa-list"})," Scheme Of Work"))),c.a.createElement("tbody",null,t))})),g=a(704);t.a=Object(l.b)((function(e){return{themes:e.themeReducer,subjects:e.subjectReducer.subjects}}),{getThemes:s.c,deleteTheme:s.a})((function(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),l=a[0],s=a[1],i=Object(r.useState)(""),u=Object(n.a)(i,2),d=u[0],m=u[1],f=Object(r.useState)({}),p=Object(n.a)(f,2),b=p[0],h=p[1];Object(r.useEffect)((function(){var t={data:JSON.stringify({subjectid:e.pid}),cat:"selected",table:"themes",narration:"get themes"};e.getThemes(t)}),[e.pid]);var v=e.subjects.filter((function(t){return parseInt(t.id)===parseInt(e.pid)})),j=v&&Array.isArray(v)&&v.length>0?v[0].name:"None",S=e.themes.themes&&Array.isArray(e.themes.themes)?e.themes.themes.filter((function(e){return null!==e||void 0!==e})):[];return c.a.createElement(o.wb,null,c.a.createElement(o.u,null,c.a.createElement(o.j,null,c.a.createElement(g.a,{pid:e.pid,icon:e.para.icon,title:j,school:e.school,toggle:function(){s(!l)}}),c.a.createElement(o.k,{className:"table-responsive"},c.a.createElement(y,{pid:e.pid,data:S,editer:!0,submenu:e.para.submenu,onEdit:function(e){return m((t=e).id),h(t),void s(!0);var t},onDelete:function(e){}})))),c.a.createElement(o.v,{show:l},c.a.createElement(E,{pid:e.pid,id:d,school:e.school,data:b,onReset:function(){m(null),h({})},onClose:function(e,t){s(!1)}})))}))}}]);
//# sourceMappingURL=23.e9923126.chunk.js.map