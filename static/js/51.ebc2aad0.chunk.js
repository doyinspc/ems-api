(this.webpackJsonpmesl=this.webpackJsonpmesl||[]).push([[51],{1080:function(e,t,a){"use strict";a.r(t);var n=a(698),l=a(3),r=a.n(l),c=a(217),m=a(702),s=a.n(m),o=a(708),u=a(24),i=a(712),d=a(697),E=a(699);t.default=Object(c.b)((function(e){return{students:e.studentReducer,user:e.userReducer}}),{getStudents:o.c,getStudent:o.b,registerStudent:o.d,updateStudent:o.f,deleteStudent:o.a})((function(e){var t=Object(u.g)(),a=Object(l.useState)(0),c=Object(n.a)(a,2),m=c[0],o=c[1];Object(l.useEffect)((function(){var t={data:JSON.stringify({schoolid:e.user.activeschool.id}),cat:"selected",table:"students",narration:"get all students"};e.getStudents(t)}),[]);for(var f=e.students.students&&Array.isArray(e.students.students)?e.students.students.filter((function(e){return null!==e||void 0!==e})):[],p=f.map((function(e,a){return r.a.createElement("tr",{key:a,onClick:function(){return t.push("/students/".concat(e.id))}},r.a.createElement("td",{className:"text-center"},a+1),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename))),r.a.createElement("td",null,e.g1_name.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,e.g1_name," (",r.a.createElement("i",null,e.g1_rel),") ",r.a.createElement("i",{className:"text-info",style:{textTransform:"capitalize"}},e.g1_place))," ",r.a.createElement("a",{href:"mailto:".concat(e.g1_phone1)},e.g1_phone1)," ",r.a.createElement("a",{href:"mailto:".concat(e.g1_phone2)},e.g1_phone2),r.a.createElement("a",{href:"mailto:".concat(e.g1_email)},e.g1_email)," ",e.g1_address):"",r.a.createElement("br",null),e.g2_name.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,e.g2_name," (",r.a.createElement("i",null,e.g2_rel),") ",r.a.createElement("i",{className:"text-info",style:{textTransform:"capitalize"}},e.g1_place))," ",r.a.createElement("a",{href:"mailto:".concat(e.g2_phone1)},e.g2_phone1)," ",r.a.createElement("a",{href:"mailto:".concat(e.g2_phone2)},e.g2_phone2),r.a.createElement("a",{href:"mailto:".concat(e.g2_email)},e.g2_email)," ",e.g2_address):""))})),b=(f.map((function(e,a){return r.a.createElement("tr",{key:a,onClick:function(){return t.push("/students/".concat(e.id))}},r.a.createElement("td",{className:"text-center"},a+1),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename))),r.a.createElement("td",null))})),f.map((function(e,t){return r.a.createElement(d.j,{key:t,className:"mx-3 ",style:{width:"140px",height:"200px"}},r.a.createElement(d.n,{className:"m-0 text-center"},r.a.createElement("b",{style:{textTransform:"capitalize"}},e.admission_no)),r.a.createElement(d.k,{className:"m-0 p-0 ",style:{height:"160px"}},r.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api/"+e.photo,className:"m-0 p-0",width:"100%",height:"160px",alt:e.admission_no,onError:function(e){e.target.onerror=null,e.target.src="/ems/avatars/1.jpg"}})),r.a.createElement("div",{className:"m-2",style:{backgroundColor:"rgba(0,0,0,0)"}},r.a.createElement("span",{style:{textTransform:"capitalize",fontSize:"18px",color:"white",fontWeight:"bolder"}}," ",e.surname," ",e.firstname," ",e.middlename)))}))),g=f.map((function(e,a){return r.a.createElement("tr",{key:a,onClick:function(){return t.push("/students/".concat(e.id))}},r.a.createElement("td",{className:"text-center"},r.a.createElement("div",{className:"c-avatar"},r.a.createElement("img",{src:"http://127.0.0.1/ems/ems-api/api/"+e.photo,className:"c-avatar-img",alt:e.admission_no,onError:function(e){e.target.onerror=null,e.target.src="/ems/avatars/1.jpg"}}),r.a.createElement("span",{className:"c-avatar-status ".concat("Male"===e.gender?"bg-success":"bg-danger")}))),r.a.createElement("td",null,r.a.createElement("div",null,"".concat(e.surname," ").concat(e.firstname," ").concat(e.middlename)),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,e.abbrv,e.admission_no))),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Date of Birth"),": ",r.a.createElement("strong",null,s()(e.dob).format("Do MMM, YYYY"))),r.a.createElement("div",{className:"small text-muted"},r.a.createElement("span",null,"Age (Years)"),": ",r.a.createElement("strong",null,s()().diff(e.dob,"years")))),r.a.createElement("td",null,r.a.createElement("div",{className:"small text-muted ",style:{textTransform:"capitalize"}},e.soo),r.a.createElement("strong",{style:{textTransform:"capitalize"}},e.lga)),r.a.createElement("td",null,r.a.createElement("div",{className:"text-muted ",style:{textTransform:"capitalize"}},e.gender)))})),h=f.filter((function(e){return"Female"===e.gender})),y=f.filter((function(e){return"Male"===e.gender})),x={},v=0;v<f.length;v++)f[v].departmentid in x?x[f[v].departmentid]++:x[f[v].departmentid]=1;var N={};for(v=0;v<f.length;v++)f[v].religion in N?N[f[v].religion]++:N[f[v].religion]=1;var F={};for(v=0;v<f.length;v++)f[v].gender in F?F[f[v].gender]++:F[f[v].gender]=1;var k={};for(v=0;v<f.length;v++)f[v].soo in k?k[f[v].soo]++:k[f[v].soo]=1;var j={};for(v=0;v<f.length;v++){var _=new Date(f[v].dob).getFullYear(),w=Math.round((new Date).getFullYear()-_);w in j?j[w]++:j[w]=1}return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.wb,null,r.a.createElement(d.u,{xs:"12",md:"12",className:"mb-4"},r.a.createElement(d.j,null,r.a.createElement(d.n,null,r.a.createElement(d.wb,null,r.a.createElement(d.u,{sm:"5"},r.a.createElement("h4",{id:"traffic",className:"card-title mb-0"},"Students List"),r.a.createElement("div",{className:"small text-muted"},e.user.activeschool.namw)),r.a.createElement(d.u,{sm:"7",className:"d-md-block"},r.a.createElement(d.f,{"data-target":"#formz","data-toggle":"collapse",color:"primary",className:"float-right"},r.a.createElement(E.a,{name:"cil-cloud-download"}))))),r.a.createElement(d.k,null,r.a.createElement(d.Kb,{activeTab:m,onActiveTabChange:function(e){return o(e)}},r.a.createElement(d.lb,{variant:"tabs"},r.a.createElement(d.mb,null,r.a.createElement(d.nb,null,r.a.createElement(E.a,{name:"cil-calculator"}),0===m&&" Bio-data")),r.a.createElement(d.mb,null,r.a.createElement(d.nb,null,r.a.createElement(E.a,{name:"cil-chart-pie"}),1===m&&" Chart")),r.a.createElement(d.mb,null,r.a.createElement(d.nb,null,r.a.createElement(E.a,{name:"cil-map"}),2===m&&" Next Of Kin")),r.a.createElement(d.mb,null,r.a.createElement(d.nb,null,r.a.createElement(E.a,{name:"cil-image"}),3===m&&" Gallery"))),r.a.createElement(d.Ib,null,r.a.createElement(d.Jb,null,r.a.createElement("table",{className:"table table-hover table-outline mb-0 d-none d-sm-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},r.a.createElement(E.a,{name:"cil-people"})),r.a.createElement("th",null,"Student"),r.a.createElement("th",{className:"text-center"},"Dates"),r.a.createElement("th",null,"Origin"),r.a.createElement("th",null,"Gender"))),r.a.createElement("tbody",null,g))),r.a.createElement(d.Jb,null,r.a.createElement("br",null),r.a.createElement(d.wb,{className:"mt-20 py-90"},r.a.createElement(d.u,{xs:"12",sm:"6",lg:"4"},r.a.createElement(d.Vb,{text:"Male",header:y.length,color:"success",iconPadding:!1},r.a.createElement(E.a,{width:24,name:"cil-user",className:"mx-5"}))),r.a.createElement(d.u,{xs:"12",sm:"6",lg:"4"},r.a.createElement(d.Vb,{text:"Female",header:h.length,color:"danger",iconPadding:!1},r.a.createElement(E.a,{width:24,name:"cil-user-female",className:"mx-5"}))),r.a.createElement(d.u,{xs:"12",sm:"6",lg:"4"},r.a.createElement(d.Vb,{text:"Total Student",header:y.length+h.length,color:"info",iconPadding:!1},r.a.createElement("i",{className:"fa fa-users fa-2x mx-5"})))),r.a.createElement(d.wb,null,r.a.createElement(d.u,{xs:"12",sm:"12",md:"6"},r.a.createElement(d.j,null,r.a.createElement(d.n,null,"Gender"),r.a.createElement(d.k,null,r.a.createElement(i.d,{type:"pie",datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:Object.values(F)}],labels:Object.keys(F),options:{tooltips:{enabled:!0}}})))),r.a.createElement(d.u,{xs:"12",sm:"12",md:"6"},r.a.createElement(d.j,null,r.a.createElement(d.n,null,"Religion"),r.a.createElement(d.k,null,r.a.createElement(i.d,{type:"pie",datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:Object.values(N)}],labels:Object.keys(N),options:{tooltips:{enabled:!0}}}))))),r.a.createElement(d.wb,null,r.a.createElement(d.u,{xs:"12",sm:"12",md:"12"},r.a.createElement(d.j,null,r.a.createElement(d.n,null,"Age Distrubution"),r.a.createElement(d.k,null,r.a.createElement(i.a,{type:"barchart",datasets:[{backgroundColor:["#41B883","#E46651","#045800","#4AB883","#E96651","#09E0FF","#DD1116","#096651","#19E0FF","#296651","#39E0FF","#41B23","#E22651","#045800","#22B883","#226651","#55E0FF","#551116","#09aa51","#19bbFF","#29CC51","#39DDFF"],data:Object.values(j)}],labels:Object.keys(j),options:{tooltips:{enabled:!0}}}))))),r.a.createElement(d.wb,null,r.a.createElement(d.u,{xs:"12",sm:"12",md:"12"},r.a.createElement(d.j,null,r.a.createElement(d.n,null,"State of Origin"),r.a.createElement(d.k,null,r.a.createElement(i.a,{type:"barchart",datasets:[{backgroundColor:["#41B883","#E46651","#045800","#4AB883","#E96651","#09E0FF","#DD1116","#096651","#19E0FF","#296651","#39E0FF","#41B23","#E22651","#045800","#22B883","#226651","#55E0FF","#551116","#09aa51","#19bbFF","#29CC51","#39DDFF"],data:Object.values(k)}],labels:Object.keys(k),options:{tooltips:{enabled:!0}}})))))),r.a.createElement(d.Jb,null,r.a.createElement("table",{className:"table table-hover table-outline mb-0 d-none d-sm-table"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Student ID"),r.a.createElement("th",null,"Fullname"),r.a.createElement("th",{className:"text-center"},"Guardian/Contact"))),r.a.createElement("tbody",null,p))),r.a.createElement(d.Jb,null,r.a.createElement(d.wb,{className:"d-flex flex-wrap justify-content-center"},b)))))))))}))},698:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(219);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,l=!1,r=void 0;try{for(var c,m=e[Symbol.iterator]();!(n=(c=m.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(s){l=!0,r=s}finally{try{n||null==m.return||m.return()}finally{if(l)throw r}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},708:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return d})),a.d(t,"f",(function(){return E}));var n=a(700),l=a.n(n),r=a(37),c=a(6),m=c.b,s=function(e){return function(t,a){e.token=c.e,e.table="students",t({type:r.j}),l.a.get(m,{params:e},c.l).then((function(e){t({type:r.g,payload:e.data})})).catch((function(e){t({type:r.k,payload:e})}))}},o=function(e){return function(t,a){t({type:r.j}),l.a.get(m,{params:e},c.l).then((function(e){t({type:r.i,payload:e.data})})).catch((function(e){t({type:r.k,payload:e})}))}},u=function(e){return function(t,a){t({type:r.h,payload:e})}},i=function(e){return function(t,a){l.a.POST(m,{params:e},c.l).then((function(a){t({type:r.d,payload:e.id})})).catch((function(e){t({type:r.c,payload:e})}))}},d=function(e){return function(t){l.a.post(m,e,c.m).then((function(e){t({type:r.m,payload:e.data.data})})).catch((function(e){t({type:r.l,payload:e})}))}},E=function(e){return function(t,a){l.a.post(m,e,c.m).then((function(e){t({type:r.o,payload:e.data.data})})).catch((function(e){t({type:r.n,payload:e})}))}}}}]);
//# sourceMappingURL=51.ebc2aad0.chunk.js.map